(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{163:function(t,e,i){"use strict";var n={props:{src:{type:String,default:""},width:{type:Number},height:{type:Number},alt:{type:String},hasBg:{type:Boolean,default:!1}},methods:{loadCallback:function(){this.$emit("report")}}},o=(i(180),i(25)),r=Object(o.a)(n,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bfs-img-wrap",class:{hasBg:this.hasBg}},[e("BImg",{staticClass:"bfs-img",attrs:{src:this.src,alt:this.alt,loading:!1,"format-options":{w:this.width,h:this.height,c:!0}},on:{load:this.loadCallback}})],1)}),[],!1,null,"6e0fbb41",null);e.a=r.exports},164:function(t,e,i){"use strict";var n=i(4),o=i.n(n),r={props:{appid:{},extinfo:{}},data:function(){return{template:'\n        <style>\n          * {\n            -webkit-tap-highlight-color: transparent !important;\n          }\n          * {\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n          }\n        </style>\n        <div class="template"></div>\n      '}},methods:{onReady:function(){this.$el.isReady=!0,this.$emit("ready"),window.performanceReport&&window.performanceReport("wxtag_ready")},onClick:function(t){(t.target.isReady||Date.now()-window.pageLoadTime<1e3)&&t.stopPropagation()}}},s=(i(178),i(25)),a=Object(s.a)(r,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("wx-open-launch-app",{staticClass:"wx-open-app-btn",attrs:{appid:t.appid,extinfo:t.extinfo},on:{click:t.onClick,launch:function(e){return t.$emit("launch",e)},error:function(e){return t.$emit("error",e)},ready:t.onReady}},[i("script",{attrs:{type:"text/wxtag-template"},domProps:{innerHTML:t._s(t.template)}})])}),[],!1,null,null,null).exports,c=i(18),p=i(40),u=i(1),l=i(165),d=i(26);function h(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function f(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?h(Object(i),!0).forEach((function(e){o()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var m={components:{WxOpenApp:a},props:{tag:{type:String,default:"div"},type:{},id:{},aid:{},bvid:{},extra:{},spmid:{},directJump:{},preloadWxtag:{},additions:{},directSchema:{},disableClipboard:{},disableUniversal:Boolean,mute:{type:Boolean,default:!1},reportMsg:{type:Object,default:null},autoReport:{type:Boolean,default:!1}},computed:f(f({},Object(c.c)({info:function(t){return t.video.viewInfo},p:function(t){return t.video.p},currentTime:function(t){return t.video.currentTime},isWxTagLaunch:function(t){return t.common.isWxTagLaunch},abtest:function(t){return t.common.abtest},keyword:function(t){return t.video.keyword||t.search.keyword},trigglePlay:function(t){return t.video.trigglePlay},isNewOpenid:function(t){return t.video.isNewOpenid},isNewIpua:function(t){return t.video.isNewIpua}})),{},{expParams:function(){var t,e,i=this.abtest,n=i.h5_android_download_method,o=i.h5_ios_download_method,r=/\/video\//.test(this.$route.path),s="1"===(null===(t=this.$route)||void 0===t||null===(e=t.query)||void 0===e?void 0:e.forceHit);return{isHitIos:s||1==o&&r,isHitAndroid:s||1==n&&r}},duration:function(){var t=this.info.pages;return t&&0!==t.length?t[this.p-1].duration:0},extraType:function(){if("video"===this.type&&this.id===this.info.aid&&("story"===this.$route.query["-Atype"]||"story"===this.$route.query["-Arouter"])){if(""===this.extra)return"-Arouter=story&source=web";var t=this.extra.split("&");return t.push("-Arouter=story"),t.push("source=web"),t.join("&")}return this.extra},schema:function(){return Object(p.d)({type:this.type,id:this.id,extra:this.extraType,spmid:this.realSpmid})},extinfo:function(){return this.directSchema?this.directSchema:p.e?Object(p.c)(this.openAppParams):this.schema},realSpmid:function(){if(this.spmid)return this.spmid.split(".").length>=4?this.spmid:"".concat(Object(d.a)()||this.$route.meta.spmPrefix,".click.").concat(this.spmid)},openAppParams:function(){var t;return{id:this.id,bvid:this.bvid,type:this.type,extra:this.extraType,spmid:this.realSpmid,duration:this.duration,currentTime:this.currentTime,disableClipboard:this.disableClipboard,disableUniversal:this.disableUniversal,expParams:this.expParams,addition:Object.assign({item_label:"article"===this.type||"dyn"===this.type?"dynamic":"",is_story_play:null===(t=this.info)||void 0===t?void 0:t.is_story_play},this.additions)}}}),data:function(){return{loaded:!1}},mounted:function(){this.loaded=!0,this.$on("open-app",this.report)},methods:{openApp:function(t){if(!this.mute&&(this.$emit("click",t),this.$emit("open-app",t),l.a.$emit("openAppGuiderShow"),!this.directJump))if(this.directSchema)Object(p.h)(this.directSchema);else{var e=this.$route.name;"zhihu"!==window.uaSource||"video"!==this.type||"avVideo"!==e&&"bvVideo"!==e?Object(p.g)(this.openAppParams):l.a.$emit("showQrDialog",{spmid:this.realSpmid,aid:this.aid,bvid:this.bvid,extra:this.extraType})}},wxLaunch:function(){this.$customReportH5("click","wxOpenTagSuccess",{schema:this.schema}),this.$emit("open-app")},wxError:function(){this.$customReportH5("click","wxOpenTagFail",{schema:this.schema}),this.$emit("open-app"),Object(p.g)(this.openAppParams)},report:function(){if(this.$customReportH5("click","openApp",{item_id:this.id,avid:this.id,cid:window.player?window.videoCid:"",unique_k:Object(u.q)("unique_k"),share_from:"story"===Object(u.q)("-Atype")||"story"===Object(u.q)("-Arouter")?"story":"",from_spmid:this.realSpmid,awake_spmid:this.realSpmid}),this.autoReport&&this.spmid){var t=this.spmid.split("."),e=t[t.length-1];e&&this.$customReportH5("click",e,this.reportMsg)}}}},b=(i(179),Object(s.a)(m,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return"div"===t.tag?i("div",{staticClass:"launch-app-btn",on:{click:function(e){return e.stopPropagation(),t.openApp.apply(null,arguments)}}},[t._t("default"),t._v(" "),t.mute||!t.isWxTagLaunch||t.directJump||!t.preloadWxtag&&!t.loaded?t._e():i("WxOpenApp",{staticClass:"wx-open-app-btn",attrs:{appid:"wxcb8d4298c6a09bcb",extinfo:t.extinfo,spmid:t.realSpmid,aid:t.id},on:{launch:t.wxLaunch,error:function(e){return t.wxError(e)},ready:function(e){return t.$emit("wxtagready")}}})],2):i("span",{staticClass:"launch-app-btn",on:{click:function(e){return e.stopPropagation(),t.openApp.apply(null,arguments)}}},[t._t("default"),t._v(" "),t.mute||!t.isWxTagLaunch||t.directJump||!t.preloadWxtag&&!t.loaded?t._e():i("WxOpenApp",{staticClass:"wx-open-app-btn",attrs:{appid:"wxcb8d4298c6a09bcb",extinfo:t.extinfo,spmid:t.realSpmid,aid:t.id},on:{launch:t.wxLaunch,error:function(e){return t.wxError(e)},ready:function(e){return t.$emit("wxtagready")}}})],2)}),[],!1,null,null,null));e.a=b.exports},165:function(t,e,i){"use strict";var n=new(i(3).default);e.a=n},166:function(t,e,i){"use strict";var n=i(4),o=i.n(n),r=i(18);function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function a(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach((function(e){o()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var c={components:{OpenApp:i(164).a},props:{spmid:{},reportMsg:{},autoReport:{},preloadWxtag:{},disableClipboard:{}},computed:a(a({},Object(r.c)({info:function(t){return t.video.viewInfo},p:function(t){return t.video.p},currentTime:function(t){return t.video.currentTime},playState:function(t){return t.video.playState},isTab3:function(t){return t.video.isTab3}})),{},{extra:function(){var t,e,i,n="page=".concat(this.p-1);!(this.currentTime>0)||"play"!==this.playState&&"pause"!==this.playState||null!==(t=this.info.rights)&&void 0!==t&&t.is_stein_gate||null!==(e=this.info.rights)&&void 0!==e&&e.ugc_pay||(n+="&start_progress=".concat(parseInt(1e3*this.currentTime))),"season"===this.$route.query.share_from&&(n+="&auto_float_layer=3");var o=(null===(i=this.info)||void 0===i?void 0:i.is_story_play)||0;return n+="&is_story_play=".concat(o),n},additions:function(){var t,e={is_story_play:(null===(t=this.info)||void 0===t?void 0:t.is_story_play)||0};return e},openType:function(){return this.isTab3?"tab3video":"video"}})},p=i(25),u=Object(p.a)(c,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("OpenApp",t._g({attrs:{type:t.openType,id:t.info.aid,bvid:t.info.bvid,extra:t.extra,spmid:t.spmid,autoReport:t.autoReport,reportMsg:t.reportMsg,preloadWxtag:t.preloadWxtag,disableClipboard:t.disableClipboard,additions:t.additions}},t.$listeners),[t._t("default")],2)}),[],!1,null,null,null);e.a=u.exports},169:function(t,e,i){},170:function(t,e,i){},171:function(t,e,i){},177:function(t,e,i){"use strict";var n=i(18),o=i(4),r=i.n(o),s=i(164),a=i(166),c=i(163),p=i(5),u=i(40),l=i(29);function d(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function h(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?d(Object(i),!0).forEach((function(e){r()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var f={components:{BfsImg:c.a,OpenApp:s.a,OpenAppVideo:a.a},props:{bussinessId:{},type:{},additions:{},disableClipboard:{type:Boolean,default:!1},showFace:{type:Boolean,default:!0},showSearch:{type:Boolean,default:!0}},data:function(){return{directDownload:!1,env:l.a}},computed:h(h({},Object(n.c)({userInfo:function(t){return t.common.userInfo}})),{},{spmid:function(){return"".concat(this.$route.meta.spmPrefix,".click.topDownload")}}),methods:h(h({},Object(n.b)("common",["setUserInfo"])),{},{openApp:function(){this.$customReportH5("click","topDownload"),this.directDownload&&Object(u.b)()},fetchUserInfo:function(){var t=this;Object(p.L)().then((function(e){0===(null==e?void 0:e.code)?t.setUserInfo(e.data):t.setUserInfo({isLogin:!1,face:"",uname:""})}))},report:function(t){this.$customReportH5("click",t)},goToSpace:function(){this.$router.push({path:"/space",query:{from:"headline"}})},handleLogin:function(){var t=location.href;location.replace("//passport.bilibili.com/login?gourl=".concat(encodeURIComponent(t)))}}),mounted:function(){var t=this;setTimeout((function(){t.$customReportH5("show","search"),t.$customReportH5("show","myzone"),t.$customReportH5("show","home"),t.$customReportH5("show","topDownload")}),1e3),this.fetchUserInfo(),/zhihu/i.test(navigator.userAgent)&&(this.directDownload=!0)}},m=(i(383),i(25)),b=Object(m.a)(f,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"m-navbar"},[t.env&&"prod"!==t.env?i("div",{staticClass:"push-env"},[t._v(t._s(t.env))]):t._e(),t._v(" "),i("VLink",{staticClass:"logo",attrs:{to:{path:"/"},href:"https://m.bilibili.com/",title:"哔哩哔哩(B站)官网"},nativeOn:{"!click":function(e){return t.report("home")}}},[i("BfsImg",{staticClass:"img logo-img",attrs:{src:"//s1.hdslb.com/bfs/static/jinkela/long/mstation/logo-bilibili-pink.png",width:66,height:30,alt:"bilibili官网"}})],1),t._v(" "),i("div",{staticClass:"right"},[t.showSearch?i("VLink",{staticClass:"search",attrs:{to:{path:"/search"}},nativeOn:{"!click":function(e){return t.report("search")}}},[i("i",{staticClass:"iconfont ic_search_tab"})]):t._e(),t._v(" "),t.showFace?i("div",{staticClass:"face",on:{"!click":function(e){return t.report("myzone")}}},[t.userInfo&&t.userInfo.isLogin?i("BfsImg",{staticClass:"img",attrs:{src:t.userInfo.face,width:24,height:24},nativeOn:{click:function(e){return t.goToSpace.apply(null,arguments)}}}):i("div",{staticClass:"login",on:{click:t.handleLogin}},[t._v("登录")])],1):t._e(),t._v(" "),"video"!==t.type||this.directDownload?i("OpenApp",{staticClass:"m-nav-openapp",attrs:{id:t.bussinessId||0,type:t.type||"index",directJump:t.directDownload,extra:"",spmid:t.spmid,additions:t.additions,disableClipboard:t.disableClipboard},on:{"open-app":t.openApp}},[i("div",{staticClass:"open-app-img"},[t._v("下载 App")])]):i("OpenAppVideo",{staticClass:"m-nav-openapp",attrs:{spmid:t.spmid,disableClipboard:t.disableClipboard},on:{"open-app":t.openApp}},[i("div",{staticClass:"open-app-img"},[t._v("下载 App")])])],1)],1)}),[],!1,null,"66144086",null).exports,v=i(10);function g(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function y(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?g(Object(i),!0).forEach((function(e){r()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):g(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var O={props:{fixed:{type:Boolean}},data:function(){return{env:l.a}},computed:y(y({},Object(n.c)({teenager:function(t){return t.common.teenager}})),{},{isHome:function(){return"home"===this.$route.name||"channelView"===this.$route.name||"subChannel"===this.$route.name}}),methods:{report:function(t,e){this.$customReport(t),this.$customReportH5("click",t),this.$router.push(e)},back:function(){this.$router.back()},goConfig:function(){Object(v.e)()}}},w=(i(384),{components:{Navigator:b,TinyNav:Object(m.a)(O,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"nav-bar",class:{fixed:t.fixed}},[i("div",{staticClass:"m-navbar"},[t.env&&"prod"!==t.env?i("div",{staticClass:"push-env"},[t._v(t._s(t.env))]):t._e(),t._v(" "),t.isHome?i("a",{staticClass:"logo"},[i("i",{staticClass:"iconfont Navbar_logo"})]):i("a",{staticClass:"icon icon-back",on:{click:t.back}}),t._v(" "),i("div",{staticClass:"right"},[t.teenager?t._e():i("a",{staticClass:"icon icon-search",on:{click:function(e){return t.report("search",{path:"/search"})}}}),t._v(" "),i("a",{staticClass:"icon icon-config",on:{click:t.goConfig}})])])])}),[],!1,null,"2aa871ee",null).exports,NoCallAppNav:i(380).a},computed:Object(n.c)({isTinyApp:function(t){return t.common.tinyApp},noCallApp:function(t){return t.common.noCallApp}})}),_=Object(m.a)(w,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isTinyApp?i("TinyNav",t._g(t._b({},"TinyNav",t.$attrs,!1),t.$listeners)):t.noCallApp?i("NoCallAppNav"):i("Navigator",t._g(t._b({},"Navigator",t.$attrs,!1),t.$listeners))}),[],!1,null,null,null);e.a=_.exports},178:function(t,e,i){"use strict";i(169)},179:function(t,e,i){"use strict";i(170)},180:function(t,e,i){"use strict";i(171)},214:function(t,e,i){},215:function(t,e,i){},216:function(t,e,i){},380:function(t,e,i){"use strict";var n=i(4),o=i.n(n),r=i(163),s=i(18),a=i(29),c=i(5);function p(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function u(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?p(Object(i),!0).forEach((function(e){o()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):p(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var l={data:function(){return{env:a.a}},computed:u({},Object(s.c)({userInfo:function(t){return t.common.userInfo}})),methods:u(u({},Object(s.b)("common",["setUserInfo"])),{},{fetchUserInfo:function(){var t=this;Object(c.L)().then((function(e){0===(null==e?void 0:e.code)?t.setUserInfo(e.data):t.setUserInfo({isLogin:!1,face:"",uname:""})}))},report:function(t){this.$customReportH5("click",t)},goToSpace:function(){this.$router.push({path:"/space",query:{from:"headline"}})},handleLogin:function(){var t=location.href;location.replace("//passport.bilibili.com/login?gourl=".concat(encodeURIComponent(t)))}}),mounted:function(){this.$customReportH5("show","search"),this.$customReportH5("show","myzone"),this.$customReportH5("show","home"),this.fetchUserInfo()},components:{BfsImg:r.a}},d=(i(385),i(25)),h=Object(d.a)(l,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"m-navbar no-call-app"},[t.env&&"prod"!==t.env?i("div",{staticClass:"push-env"},[t._v(t._s(t.env))]):t._e(),t._v(" "),i("VLink",{staticClass:"logo",attrs:{to:{path:"/"},href:"https://m.bilibili.com/",title:"哔哩哔哩(B站)官网"},nativeOn:{"!click":function(e){return t.report("home")}}},[i("BfsImg",{staticClass:"img logo-img",attrs:{src:"//s1.hdslb.com/bfs/static/jinkela/long/mstation/logo-bilibili-pink.png",width:66,height:30,alt:"bilibili官网"}})],1),t._v(" "),i("div",{staticClass:"right"},[i("VLink",{staticClass:"search",attrs:{to:{path:"/search"}},nativeOn:{"!click":function(e){return t.report("search")}}},[i("i",{staticClass:"iconfont ic_search_tab"})]),t._v(" "),i("div",{staticClass:"face",on:{"!click":function(e){return t.report("myzone")}}},[t.userInfo&&t.userInfo.isLogin?i("BfsImg",{staticClass:"img",attrs:{src:t.userInfo.face,width:24,height:24},on:{click:t.goToSpace}}):i("div",{staticClass:"login",on:{click:t.handleLogin}},[t._v("登录")])],1)],1)],1)}),[],!1,null,"3da5fec1",null);e.a=h.exports},383:function(t,e,i){"use strict";i(214)},384:function(t,e,i){"use strict";i(215)},385:function(t,e,i){"use strict";i(216)}}]);