(window.webpackJsonp=window.webpackJsonp||[]).push([[7],Array(167).concat([function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n(39),o=n(165),r=function(t){var e=t.title,n=t.imgUrl,r=t.desc,s=t.link,a=t.success;Object(i.initOAuthSDK)({debug:!1,appId:"wx8be72568ff217c00",jsApiList:["showOptionMenu","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","onMenuShareQZone"],openTagList:["wx-open-launch-app"]}).then((function(){n&&!/^https?:/.test(n)&&(n="http:"+n);var t={title:e,imgUrl:n,desc:r,link:s,success:a};o.a.$emit("weixinReady"),window.weixinReady=!0,window.weixinReadyTime=Date.now(),window.wx.onMenuShareTimeline(t),window.wx.onMenuShareAppMessage(t),window.wx.onMenuShareQQ(t),window.wx.onMenuShareWeibo(t),window.wx.onMenuShareQZone(t)}))}},,,,,function(t,e,n){"use strict";var i=n(4),o=n.n(i),r=n(163),s=n(18);function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var l={props:{dark:{type:Boolean}},data:function(){return{show:!1}},computed:c(c({},Object(s.c)({keyword:function(t){return t.video.keyword}})),{},{topIcon:function(){return this.dark?"//i0.hdslb.com/bfs/static/jinkela/long/mstation/story/ic_top.png":"//i0.hdslb.com/bfs/static/jinkela/long/mstation/gotop.png"}}),methods:{toTop:function(){this.$customReportH5("click","toTopBtn"),window.scrollTo(0,0)},judgeShow:function(){this.show=window.scrollY>300}},mounted:function(){var t=this;this.judgeShow(),window.addEventListener("scroll",(function(){t.judgeShow()}))},components:{BfsImg:r.a}},u=(n(186),n(25)),p=Object(u.a)(l,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{directives:[{name:"show",rawName:"v-show",value:this.show,expression:"show"}],staticClass:"play-page-gotop",on:{click:this.toTop,gesturestart:function(t){t.preventDefault()}}},[e("BfsImg",{staticClass:"img-top",attrs:{src:this.topIcon}})],1)}),[],!1,null,"92fdeab2",null);e.a=p.exports},,function(t,e,n){},,,,,,,function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return s}));var i=n(3),o=i.default.observable({});function r(t){i.default.set(o,t,!0)}function s(t){i.default.set(o,t,!1)}},,,function(t,e,n){},,function(t,e,n){"use strict";n(174)},,function(t,e,n){"use strict";var i=n(4),o=n.n(i),r=n(5),s=n(164),a=n(200),c=n(163),l=n(18);function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var d={components:{SingleCardItem:a.a,OpenApp:s.a,BfsImg:c.a},props:{reason:{type:String,default:""},from:{}},data:function(){return{videoReason:""}},computed:p(p({},Object(l.c)({aid:function(t){return t.video.aid},bvid:function(t){return t.video.bvid},errorRecord:function(t){return t.common.errorRecord},tinyApp:function(t){return t.common.tinyApp}})),{},{list:function(){return function(t){return t.map((function(t){return{aid:t.aid,bvid:t.bvid,cid:t.cid,pic:t.pic,title:t.title,duration:t.duration,owner:{mid:t.mid,name:t.author},stat:{coin:t.coins,view:t.play,danmaku:t.video_review}}}))}(this.errorRecord||[])},showReason:function(){return this.tinyApp?this.videoReason||this.reason||"您访问的".concat("video"===this.from?"稿件":"页面","不见了/(ToT)/~~"):this.reason||"您访问的页面不见了/(ToT)/~~"}}),methods:{checkSpecial404:function(){var t=this,e="av",n=this.aid;n||(e="bv",n=this.bvid),Object(r.G)(n,e).then((function(e){0===(null==e?void 0:e.code)&&e.data&&(t.tinyApp?t.videoReason=e.data.content:location.replace("//www.bilibili.com/h5/special-404/".concat(e.data.aid)))}))},goHome:function(){this.$router.replace("/")}},mounted:function(){"video"===this.from&&this.checkSpecial404()},beforeMount:function(){document.body.style.background="#f4f4f4"},beforeDestroy:function(){document.body.style.background=""}},f=(n(210),n(25)),v=Object(f.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-error-page"},[n("div",{staticClass:"error-info"},[n("BfsImg",{staticClass:"img-error",attrs:{src:"//s1.hdslb.com/bfs/static/jinkela/long/mstation/404.png"}}),t._v(" "),n("div",{staticClass:"reason"},[n("p",[t._v(t._s(t.showReason))]),t._v(" "),n("p",[t._v(t._s(t.tinyApp?"去首页继续探索吧":"尝试去客户端继续探索"))])]),t._v(" "),n("div",{staticClass:"launch-app-btn"},[t.tinyApp?n("button",{on:{click:t.goHome}},[t._v("去首页看更多")]):n("OpenApp",{attrs:{id:0,type:"index"}},[n("button",[t._v("下载客户端")])])],1)],1),t._v(" "),t.list.length>0?n("h2",{staticClass:"reco-title"},[t._v("视频推荐")]):t._e(),t._v(" "),n("div",{staticClass:"reco-list"},t._l(t.list,(function(t,e){return n("SingleCardItem",{key:e,attrs:{info:t}})})),1),t._v(" "),!t.tinyApp&&t.list.length>0?n("OpenApp",{attrs:{id:0,type:"index"}},[n("div",{staticClass:"bottom-open-app"},[t._v("\n      没有更多了-去客户端看看？\n    ")])]):t._e()],1)}),[],!1,null,"01ecb004",null);e.a=v.exports},function(t,e,n){"use strict";n(184)},,,,function(t,e,n){},,,,function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";var i,o=n(3),r={props:{content:{},duration:{type:Number}},data:function(){return{visible:!1}},methods:{destroyElement:function(){this.$destroy(!0),this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)},startTimer:function(){var t=this;this.duration>0&&(this.timer=setTimeout((function(){t.visible=!1,t.destroyElement()}),this.duration))}},mounted:function(){this.startTimer()}},s=(n(189),n(25)),a=Object(s.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"reply-toast-fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:this.visible,expression:"visible"}],staticClass:"reply-toast"},[this._v(this._s(this.content))])])}),[],!1,null,null,null).exports,c=o.default.extend(a);e.a=function(t){var e=document.querySelector(".reply-toast");e&&document.body.removeChild(e);var n=function(t){return(i=new c({propsData:t})).vm=i.$mount(),i.vm}("string"==typeof t?{content:t,duration:2e3}:{content:t.content,duration:t.duration||2e3});return document.body.appendChild(n.$el),n.visible=!0,n}},,function(t,e,n){"use strict";var i=n(4),o=n.n(i),r=n(18),s=n(166),a=n(164),c=n(181),l=n(165);function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var d={components:{OpenAppVideo:s.a,OpenApp:a.a},props:{openAppOptions:{type:Object,default:function(){return{type:"video"}}},reportExtra:{type:Object,default:function(){return{}}}},data:function(){return{open:!1}},computed:p(p({},Object(r.c)({abtest:function(t){return t.common.abtest},tinyApp:function(t){return t.common.tinyApp},keyword:function(t){return t.video.keyword},trigglePlay:function(t){return t.video.trigglePlay},ua:function(t){return t.common.ua},bsource:function(t){return t.video.bsource}})),{},{isLimited:function(){return/MicroMessenger|wxwork|Weibo/i.test(this.ua)||/qzone\/.*_qz_([\d.]+)/i.test(this.ua)||/QQ\/([\d\.]+)/i.test(this.ua)||-1!==["search_google","bddj"].indexOf(this.bsource)}}),mounted:function(){var t=this;this.isShow(),l.a.$on("openAppDialogShow",(function(){t.isShow()}))},methods:{isShow:function(){var t=this;c.c.h5_pv_lahuo_popup||this.isLimited||this.tinyApp?(l.a.$emit("openAppDialogHide"),l.a.$emit("cautionDialogShow")):(this.open=!0,Object(c.b)("h5_pv_lahuo_popup"),setTimeout((function(){t.$customReportH5("show","visitFirstAwakePopup",t.reportExtra)}),500),setTimeout((function(){t.open=!1}),4e3),this.$watch("open",(function(){setTimeout((function(){l.a.$emit("openAppDialogHide"),l.a.$emit("cautionDialogShow")}),300)})))},close:function(){this.open=!1},report:function(){this.$customReportH5("click","visitFirstAwakePopup",this.reportExtra)}}},f=(n(206),n(25)),v=Object(f.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"openapp-dialog large",on:{touchstart:function(t){t.stopPropagation()}}},[n("transition",{attrs:{name:"fade"}},[t.open?n("div",{staticClass:"openapp-mask"}):t._e()]),t._v(" "),n("transition",{attrs:{name:"slide"}},[t.open?n("div",{staticClass:"openapp-content"},[n("div",{staticClass:"dialog-nav"},[n("div",{staticClass:"dialog-close",on:{click:t.close}}),t._v(" "),n("div",{staticClass:"dialog-title"},[t._v("浏览方式"),n("span",{staticClass:"tip"},[t._v("（推荐使用）")])])]),t._v(" "),n("div",{staticClass:"dialog-content"},[n("div",{staticClass:"logo"}),t._v(" "),n("div",{staticClass:"info"},[n("div",{staticClass:"info-title"},[t._v("哔哩哔哩")]),t._v(" "),n("div",{staticClass:"info-slogan"},[t._v("你感兴趣的视频都在B站")])]),t._v(" "),n("div",{staticClass:"btn-container"},[n("div",{staticClass:"icon"}),t._v(" "),"video"===t.openAppOptions.type?n("OpenAppVideo",{staticClass:"openapp-btn",attrs:{spmid:"visitFirstAwakePopup"},on:{"open-app":t.report}},[t._v("打开")]):n("OpenApp",t._b({staticClass:"openapp-btn",on:{"open-app":t.report}},"OpenApp",Object.assign({},{spmid:"visitFirstAwakePopup"},t.openAppOptions),!1),[t._v("\n            打开\n          ")])],1)])]):t._e()])],1)}),[],!1,null,"394de4dc",null);e.a=v.exports},function(t,e,n){"use strict";var i=n(6),o=n.n(i),r=n(4),s=n.n(r),a=n(2),c=n.n(a),l=n(3),u=n(18),p=n(10),d=n(199);function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var h=l.default.observable({status:"",progress:0}),m={computed:v(v({},Object(u.c)({abtest:function(t){return t.common.abtest}})),{},{status:function(){return h.status},progress:function(){return h.progress},d:function(){var t=this.progress/100*2*Math.PI*8;return"".concat(t,",100")}}),data:function(){return{config:{text:"升级至完整版B站，尽享高清视频",upgradeText:"点击升级，立享1080P高清视频"}}},methods:{upgrade:function(){this.$customReportH5("click","update"),Object(p.h)((function(t){"1"===t.event?h.status="downloaded":"2"===t.event?(h.status="downloading",h.progress=t.progress):"3"===t.event&&(h.status="undownload",Object(d.a)("下载失败，请稍后再试"))}))},getConfig:function(){var t=this;return o()(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h.status?t.$customReportH5("show","update_button"):t.isApkReady();case 1:case"end":return e.stop()}}),e)})))()},isApkReady:function(){return o()(c.a.mark((function t(){var e;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(p.b)();case 2:e=t.sent,h.status=e?"downloaded":"undownload";case 4:case"end":return t.stop()}}),t)})))()}},mounted:function(){this.getConfig()}},b=(n(211),n(25)),y=Object(b.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.status?n("div",{staticClass:"upgrade"},["undownload"===t.status||"downloaded"===t.status?n("div",{staticClass:"upgrade-float",on:{click:t.upgrade}},[n("i",{staticClass:"bili-icon"}),t._v(" "),n("span",[t._v(t._s("undownload"===t.status?t.config.text:t.config.upgradeText))])]):n("div",{staticClass:"upgrade-float small"},[n("svg",{staticClass:"load-icon",attrs:{viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("circle",{attrs:{opacity:"0.3",cx:"9",cy:"9",r:"8",stroke:"white","stroke-width":"1.5"}}),t._v(" "),n("circle",{attrs:{cx:"9",cy:"9",r:"8",stroke:"white","stroke-width":"1.5","stroke-dasharray":t.d}})]),n("span",[t._v("已升级 "+t._s(t.progress)+"%")])])]):t._e()}),[],!1,null,null,null);e.a=y.exports},,,,function(t,e,n){"use strict";n(193)},,,,function(t,e,n){"use strict";n(197)},function(t,e,n){"use strict";n(198)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},,function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},,,,,,,,,,,,,,,,,,function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n(251)},function(t,e,n){"use strict";n(252)},function(t,e,n){"use strict";n(253)},function(t,e,n){"use strict";n(254)},function(t,e,n){"use strict";n(255)},,function(t,e,n){"use strict";n(257)},function(t,e,n){"use strict";n(258)},function(t,e,n){"use strict";n(259)},function(t,e,n){"use strict";n(260)},,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n(278)},function(t,e,n){"use strict";n(279)},function(t){t.exports=JSON.parse('{"v":"5.7.1","fr":30,"ip":0,"op":20,"w":36,"h":36,"nm":"合成 1","ddd":0,"assets":[{"id":"comp_0","layers":[{"ddd":0,"ind":1,"ty":4,"nm":"形状图层 3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[3,33,0],"ix":2},"a":{"a":0,"k":[2,6,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ty":"rc","d":1,"s":{"a":1,"k":[{"i":{"x":[0.667,0.667],"y":[1,1]},"o":{"x":[0.333,0.333],"y":[0,0]},"t":0,"s":[6,12]},{"i":{"x":[0.667,0.667],"y":[1,1]},"o":{"x":[0.333,0.333],"y":[0,0]},"t":10,"s":[6,28]},{"t":20,"s":[6,12]}],"ix":2},"p":{"a":1,"k":[{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":0,"s":[0,0],"to":[0,-1.333],"ti":[0,0]},{"i":{"x":0.667,"y":1},"o":{"x":0.333,"y":0},"t":10,"s":[0,-8],"to":[0,0],"ti":[0,-1.333]},{"t":20,"s":[0,0]}],"ix":3},"r":{"a":0,"k":99,"ix":4},"nm":"矩形路径 1","mn":"ADBE Vector Shape - Rect","hd":false},{"ty":"st","c":{"a":0,"k":[0.611765005074,0.152940996955,0.690195958755,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":0,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"描边 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[1,1,1,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[2,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"矩形 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":20,"st":0,"bm":0}]}],"layers":[{"ddd":0,"ind":1,"ty":0,"nm":"形状图层 3 合成 1","refId":"comp_0","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[30,18,0],"ix":2},"a":{"a":0,"k":[3,18,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":6,"h":36,"ip":0,"op":5,"st":-15,"bm":0},{"ddd":0,"ind":2,"ty":0,"nm":"形状图层 3 合成 1","refId":"comp_0","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[30,18,0],"ix":2},"a":{"a":0,"k":[3,18,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":6,"h":36,"ip":5,"op":25,"st":5,"bm":0},{"ddd":0,"ind":3,"ty":0,"nm":"形状图层 3 合成 1","refId":"comp_0","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[18,18,0],"ix":2},"a":{"a":0,"k":[3,18,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":6,"h":36,"ip":0,"op":10,"st":-10,"bm":0},{"ddd":0,"ind":4,"ty":0,"nm":"形状图层 3 合成 1","refId":"comp_0","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[18,18,0],"ix":2},"a":{"a":0,"k":[3,18,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":6,"h":36,"ip":10,"op":20,"st":10,"bm":0},{"ddd":0,"ind":5,"ty":0,"nm":"形状图层 3 合成 1","refId":"comp_0","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[6,18,0],"ix":2},"a":{"a":0,"k":[3,18,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"w":6,"h":36,"ip":0,"op":20,"st":0,"bm":0}],"markers":[]}')},function(t,e,n){"use strict";n(280)},function(t,e,n){"use strict";n(281)},function(t,e,n){"use strict";n(282)},function(t,e,n){"use strict";n(283)},function(t,e,n){"use strict";n(284)},function(t,e,n){"use strict";n(285)},function(t,e,n){"use strict";n(286)},function(t,e,n){"use strict";n(287)},function(t,e,n){"use strict";n(288)},function(t,e,n){"use strict";n(289)},function(t,e,n){"use strict";n(290)},function(t,e,n){"use strict";n(291)},function(t,e,n){"use strict";n(292)},function(t,e,n){"use strict";n(293)},function(t,e,n){"use strict";n(294)},function(t,e,n){"use strict";n(295)},function(t,e,n){"use strict";n(296)},function(t,e,n){"use strict";n(297)},function(t,e,n){"use strict";n(298)},function(t,e,n){"use strict";n(299)},function(t,e,n){"use strict";n(300)},function(t,e,n){"use strict";n(301)},function(t,e,n){"use strict";n(302)},function(t,e,n){"use strict";n(303)},function(t,e,n){"use strict";n(304)},function(t,e,n){"use strict";n(305)},function(t,e,n){"use strict";n(306)},function(t,e,n){"use strict";n(307)},function(t,e,n){"use strict";n(308)},function(t,e,n){"use strict";n(309)},function(t,e,n){"use strict";n(310)},function(t,e,n){"use strict";n(311)},function(t,e,n){"use strict";n(312)},function(t,e,n){"use strict";n(313)},function(t,e,n){"use strict";n(314)},function(t,e,n){"use strict";n(315)},function(t,e,n){"use strict";n(316)},function(t,e,n){"use strict";n(317)},function(t,e,n){"use strict";n(318)},function(t,e,n){"use strict";n(319)},function(t,e,n){"use strict";n(320)},function(t,e,n){"use strict";n(321)},function(t,e,n){"use strict";n(322)},function(t,e,n){"use strict";n(323)},function(t,e,n){"use strict";n(324)},function(t,e,n){"use strict";n(325)},function(t,e,n){"use strict";n(326)},function(t,e,n){"use strict";n(327)},function(t,e,n){"use strict";n(328)},function(t,e,n){"use strict";n(329)},function(t,e,n){"use strict";n(330)},function(t,e,n){"use strict";n(331)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.r(e);var i=n(6),o=n.n(i),r=n(4),s=n.n(r),a=n(2),c=n.n(a),l=n(177),u=n(188),p=n(18),d=n(1),f=n(181),v=n(14),h=n.n(v),m=n(15),b=n.n(m);function y(t){this.mode=O.MODE_8BIT_BYTE,this.data=t}function g(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=new Array}y.prototype={getLength:function(t){return this.data.length},write:function(t){for(var e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)}},g.prototype={addData:function(t){var e=new y(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){if(this.typeNumber<1){var t=1;for(t=1;t<40;t++){for(var e=M.getRSBlocks(t,this.errorCorrectLevel),n=new L,i=0,o=0;o<e.length;o++)i+=e[o].dataCount;for(o=0;o<this.dataList.length;o++){var r=this.dataList[o];n.put(r.mode,4),n.put(r.getLength(),E.getLengthInBits(r.mode,t)),r.write(n)}if(n.getLengthInBits()<=8*i)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++)this.modules[n][i]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=g.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var n=-1;n<=7;n++)if(!(t+n<=-1||this.moduleCount<=t+n))for(var i=-1;i<=7;i++)e+i<=-1||this.moduleCount<=e+i||(this.modules[t+n][e+i]=0<=n&&n<=6&&(0==i||6==i)||0<=i&&i<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=i&&i<=4)},getBestMaskPattern:function(){for(var t=0,e=0,n=0;n<8;n++){this.makeImpl(!0,n);var i=E.getLostPoint(this);(0==n||t>i)&&(t=i,e=n)}return e},createMovieClip:function(t,e,n){var i=t.createEmptyMovieClip(e,n);this.make();for(var o=0;o<this.modules.length;o++)for(var r=1*o,s=0;s<this.modules[o].length;s++){var a=1*s;this.modules[o][s]&&(i.beginFill(0,100),i.moveTo(a,r),i.lineTo(a+1,r),i.lineTo(a+1,r+1),i.lineTo(a,r+1),i.endFill())}return i},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=E.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var n=0;n<t.length;n++){var i=t[e],o=t[n];if(null==this.modules[i][o])for(var r=-2;r<=2;r++)for(var s=-2;s<=2;s++)this.modules[i+r][o+s]=-2==r||2==r||-2==s||2==s||0==r&&0==s}},setupTypeNumber:function(t){for(var e=E.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var i=!t&&1==(e>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=i}for(n=0;n<18;n++){i=!t&&1==(e>>n&1);this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=i}},setupTypeInfo:function(t,e){for(var n=this.errorCorrectLevel<<3|e,i=E.getBCHTypeInfo(n),o=0;o<15;o++){var r=!t&&1==(i>>o&1);o<6?this.modules[o][8]=r:o<8?this.modules[o+1][8]=r:this.modules[this.moduleCount-15+o][8]=r}for(o=0;o<15;o++){r=!t&&1==(i>>o&1);o<8?this.modules[8][this.moduleCount-o-1]=r:o<9?this.modules[8][15-o-1+1]=r:this.modules[8][15-o-1]=r}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var n=-1,i=this.moduleCount-1,o=7,r=0,s=this.moduleCount-1;s>0;s-=2)for(6==s&&s--;;){for(var a=0;a<2;a++)if(null==this.modules[i][s-a]){var c=!1;r<t.length&&(c=1==(t[r]>>>o&1)),E.getMask(e,i,s-a)&&(c=!c),this.modules[i][s-a]=c,-1==--o&&(r++,o=7)}if((i+=n)<0||this.moduleCount<=i){i-=n,n=-n;break}}}},g.PAD0=236,g.PAD1=17,g.createData=function(t,e,n){for(var i=M.getRSBlocks(t,e),o=new L,r=0;r<n.length;r++){var s=n[r];o.put(s.mode,4),o.put(s.getLength(),E.getLengthInBits(s.mode,t)),s.write(o)}var a=0;for(r=0;r<i.length;r++)a+=i[r].dataCount;if(o.getLengthInBits()>8*a)throw new Error("code length overflow. ("+o.getLengthInBits()+">"+8*a+")");for(o.getLengthInBits()+4<=8*a&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(!1);for(;!(o.getLengthInBits()>=8*a||(o.put(g.PAD0,8),o.getLengthInBits()>=8*a));)o.put(g.PAD1,8);return g.createBytes(o,i)},g.createBytes=function(t,e){for(var n=0,i=0,o=0,r=new Array(e.length),s=new Array(e.length),a=0;a<e.length;a++){var c=e[a].dataCount,l=e[a].totalCount-c;i=Math.max(i,c),o=Math.max(o,l),r[a]=new Array(c);for(var u=0;u<r[a].length;u++)r[a][u]=255&t.buffer[u+n];n+=c;var p=E.getErrorCorrectPolynomial(l),d=new B(r[a],p.getLength()-1).mod(p);s[a]=new Array(p.getLength()-1);for(u=0;u<s[a].length;u++){var f=u+d.getLength()-s[a].length;s[a][u]=f>=0?d.get(f):0}}var v=0;for(u=0;u<e.length;u++)v+=e[u].totalCount;var h=new Array(v),m=0;for(u=0;u<i;u++)for(a=0;a<e.length;a++)u<r[a].length&&(h[m++]=r[a][u]);for(u=0;u<o;u++)for(a=0;a<e.length;a++)u<s[a].length&&(h[m++]=s[a][u]);return h};for(var O={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},w=1,_=0,C=3,j=2,P=0,k=1,A=2,D=3,S=4,x=5,T=6,I=7,E={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;E.getBCHDigit(e)-E.getBCHDigit(E.G15)>=0;)e^=E.G15<<E.getBCHDigit(e)-E.getBCHDigit(E.G15);return(t<<10|e)^E.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;E.getBCHDigit(e)-E.getBCHDigit(E.G18)>=0;)e^=E.G18<<E.getBCHDigit(e)-E.getBCHDigit(E.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return E.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,n){switch(t){case P:return(e+n)%2==0;case k:return e%2==0;case A:return n%3==0;case D:return(e+n)%3==0;case S:return(Math.floor(e/2)+Math.floor(n/3))%2==0;case x:return e*n%2+e*n%3==0;case T:return(e*n%2+e*n%3)%2==0;case I:return(e*n%3+(e+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new B([1],0),n=0;n<t;n++)e=e.multiply(new B([1,R.gexp(n)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case O.MODE_NUMBER:return 10;case O.MODE_ALPHA_NUM:return 9;case O.MODE_8BIT_BYTE:case O.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case O.MODE_NUMBER:return 12;case O.MODE_ALPHA_NUM:return 11;case O.MODE_8BIT_BYTE:return 16;case O.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case O.MODE_NUMBER:return 14;case O.MODE_ALPHA_NUM:return 13;case O.MODE_8BIT_BYTE:return 16;case O.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),n=0,i=0;i<e;i++)for(var o=0;o<e;o++){for(var r=0,s=t.isDark(i,o),a=-1;a<=1;a++)if(!(i+a<0||e<=i+a))for(var c=-1;c<=1;c++)o+c<0||e<=o+c||0==a&&0==c||s==t.isDark(i+a,o+c)&&r++;r>5&&(n+=3+r-5)}for(i=0;i<e-1;i++)for(o=0;o<e-1;o++){var l=0;t.isDark(i,o)&&l++,t.isDark(i+1,o)&&l++,t.isDark(i,o+1)&&l++,t.isDark(i+1,o+1)&&l++,0!=l&&4!=l||(n+=3)}for(i=0;i<e;i++)for(o=0;o<e-6;o++)t.isDark(i,o)&&!t.isDark(i,o+1)&&t.isDark(i,o+2)&&t.isDark(i,o+3)&&t.isDark(i,o+4)&&!t.isDark(i,o+5)&&t.isDark(i,o+6)&&(n+=40);for(o=0;o<e;o++)for(i=0;i<e-6;i++)t.isDark(i,o)&&!t.isDark(i+1,o)&&t.isDark(i+2,o)&&t.isDark(i+3,o)&&t.isDark(i+4,o)&&!t.isDark(i+5,o)&&t.isDark(i+6,o)&&(n+=40);var u=0;for(o=0;o<e;o++)for(i=0;i<e;i++)t.isDark(i,o)&&u++;return n+=10*(Math.abs(100*u/e/e-50)/5)}},R={glog:function(t){if(t<1)throw new Error("glog("+t+")");return R.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return R.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},$=0;$<8;$++)R.EXP_TABLE[$]=1<<$;for($=8;$<256;$++)R.EXP_TABLE[$]=R.EXP_TABLE[$-4]^R.EXP_TABLE[$-5]^R.EXP_TABLE[$-6]^R.EXP_TABLE[$-8];for($=0;$<255;$++)R.LOG_TABLE[R.EXP_TABLE[$]]=$;function B(t,e){if(null==t.length)throw new Error(t.length+"/"+e);for(var n=0;n<t.length&&0==t[n];)n++;this.num=new Array(t.length-n+e);for(var i=0;i<t.length-n;i++)this.num[i]=t[i+n]}function M(t,e){this.totalCount=t,this.dataCount=e}function L(){this.buffer=new Array,this.length=0}B.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),n=0;n<this.getLength();n++)for(var i=0;i<t.getLength();i++)e[n+i]^=R.gexp(R.glog(this.get(n))+R.glog(t.get(i)));return new B(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=R.glog(this.get(0))-R.glog(t.get(0)),n=new Array(this.getLength()),i=0;i<this.getLength();i++)n[i]=this.get(i);for(i=0;i<t.getLength();i++)n[i]^=R.gexp(R.glog(t.get(i))+e);return new B(n,0).mod(t)}},M.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],M.getRSBlocks=function(t,e){var n=M.getRsBlockTable(t,e);if(null==n)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var i=n.length/3,o=new Array,r=0;r<i;r++)for(var s=n[3*r+0],a=n[3*r+1],c=n[3*r+2],l=0;l<s;l++)o.push(new M(a,c));return o},M.getRsBlockTable=function(t,e){switch(e){case w:return M.RS_BLOCK_TABLE[4*(t-1)+0];case _:return M.RS_BLOCK_TABLE[4*(t-1)+1];case C:return M.RS_BLOCK_TABLE[4*(t-1)+2];case j:return M.RS_BLOCK_TABLE[4*(t-1)+3];default:return}},L.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var n=0;n<e;n++)this.putBit(1==(t>>>e-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var H=function(){return b()((function t(e){return h()(this,t),this.options=Object.assign({render:"canvas",width:256,height:256,typeNumber:-1,correctLevel:2,background:"#ffffff",foreground:"#000000"},e),this.initQrcode()}),[{key:"initQrcode",value:function(){return this.createCanvas()}},{key:"createCanvas",value:function(){var t=this.options,e=new g(t.typeNumber,t.correctLevel);e.addData(t.text),e.make();var n=document.createElement("canvas");n.width=t.width,n.height=t.height;for(var i=n.getContext("2d"),o=t.width/e.getModuleCount(),r=t.height/e.getModuleCount(),s=0;s<e.getModuleCount();s++)for(var a=0;a<e.getModuleCount();a++){i.fillStyle=e.isDark(s,a)?t.foreground:t.background;var c=Math.ceil((a+1)*o)-Math.floor(a*o),l=Math.ceil((s+1)*o)-Math.floor(s*o);i.fillRect(Math.round(a*o),Math.round(s*r),c,l)}return n}}])}(),V={props:{text:{type:String,default:"",required:!0},width:{type:Number,default:80},height:{type:Number,default:80},background:{type:String,default:"#fff"},foreground:{type:String,default:"#000"}},watch:{text:function(){this.createQrcode()}},mounted:function(){this.createQrcode()},methods:{createQrcode:function(){var t=new H({render:"canvas",text:this.text,width:this.width,height:this.height,background:this.background,foreground:this.foreground,correctLevel:0});this.$refs.qrcode.innerHTML="",this.$refs.qrcode.appendChild(t)}}},N=(n(420),n(25)),F=Object(N.a)(V,(function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"qrcode",staticClass:"m-qrcode"})}),[],!1,null,null,null).exports,U=n(163),q=n(166);function G(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function W(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?G(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Q={name:"need-charge-tip",mounted:function(){var t=this;setTimeout((function(){t.$customReportH5("show","charge-tip",{num:1})}),500)},computed:W(W({},Object(p.c)({elec:function(t){return t.video.elec},pic:function(t){return t.video.viewInfo.pic}})),{},{title:function(){var t,e;return(null===(t=this.elec)||void 0===t||null===(e=t.show_info.high_level)||void 0===e?void 0:e.title)||""},subtitle:function(){var t,e;return(null===(t=this.elec)||void 0===t||null===(e=t.show_info.high_level)||void 0===e?void 0:e.sub_title)||""},showButton:function(){var t,e;return(null===(t=this.elec)||void 0===t||null===(e=t.show_info.high_level)||void 0===e?void 0:e.show_button)||!1},buttonText:function(){var t,e;return(null===(t=this.elec)||void 0===t||null===(e=t.show_info.high_level)||void 0===e?void 0:e.button_text)||""},icon:function(){var t,e;return(null===(t=this.elec)||void 0===t||null===(e=t.show_info)||void 0===e?void 0:e.icon)||""}}),methods:{report:function(){this.$customReportH5("click","open-app-charge",{num:1})}},components:{BfsImg:U.a,OpenAppVideo:q.a}},z=(n(421),Object(N.a)(Q,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("OpenAppVideo",{staticClass:"cover-mask charge-tip",on:{"open-app":t.report}},[n("BfsImg",{staticClass:"poster",attrs:{src:t.pic,width:480,height:270}}),t._v(" "),n("div",{staticClass:"mask-top"}),t._v(" "),n("div",{staticClass:"mask-bottom"}),t._v(" "),n("div",{staticClass:"display-items"},[n("div",{staticClass:"txt"},[n("p",{staticClass:"title"},[t._v(t._s(t.title))]),t._v(" "),n("p",{staticClass:"desc"},[t._v(t._s(t.subtitle))])]),t._v(" "),t.showButton?n("div",{staticClass:"btn"},[n("BfsImg",{staticClass:"icon",attrs:{src:t.icon,width:18,height:18}}),t._v("\n      "+t._s(t.buttonText)+"\n    ")],1):t._e()])],1)}),[],!1,null,null,null).exports);function Y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function J(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Y(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var K={components:{Qrcode:F,BfsImg:U.a,OpenApp:q.a,NeedChargeTip:z},watch:{playUrlInfo:function(t){var e=this;if(t){if(window.player&&window.player.destroy(),window.BiliH5Player)return void this.initPlayer();Object(d.s)("".concat(this.playerUrl)).then((function(){e.initPlayer()}))}}},data:function(){return{bsource:"",showQrcode:!1,qrcodeFinish:!1}},computed:J(J({},Object(p.c)({bvid:function(t){return t.video.bvid},info:function(t){return t.video.viewInfo},p:function(t){return t.video.p},isClient:function(t){return t.video.isClient},playUrlInfo:function(t){return t.video.playUrlInfo},gameMode:function(t){return t.video.gameMode},abtest:function(t){return t.common.abtest},browser:function(t){return t.common.browser},showPlayBtn:function(t){return t.video.qrcodePlayBtnShow},tinyApp:function(t){return t.common.tinyApp},teenager:function(t){return t.common.teenager},userInfo:function(t){return t.common.userInfo},trigglePlay:function(t){return t.video.trigglePlay},bsourceStore:function(t){return t.video.bsource}})),{},{pic:function(){return this.info.pic},getRealBsource:function(){return this.bsourceStore||this.bsource||""},truePic:function(){return"".concat(Object(d.A)(this.info.pic),"@480w_270h_1c")},cid:function(){var t=this.info.pages;if(t&&0!==t.length)return t[this.p-1].cid},playUrl:function(){var t=this.playUrlInfo;if(t)return t&&t.length>0?Object(d.A)(t[0].url):""},playerUrl:function(){var t=Math.ceil(Date.now()/6e5);return"//s1.hdslb.com/bfs/static/player/main/html5/mplayer.js?v=".concat(t)},playerOptions:function(){var t,e,n,i,o=Number(null===(t=this.$route.query)||void 0===t?void 0:t.start_progress)||1e3*Number(null===(e=this.$route.query)||void 0===e?void 0:e.t)||0,r=Math.floor((o>=0?o:0)/1e3),s=((null===(n=this.$route.meta)||void 0===n?void 0:n.spmPrefix)||"0.0")+".0.0";return{type:3,aid:this.info.aid,bvid:this.info.bvid,cid:this.cid,readyPoster:this.truePic,readyVideoUrl:this.playUrl,readyDuration:this.info.duration,noRecommend:this.gameMode,callAppMode:!this.gameMode,spmid:s,showReturn:!0,webFull:this.isWebFull,danmaku:!(null!==(i=this.info.rights)&&void 0!==i&&i.is_stein_gate),t:r,mini:this.tinyApp,isTeenagers:this.teenager,test:JSON.stringify({fullScreenCallApp:this.fullScreenCallApp,allCallApp:this.coverOpenApp,playBthCallApp:this.playBtnOpenApp,playBthNoCallApp:this.playBtnNoOpenApp})}},loadPlayerScript:function(){return'\n        <script src="'.concat(this.playerUrl,'"><\/script>\n        <script type="text/javascript">\n          var options = ').concat(JSON.stringify(this.playerOptions),";\n          var player = new BPlayerMobile(options);\n          window.player = player\n          window.videoCid = ").concat(this.cid,"\n        <\/script>\n      ")},view:function(){return Object(d.k)(this.info.stat&&this.info.stat.view)||0},danmaku:function(){return Object(d.k)(this.info.stat&&this.info.stat.danmaku)||0},date:function(){return Object(d.i)(1e3*this.info.pubdate)},duration:function(){return Object(d.j)(this.info.duration)},qrcodeText:function(){return"https://m.bilibili.com/video/".concat(this.bvid,"?from=h5&spmid=333.401.show.player&bsource=").concat(this.bsource)},isWebFull:function(){return!!this.browser.zhihu},unpay:function(){var t,e,n=null===(t=this.info.goods_info)||void 0===t?void 0:t.some((function(t){return 1===t.category&&1===t.pay_stat}));return(null===(e=this.info.rights)||void 0===e?void 0:e.arc_pay)&&!(n||this.info.rights.free_watch)},needCharge:function(){var t,e;return(null===(t=this.info)||void 0===t?void 0:t.is_upower_exclusive)&&!(null!==(e=this.info)&&void 0!==e&&e.is_upower_play)},fullScreenCallApp:function(){return!(-1!==["bddj"].indexOf(this.getRealBsource))},coverOpenApp:function(){return!(this.browser.wxwork||-1!==["search_google","bddj"].indexOf(this.getRealBsource))},playBtnOpenApp:function(){return!(this.browser.wxwork||-1!==["search_google","bddj"].indexOf(this.getRealBsource))},playBtnNoOpenApp:function(){return this.browser.wxwork||-1!==["search_google","bddj"].indexOf(this.getRealBsource)}}),created:function(){this.showQrcode=this.browser.zhihu},beforeMount:function(){window.player&&this.bindPlayerstate()},mounted:function(){var t=this;setTimeout((function(){t.bsource=window.bsource,t.qrcodeFinish=!0}),1e3),this.isClient||this.setPlayerTest()},beforeDestroy:function(){this.setCurrentTime(0),this.setPlayState("init"),window.player&&window.player.destroy()},methods:J(J({},Object(p.b)("video",["setPlayState","setCurrentTime"])),{},{performanceReport:function(t){window&&window.performanceReport&&window.performanceReport(t)},bindPlayerstate:function(){var t=this;player.on("ready",(function(){t.setPlayState("ready")})),player.on("video_media_play",(function(){t.setPlayState("play")})),player.on("video_media_pause",(function(){t.setPlayState("pause")})),player.on("video_media_ended",(function(){t.setPlayState("end")})),player.on("video_media_time",(function(){t.setCurrentTime(player.getCurrentTime())})),player.on("video_media_first_play_success",(function(){t.$customReport("start_play"),t.$customReportH5("show","start_play",{start_play_type:0,soundSwitchStatus:1})})),player.on("video_media_loaded",(function(){window.performanceReport("video_loaded")})),player.on("restart_call_app",(function(){Object(f.b)("h5_replay_click")})),player.on("force_call_app_show",(function(){Object(f.b)("h5_playing_force_lahuo")}))},initPlayer:function(t){var e=this,n=J({},this.playerOptions);if(window.videoCid=this.cid,this.setCurrentTime(0),this.setPlayState("init"),setTimeout((function(){e.bindPlayerstate()}),200),t)return delete n.readyPoster,delete n.readyVideoUrl,delete n.readyDuration,void window.player.reload(n);var i=new BPlayerMobile(n);window.player=i},setPlayerTest:function(){var t,e,n=this.abtest,i=!f.c.h5_replay_click&&n.h5_replay_click||n.h5_replay_lahuo_popup,o=Number(n.h5_playing_force_lahuo)>=2,r=Number(n.h5_playing_lahuo_popup||n.h5_playing_force_lahuo),s=r>=2?.05*(r-2)+.2:0,a={};i&&(a.restartCallApp=!0),s&&(a.forceProgress=s),o&&(a.forceCallApp=o),null===(t=window.player)||void 0===t||null===(e=t.resetTest)||void 0===e||e.call(t,JSON.stringify(a))},play:function(){window.player&&window.player.play(),this.showQrcode=!1}})},X=(n(422),Object(N.a)(K,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-video-player"},[t.unpay||t.needCharge?t.needCharge?n("need-charge-tip",{key:"3"}):n("div",{key:"2",staticClass:"cover-mask pay-mask"},[n("BfsImg",{staticClass:"poster",attrs:{src:t.pic,width:480,height:270}}),t._v(" "),n("div",{staticClass:"mask"},[n("p",{staticClass:"normal-size"},[t._v("视频为付费视频，请前往App购买并观看")]),t._v(" "),void 0===t.userInfo.uname||t.userInfo.isLogin?t._e():n("p",{staticClass:"small-size"},[t._v("\n        如已购买，点击【登录】即可观看\n      ")])])],1):n("div",{key:"1",staticClass:"player-container"},[n("BfsImg",{staticClass:"pic",attrs:{src:t.pic,width:480,height:270},on:{report:function(e){return t.performanceReport("video")}}}),t._v(" "),n("div",{ref:"bofqi",staticClass:"player",attrs:{id:"bilibiliPlayer"}}),t._v(" "),t.isClient?t._e():n("div",{domProps:{innerHTML:t._s(t.loadPlayerScript)}})],1),t._v(" "),t.showQrcode?n("div",{staticClass:"cover-mask"},[n("BfsImg",{staticClass:"poster",attrs:{src:t.pic,width:480,height:270}}),t._v(" "),n("div",{staticClass:"mask"},[n("div",{staticClass:"qrcode"},[n("div",{staticClass:"img"},[t.qrcodeFinish?n("Qrcode",{attrs:{text:t.qrcodeText,width:120,height:120}}):t._e()],1),t._v(" "),t._m(0)]),t._v(" "),n("div",{staticClass:"video-info"},[n("div",{staticClass:"view-count"},[t._v(t._s(t.view)+"观看")]),t._v(" "),n("div",{staticClass:"view-count"},[t._v(t._s(t.danmaku)+"弹幕")]),t._v(" "),n("div",{staticClass:"view-count"},[t._v(t._s(t.duration))])]),t._v(" "),t.showPlayBtn?n("div",{staticClass:"play-btn",on:{click:t.play}},[n("svg",{attrs:{width:"54",height:"54",viewBox:"0 0 54 54",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[n("defs",[n("path",{attrs:{id:"pid-5-svgo-a",d:"M0 0h54v54H0z"}}),t._v(" "),n("path",{attrs:{d:"M35.469 5.41a2.699 2.699 0 012.85 2.077 1.895 1.895 0 01-.185 1.362c-.05.09-.108.171-.166.254l-.174.247-.351.493c-.472.654-.955 1.3-1.454 1.934l-.01.013a162.636 162.636 0 014.04.231l1.11.083.554.045.277.023.139.011.07.006.077.008a7.779 7.779 0 012.483.658 7.873 7.873 0 013.703 3.467c.408.76.688 1.589.826 2.44.02.105.031.212.046.319l.01.08.01.076.014.139.057.555.107 1.111c.068.741.129 1.483.182 2.226.213 2.97.314 5.96.244 8.947a112.38 112.38 0 01-.57 8.919c-.007.086-.022.2-.035.306-.012.108-.03.215-.049.321l-.027.16-.034.159c-.023.106-.045.212-.074.316a7.94 7.94 0 01-1.842 3.394 7.9 7.9 0 01-4.483 2.446c-.107.017-.214.035-.321.049l-.322.036-.554.048-1.11.09c-.74.058-1.48.108-2.219.155-1.48.092-2.96.165-4.44.22-5.921.218-11.844.148-17.762-.204-.74-.044-1.479-.095-2.218-.149l-1.11-.087-.554-.046-.277-.024-.139-.012-.147-.014a7.807 7.807 0 01-2.497-.67 7.9 7.9 0 01-3.71-3.494 7.918 7.918 0 01-.821-2.449c-.017-.106-.035-.213-.045-.32l-.018-.161-.009-.08-.006-.07-.048-.555-.089-1.112a128.68 128.68 0 01-.148-2.227c-.173-2.97-.242-5.951-.174-8.932.066-2.978.25-5.948.532-8.908a7.864 7.864 0 012.051-4.614 7.82 7.82 0 014.436-2.405c.106-.016.21-.034.317-.047l.317-.034.554-.047 1.109-.088a154.233 154.233 0 014.487-.273l-.028-.035a59.498 59.498 0 01-1.454-1.934l-.351-.493-.174-.247c-.058-.083-.117-.165-.166-.254a1.896 1.896 0 01-.184-1.363 2.699 2.699 0 012.85-2.077 1.89 1.89 0 011.237.595c.07.075.13.156.19.237l.181.242.36.486c.476.651.94 1.31 1.39 1.981a45.03 45.03 0 011.678 2.683 231.804 231.804 0 017.029-.007c.122-.212.246-.422.37-.63.418-.695.854-1.375 1.303-2.046.45-.67.914-1.33 1.39-1.981l.36-.486.181-.242c.06-.081.12-.162.19-.237a1.89 1.89 0 011.238-.595zM20.366 22.632a2 2 0 00-.196.655 60.682 60.682 0 00-.416 7.208c0 2.174.106 4.347.318 6.52l.115 1.087a2 2 0 002.912 1.547 131.76 131.76 0 006.459-3.597 119.102 119.102 0 004.685-2.937l1.133-.757a2 2 0 00.029-3.292 91.839 91.839 0 00-5.847-3.78 99.132 99.132 0 00-5.407-2.994l-1.103-.558a2 2 0 00-2.682.898z",id:"pid-5-svgo-d"}}),t._v(" "),n("filter",{attrs:{x:"-19.6%",y:"-20.7%",width:"139.2%",height:"141.3%",filterUnits:"objectBoundingBox",id:"pid-5-svgo-c"}},[n("feOffset",{attrs:{dy:"1",in:"SourceAlpha",result:"shadowOffsetOuter1"}}),t._v(" "),n("feGaussianBlur",{attrs:{stdDeviation:"1",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}}),t._v(" "),n("feColorMatrix",{attrs:{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0",in:"shadowBlurOuter1",result:"shadowMatrixOuter1"}}),t._v(" "),n("feOffset",{attrs:{in:"SourceAlpha",result:"shadowOffsetOuter2"}}),t._v(" "),n("feGaussianBlur",{attrs:{stdDeviation:"3",in:"shadowOffsetOuter2",result:"shadowBlurOuter2"}}),t._v(" "),n("feColorMatrix",{attrs:{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0",in:"shadowBlurOuter2",result:"shadowMatrixOuter2"}}),t._v(" "),n("feMerge",[n("feMergeNode",{attrs:{in:"shadowMatrixOuter1"}}),t._v(" "),n("feMergeNode",{attrs:{in:"shadowMatrixOuter2"}})],1)],1)]),t._v(" "),n("g",{attrs:{fill:"none","fill-rule":"evenodd",opacity:".812"}},[n("mask",{attrs:{id:"pid-5-svgo-b",fill:"#fff"}},[n("use",{attrs:{"xlink:href":"#pid-5-svgo-a"}})]),t._v(" "),n("g",{attrs:{mask:"url(#pid-5-svgo-b)"}},[n("use",{attrs:{fill:"#000",filter:"url(#pid-5-svgo-c)","xlink:href":"#pid-5-svgo-d"}}),t._v(" "),n("use",{attrs:{fill:"#FFF","xlink:href":"#pid-5-svgo-d"}})])])])]):t._e()])],1):t._e()],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text"},[e("p",{staticClass:"l1"},[this._v("打开哔哩哔哩观看体验更好哦～")]),this._v(" "),e("p",{staticClass:"l2"},[this._v("截图保存二维码，打开哔哩哔哩即可观看")]),this._v(" "),e("p",{staticClass:"l3"},[this._v("若无法识别请更新到最新版本")])])}],!1,null,"07bebd93",null).exports),Z=n(164),tt=n(165);function et(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function nt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?et(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var it=["打开App，流畅又高清","打开App，看更多精彩视频","打开App，一起发弹幕看视频"],ot={80:"打开App，看高清视频",116:"打开App，享60帧极致丝滑体验",120:"打开App，看4K超高清视频",126:"打开App，感受杜比全景声"},rt={components:{OpenAppVideo:q.a,OpenApp:Z.a},props:{preloadWxtag:{},btnText:{type:Array,default:function(){return it}}},data:function(){return{startPop:!1,startScroll:!1,curIndex:0,isOpenAppVideo:!0,targetUrl:""}},computed:nt(nt({},Object(p.c)({info:function(t){return t.video.viewInfo},p:function(t){return t.video.p},abtest:function(t){return t.common.abtest},quality:function(t){return t.video.highestQuality},bvid:function(t){return t.video.bvid}})),{},{_btnText:function(){if(this.btnText)return this.btnText;var t=ot[this.quality];return(t?[t].concat(it.slice(1)):it)||[]},text:function(){return this._btnText[this.curIndex]}}),mounted:function(){var t=this;tt.a.$on("openAppDialogHide",(function(){t.startAnimation()})),this.checkReferrerAndCallApp()},methods:{startAnimation:function(){var t=this;if(!this.startPop){this.startPop=!0;var e=function e(){t._btnText.length&&setTimeout((function(){t.curIndex=(t.curIndex+1)%t._btnText.length,t.curIndex&&e()}),3e3)},n=setInterval((function(){e()}),3e4);this.$once("hook:beforeDestroy",(function(){clearInterval(n)})),e()}},checkReferrerAndCallApp:function(){var t=document.refer||document.referrer;if(/m.bilibili.com\/list\/group\/h5\/*/i.test(t)){this.isOpenAppVideo=!1;var e=window.location.search,n=Object(d.q)("listgroupid")||"",i=this.bvid||"",o=(e?"&":"?")+"bvid=".concat(i,"&single=1&open_listgroup_from_m=1");this.targetUrl="https://m.bilibili.com/list/group/h5/".concat(n).concat(e).concat(o)}},openApp:function(){this.$customReportH5("click","player")}}},st=(n(423),Object(N.a)(rt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.isOpenAppVideo?n("OpenAppVideo",{staticClass:"m-video-main-launchapp",attrs:{spmid:"333.401.click.player",preloadWxtag:t.preloadWxtag},on:{"open-app":t.openApp}},[n("div",{staticClass:"m-video2-awaken-btn"},[n("div",{staticClass:"icon",class:{popup:t.startPop}}),t._v(" "),n("div",{staticClass:"container"},[n("transition",{attrs:{name:"scroll"}},[n("div",{key:t.text,staticClass:"btn-text"},[t._v(t._s(t.text))])])],1)])]):n("OpenApp",{staticClass:"m-video-main-launchapp",attrs:{type:"browser",extra:"url="+encodeURIComponent(this.targetUrl),spmid:"333.401.click.player",preloadWxtag:t.preloadWxtag},on:{"open-app":t.openApp}},[n("div",{staticClass:"m-video2-awaken-btn"},[n("div",{staticClass:"icon",class:{popup:t.startPop}}),t._v(" "),n("div",{staticClass:"container"},[n("transition",{attrs:{name:"scroll"}},[n("div",{key:t.text,staticClass:"btn-text"},[t._v(t._s(t.text))])])],1)])])],1)}),[],!1,null,null,null).exports),at=n(5);function ct(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function lt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ct(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ut={props:{noCallApp:Boolean},data:function(){return{actUrl:""}},computed:lt(lt({},Object(p.c)({info:function(t){return t.video.viewInfo},upInfo:function(t){return t.video.upInfo},infoFolded:function(t){return t.video.infoFolded}})),{},{isHot:function(){var t,e;return 1===(null===(t=this.info)||void 0===t||null===(e=t.label)||void 0===e?void 0:e.type)},missionId:function(){var t;return null===(t=this.info)||void 0===t?void 0:t.mission_id},isActivity:function(){return!this.isHot&&this.missionId>0}}),methods:lt(lt({},Object(p.b)("video",["setInfoFolded"])),{},{fetchActInfo:function(){var t,e=this;Object(at.a)(this.missionId,null===(t=this.info)||void 0===t?void 0:t.aid).then((function(t){0===(null==t?void 0:t.code)&&(e.actUrl=t.data.act_url)}))},tagClick:function(t){this.$customReportH5("click","titleTag",{type:t})},report:function(t,e){e?e.fold=this.infoFolded:e={fold:this.infoFolded},this.$customReportH5("click",t,e)},reportFold:function(t,e){this.report("desc_more",{clic_pos:t,isAwake:e})}}),beforeMount:function(){this.setInfoFolded(!0)},mounted:function(){var t=this;setTimeout((function(){t.isHot&&t.$customReportH5("show","titleTag",{type:"hot"}),t.isActivity&&t.$customReportH5("show","titleTag",{type:"activity"})}),2e3),this.isActivity&&this.fetchActInfo()},components:{OpenApp:Z.a,OpenAppVideo:q.a}},pt=(n(424),Object(N.a)(ut,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"title-wrapper"},[n("div",{staticClass:"title"},[t.isHot?n("a",{staticClass:"label",attrs:{href:"//www.bilibili.com/h5/popular?from=play",target:"_blank"},on:{click:function(e){return t.tagClick("hot")}}},[n("i",{staticClass:"iconfont ic_popular"}),t._v(" "),n("span",[t._v("热门")])]):t.isActivity?n("a",{staticClass:"label",attrs:{href:t.actUrl,target:"_blank"},on:{click:function(e){return t.tagClick("activity")}}},[n("span",[t._v("活动")])]):t._e(),t._v(" "),n("OpenAppVideo",{staticClass:"title-name",attrs:{spmid:"titlename",mute:t.noCallApp,autoReport:""}},[n("h1",{staticClass:"title-text",domProps:{textContent:t._s(t.info.title)}})])],1),t._v(" "),n("OpenAppVideo",{staticClass:"icon-spread",attrs:{mute:t.noCallApp,spmid:"desc_more"},on:{"open-app":function(e){return t.reportFold("arrow",1)}}})],1)}),[],!1,null,"abecbb9a",null).exports),dt=n(183);function ft(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}var vt={computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ft(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(p.c)({info:function(t){return t.video.viewInfo||{}},upInfo:function(t){return t.video.upInfo||{}},infoFolded:function(t){return t.video.infoFolded}})),methods:{report:function(t,e){e?e.fold=this.infoFolded:e={fold:this.infoFolded},this.$customReportH5("click",t,e)}},components:{OpenApp:Z.a,OpenAppVideo:q.a,Avatar:dt.a}},ht=(n(426),Object(N.a)(vt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"up"},[t.info.disable_show_up_info?n("div",{staticClass:"empty"}):n("OpenApp",{attrs:{type:"space",id:t.info.owner&&t.info.owner.mid,spmid:"upinfo"},on:{"open-app":function(e){return t.report("upinfo")}}},[n("div",{staticClass:"face"},[n("div",{staticClass:"avatar-wrapper"},[n("Avatar",{staticClass:"avatar",attrs:{face:t.upInfo.card&&t.upInfo.card.face,size:"28"}})],1),t._v(" "),n("div",{staticClass:"info"},[n("a",{staticClass:"name"},[t._v(t._s(t.info.owner?t.info.owner.name:""))])])])]),t._v(" "),n("div",{staticClass:"interact-wrapper"},[n("OpenAppVideo",{attrs:{spmid:"like",autoReport:""}},[n("span",{staticClass:"toolbar-item"},[n("i",{staticClass:"icon icon-like"})])]),t._v(" "),n("OpenAppVideo",{attrs:{spmid:"favorite",autoReport:""}},[n("span",{staticClass:"toolbar-item"},[n("i",{staticClass:"icon icon-fav"})])]),t._v(" "),n("OpenAppVideo",{attrs:{spmid:"share",autoReport:""}},[n("span",{staticClass:"toolbar-item"},[n("i",{staticClass:"icon icon-share"})])])],1)],1)}),[],!1,null,"e95a8c52",null).exports),mt={components:{Title:pt,Up:ht}},bt=(n(427),Object(N.a)(mt,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"share-video-info"},[e("Title"),this._v(" "),e("Up")],1)}),[],!1,null,"7c4c2706",null).exports);function yt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function gt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?yt(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Ot={components:{OpenAppVideo:q.a},data:function(){return{showShare:!1}},computed:gt(gt({},Object(p.c)({info:function(t){return t.video.viewInfo},abtest:function(t){return t.common.abtest},upInfo:function(t){return t.video.upInfo}})),{},{like:function(){return Object(d.k)(this.info.stat.like)},fav:function(){return Object(d.k)(this.info.stat.favorite)},view:function(){return Object(d.k)(this.info.stat&&this.info.stat.view)||0},coin:function(){var t;return Object(d.k)(null===(t=this.info.stat)||void 0===t?void 0:t.coin)||0}}),methods:{report:function(t){this.$customReport(t,{bsource:window.bsource}),this.$customReportH5("click",t)}}},wt=(n(428),Object(N.a)(Ot,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"video-toolbar"},[n("OpenAppVideo",{attrs:{spmid:"333.401.click.like"},on:{"open-app":function(e){return t.report("like")}}},[n("span",{staticClass:"toolbar-item"},[n("i",{staticClass:"icon icon-like"}),t._v(" "),n("span",[t._v(t._s(t.like))])])]),t._v(" "),n("OpenAppVideo",{attrs:{spmid:"333.401.click.coin"},on:{"open-app":function(e){return t.report("coin")}}},[n("span",{staticClass:"toolbar-item"},[n("i",{staticClass:"icon icon-coin"}),t._v(" "),n("span",[t._v(t._s(t.coin))])])]),t._v(" "),n("OpenAppVideo",{attrs:{spmid:"333.401.click.favorite"},on:{"open-app":function(e){return t.report("favorite")}}},[n("span",{staticClass:"toolbar-item"},[n("i",{staticClass:"icon icon-fav"}),t._v(" "),n("span",[t._v(t._s(t.fav))])])]),t._v(" "),n("OpenAppVideo",{attrs:{spmid:"333.401.click.download"},on:{"open-app":function(e){return t.report("download")}}},[n("span",{staticClass:"toolbar-item"},[n("i",{staticClass:"icon icon-download"}),t._v(" "),n("span",[t._v("缓存")])])]),t._v(" "),n("OpenAppVideo",{attrs:{spmid:"333.401.click.share"},on:{"open-app":function(e){return t.report("share")}}},[n("span",{staticClass:"toolbar-item"},[n("i",{staticClass:"icon icon-share"}),t._v(" "),n("span",[t._v("分享")])])])],1)}),[],!1,null,"2b8aef7f",null).exports),_t={methods:{reportClick:function(t){this.$customReportH5("click",t)}},mounted:function(){this.$customReportH5("show","RecomTabDefault")},components:{OpenAppVideo:q.a}},Ct=(n(429),Object(N.a)(_t,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bottom-tab-header"},[n("div",{staticClass:"tab-item",on:{click:function(e){return t.reportClick("relatedTab")}}},[t._v("相关推荐")]),t._v(" "),n("OpenAppVideo",{attrs:{spmid:"relatedMoreTab"}},[n("div",{staticClass:"tab-item more",on:{click:function(e){return t.reportClick("moreTab")}}},[t._v("查看更多")])])],1)}),[],!1,null,"290ff884",null).exports),jt=n(176);function Pt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function kt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Pt(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var At={computed:kt(kt({},Object(p.c)(s()(s()({aid:function(t){return t.video.aid},view:function(t){return t.video.viewInfo},gameMode:function(t){return t.video.gameMode},related:function(t){return t.video.related},tinyApp:function(t){return t.common.tinyApp},keyword:function(t){return t.video.keyword},trigglePlay:function(t){return t.video.trigglePlay}},"related",(function(t){return t.video.related})),"noCallApp",(function(t){return t.common.noCallApp})))),{},{cardType:function(){return this.noCallApp?"VideoItem":"VideoItemToApp"}}),methods:{reportShow:function(){var t=this,e=this;setTimeout((function(){if(!t.gameMode&&t.$refs.relatedList){t.$scrollReportH5(t.$refs.relatedList.$el,".v-card-toapp","relateRecom",{avid:e.aid,item_id:function(t){return t&&t.dataset&&t.dataset.aid},position:function(t){return t&&t.__vue__&&t.__vue__.$attrs.index+1},currentTime:function(){return parseInt(window.player&&window.player.getCurrentTime()||0)},duration:function(){return parseInt(window.player&&window.player.getDuration()||0)},innerBsource:function(){return window.innerBsource},bsourceFrom:function(){return window.bsourceFrom},refer:function(){return encodeURIComponent(document.refer||document.referrer)},sessionId:function(){return window.sessionId},share_times:function(){return t.$route.query.share_times},item_label:function(t){return t&&t.dataset&&t.dataset.label},item_up_mid:function(t){var e;return t&&t.__vue__&&(null===(e=t.__vue__.info.owner)||void 0===e?void 0:e.mid)}})}}),1e3)},openApp:function(){this.$customReportH5("click","relateRecomMore")}},mounted:function(){var t=this;this.reportShow(),tt.a.$on("refreshRelated",(function(){var e;null===(e=t.$refs.relatedList)||void 0===e||e.refresh()}))},components:{FlowList:jt.a,OpenAppVideo:q.a}},Dt=(n(447),Object(N.a)(At,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-video-related"},[n("FlowList",{ref:"relatedList",attrs:{attrs:{func:"getVideoRelatedNew",type:"page",query:{count:t.gameMode?10:6,key:"getVideoRelatedNew",__refresh__:!0,related:t.related}},skeletonLength:6,"card-type":t.cardType,"tag-search":""},scopedSlots:t._u([t.tinyApp||t.noCallApp?null:{key:"no-more",fn:function(){return[t.gameMode?t._e():n("OpenAppVideo",{staticClass:"related-openapp",attrs:{spmid:"333.401.click.relateRecomMore"},on:{"open-app":t.openApp}},[n("div",{staticClass:"m-related-openapp report-scroll-module",attrs:{id:"relateRecomMore"}},[n("span",{staticClass:"text"},[t._v("还看不够？App 内尽情探索吧")]),t._v(" "),n("i",{staticClass:"iconfont gengduo1"})])])]},proxy:!0},{key:"nothing",fn:function(){return[n("div",[n("p",{staticClass:"empty"},[t._v("什么都没有找到啊 T_T")])])]},proxy:!0}],null,!0)})],1)}),[],!1,null,null,null).exports);function St(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}var xt={components:{BottomTabHeader:Ct,Related:Dt},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?St(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(p.c)({abtest:function(t){return t.common.abtest},keyword:function(t){return t.video.keyword},trigglePlay:function(t){return t.video.trigglePlay}})),methods:{reportClick:function(t){this.$customReportH5("click",t)}},mounted:function(){var t=this;this.timeout=setTimeout((function(){t.$customReportH5("show","RecomTabDefault")}),1e3)},beforeDestroy:function(){clearTimeout(this.timeout)}},Tt=(n(448),Object(N.a)(xt,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bottom-tab"},[e("BottomTabHeader"),this._v(" "),e("Related",{staticClass:"related-fit"})],1)}),[],!1,null,"d6989f00",null).exports),It=n(149),Et=n.n(It),Rt=n(154),$t=n.n(Rt),Bt=n(449),Mt={props:{data:Object},data:function(){return{}},computed:{heat:function(){return Et()(this.data.heat_value||0)},extra:function(){return"keyword=".concat(encodeURIComponent(this.data.keyword))}},methods:{reportClick:function(t){var e,n,i;this.$customReportH5("click",t,{position:null===(e=this.data)||void 0===e?void 0:e.position,hot_id:null===(n=this.data)||void 0===n?void 0:n.hot_id,keyword:null===(i=this.data)||void 0===i?void 0:i.keyword})}},mounted:function(){this.data.show_live_icon&&$t.a.loadAnimation({container:this.$refs.living,renderer:"svg",loop:!0,autoplay:!0,animationData:Bt})},components:{OpenApp:Z.a,BfsImg:U.a}},Lt=(n(450),Object(N.a)(Mt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("OpenApp",{staticClass:"trending-card",attrs:{type:"search_result",extra:t.extra,disableUniversal:"",spmid:"trendCard"},on:{"open-app":function(e){return t.reportClick("trendCard")}}},[n("div",{staticClass:"card-wrapper"},[n("div",{staticClass:"trending-title"},[t.data.show_dot?n("i",{staticClass:"rank-point"}):n("i",{class:["rank-index","rank-"+t.data.show_position]},[t._v(t._s(t.data.show_position))]),t._v(" "),n("div",{staticClass:"text-main"},[t._v(t._s(t.data.show_name))]),t._v(" "),t.data.icon&&7!==t.data.word_type?n("BfsImg",{staticClass:"trending-icon normal-icon",attrs:{src:t.data.icon,alt:""}}):t._e(),t._v(" "),t.data.show_live_icon?n("div",{staticClass:"live-wrapper"},[n("div",{staticClass:"trending-icon living-icon"},[n("span",{ref:"living",staticClass:"living"}),n("span",{staticClass:"text"},[t._v("直播中")])])]):t._e(),t._v(" "),t.data.heat_value?n("p",{staticClass:"text-heat"},[t._v(t._s(t.heat)+"热度")]):t._e()],1),t._v(" "),n("SVGIconNext",{staticClass:"icon-right",attrs:{icon:"BDC/arrow_forward_right_line/3",axes:{stroke:1.5}}})],1)])}),[],!1,null,"08af6e82",null).exports);function Ht(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}var Vt={data:function(){return{trendingUrl:"https://www.bilibili.com/blackboard/activity-trending-topic.html?navhide=1"}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ht(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ht(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(p.c)({trendingData:function(t){return t.video.trendingData},trendingRes:function(t){return t.video.trendingRes}})),created:function(){var t=this;return o()(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("video/LOAD_TRENDING_DATA");case 2:case"end":return e.stop()}}),e)})))()},mounted:function(){this.$customReportH5("show","trendArea"),this.$customReportH5("show","trendMore");var t=document.querySelector(".m-video-trending .trending-cards");t&&this.$scrollReportH5(t,".trending-card","trendCard",{position:function(t){var e,n;return null==t||null===(e=t.__vue__)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.position},hot_id:function(t){var e,n;return null==t||null===(e=t.__vue__)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.hot_id},keyword:function(t){var e,n;return null==t||null===(e=t.__vue__)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.keyword}})},methods:{reportClick:function(t){this.$customReportH5("click",t)}},components:{OpenApp:Z.a,OpenAppVideo:q.a,TrendingCard:Lt}},Nt=(n(451),Object(N.a)(Vt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-video-trending"},[n("div",{staticClass:"header"},[n("div",{staticClass:"title-left"},[t._v("今日热搜榜")]),t._v(" "),n("OpenApp",{staticClass:"openapp-trending",attrs:{type:"browser",extra:"url="+encodeURIComponent(this.trendingUrl),spmid:"trendMore"},on:{"open-app":function(e){return t.reportClick("trendMore")}}},[n("div",{staticClass:"wrapper-right"},[n("span",{staticClass:"text-left"},[t._v("查看更多")]),t._v(" "),n("SVGIconNext",{staticClass:"icon-right",attrs:{icon:"BDC/arrow_forward_right_line/3",axes:{stroke:1.5}}})],1)])],1),t._v(" "),n("div",{staticClass:"trending-cards"},t._l(t.trendingData,(function(t,e){return n("TrendingCard",{key:t.location,attrs:{data:t}})})),1),t._v(" "),n("OpenAppVideo",{staticClass:"related-openapp",attrs:{spmid:"relateRecomMore"},on:{"open-app":function(e){return t.reportClick("relateRecomMore")}}},[n("div",{staticClass:"m-related-openapp report-scroll-module",attrs:{id:"relateRecomMore"}},[n("span",{staticClass:"text"},[t._v("还看不够？App 内尽情探索吧")]),t._v(" "),n("i",{staticClass:"iconfont gengduo1"})])])],1)}),[],!1,null,"6cf7c1d5",null).exports);function Ft(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}var Ut={computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ft(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ft(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(p.c)({isShowTrend:function(t){return t.video.isShowTrend}})),components:{NormalTabs:Tt,Trending:Nt}},qt=Object(N.a)(Ut,(function(){var t=this.$createElement,e=this._self._c||t;return this.isShowTrend?e("Trending"):e("NormalTabs")}),[],!1,null,null,null).exports;function Gt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Wt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Gt(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Qt={components:{BfsImg:U.a,OpenApp:Z.a},data:function(){return{formatDate:d.i}},computed:Wt(Wt({},Object(p.c)({info:function(t){return t.video.viewInfo},tinyApp:function(t){return t.common.tinyApp},noCallApp:function(t){return t.common.noCallApp},abtest:function(t){return t.common.abtest}})),{},{seasonInfo:function(){return this.info.ugc_season},videoList:function(){var t=this.seasonInfo.sections,e=[];return t.forEach((function(t){return e=e.concat(t.episodes)})),e},label:function(){return{1:"独家",2:"首发"}[this.seasonInfo.sign_state]},extra:function(){if("season"===this.$route.query.share_from)return"auto_float_layer=3"}}),methods:{scrollToCurrent:function(){var t=this.$refs.videoList.querySelector(".current");if(t){var e=t.offsetLeft;this.$refs.videoList.scrollTo&&this.$refs.videoList.scrollTo(e-50,0)}},expand:function(){this.$emit("expand")},openVideo:function(t,e,n){var i=this;t!==this.info.aid&&(this.tinyApp?this.$router.replace("".concat(this.$transformLink(t,n))):this.noCallApp&&setTimeout((function(){i.$router.replace("".concat(i.$transformLink(t,n)))}),1e3),this.$customReport("ugc-video-drama-detail-float-drama",{daid:this.seasonInfo.id,episodeid:e}))},isUnpay:function(t){var e,n,i=null===(e=this.info.goods_info)||void 0===e?void 0:e.some((function(t){return 1===t.category&&1===t.pay_stat}));return(null===(n=t.rights)||void 0===n?void 0:n.arc_pay)&&!(i||t.rights.free_watch)}},mounted:function(){this.scrollToCurrent(),this.$customReport("ugc-video-drama-detail-show",{daid:this.seasonInfo.id})}},zt=(n(452),Object(N.a)(Qt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-video-season-new"},[n("div",{staticClass:"info"},[n("div",{staticClass:"title"},[t.seasonInfo.is_pay_season?n("span",{staticClass:"pay name"},[t._v("付费合集 · ")]):t.label?n("span",{staticClass:"label"},[t._v(t._s(t.label))]):t._e(),t._v(" "),n("span",{staticClass:"name"},[t._v(t._s(t.seasonInfo.title))])]),t._v(" "),n("div",{staticClass:"spread",on:{click:t.expand}},[n("span",[t._v("查看更多")]),t._v(" "),n("i",{staticClass:"iconfont general_pulldown_s"})])]),t._v(" "),n("div",{ref:"videoList",staticClass:"list"},t._l(t.videoList,(function(e){return n("div",{key:e.aid,staticClass:"video-card"},[n("OpenApp",{staticClass:"block",attrs:{id:e.aid,aid:e.aid,bvid:e.bvid,directJump:t.tinyApp,extra:t.extra,type:"video",spmid:"333.401.click.ugc-video-drama-detail-float-drama"},on:{"open-app":function(n){return t.openVideo(e.aid,e.id,e.bvid)}}},[n("div",{staticClass:"cover"},[n("BfsImg",{attrs:{src:e.arc.pic,alt:e.arc.title,width:117,height:73}}),t._v(" "),n("div",{staticClass:"gradient"}),t._v(" "),n("span",{staticClass:"pubdate"},[t._v(t._s(t.formatDate(1e3*e.arc.pubdate)))]),t._v(" "),t.isUnpay(e.arc)?n("div",{staticClass:"pay"},[t._v("付费")]):t.info.aid===e.aid||t.tinyApp||t.noCallApp?t._e():n("div",{staticClass:"open-app"},[t._v("App打开")])],1),t._v(" "),n("div",{staticClass:"title",class:{current:t.info.aid===e.aid}},[t._v("\n          "+t._s(e.arc.title)+"\n        ")])])],1)})),0)])}),[],!1,null,null,null).exports);function Yt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Jt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Yt(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Kt={props:{isShow:{type:Boolean}},components:{BfsImg:U.a,OpenApp:Z.a},data:function(){return{currentTab:0,needSpread:!1,isSpread:!0,formatNum:d.k}},watch:{isShow:function(t){t&&(this.judgeNeedSpread(),this.locateCurrent())}},computed:Jt(Jt({},Object(p.c)({info:function(t){return t.video.viewInfo}})),{},{seasonInfo:function(){return this.info.ugc_season},allVideos:function(){var t=this.seasonInfo.sections,e=[];return t.forEach((function(t){return e=e.concat(t.episodes)})),e},currentVideos:function(){return this.seasonInfo.sections[this.currentTab].episodes},extra:function(){if("season"===this.$route.query.share_from)return"auto_float_layer=3"}}),methods:{judgeNeedSpread:function(){var t=this.$refs.intro,e=Number(getComputedStyle(t).lineHeight.replace("px",""));t.clientHeight>3*e&&(this.needSpread=!0,this.isSpread=!1)},close:function(){this.$emit("close")},switchTab:function(t,e){e&&this.$customReport("ugc-video-drama-detail.sectionid",{daid:this.seasonInfo.id,sectionid:e}),this.currentTab=t},locateCurrent:function(){var t=this,e=this.info.aid;this.seasonInfo.sections.forEach((function(n,i){for(var o=0;o<n.episodes.length;o++)n.episodes[o].aid===e&&(t.switchTab(i),t.$nextTick((function(){var e=t.$refs.videoList.querySelector(".current");if(e){var n=e.offsetTop;t.$refs.panel.scrollTo(0,n-130)}})))}))},openVideo:function(t,e,n,i){var o=this;if(t!==this.info.aid){var r=setTimeout((function(){o.$router.replace("".concat(o.$transformLink(t,n)))}),1e3);this.$once("hook:beforeDestroy",(function(){clearTimeout(r)})),this.$customReport("ugc-video-drama-detail-onedrama",{daid:this.seasonInfo.id,episodeid:e,drama_order:i})}},isUnpay:function(t){var e,n,i=null===(e=this.info.goods_info)||void 0===e?void 0:e.some((function(t){return 1===t.category&&1===t.pay_stat}));return(null===(n=t.rights)||void 0===n?void 0:n.arc_pay)&&!(i||t.rights.free_watch)}}},Xt=(n(453),Object(N.a)(Kt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"season-slide"}},[n("div",{staticClass:"m-video-season-panel"},[n("div",{staticClass:"panel-title"},[n("div",{staticClass:"name"},[t._v("选集（"+t._s(t.allVideos.length)+"）")]),t._v(" "),n("div",{staticClass:"close"},[n("i",{staticClass:"iconfont guanbi",on:{click:t.close}})])]),t._v(" "),n("div",{ref:"panel",staticClass:"panel-content"},[n("div",{staticClass:"season-info"},[n("h2",{staticClass:"season-title"},[t._v(t._s(t.seasonInfo.is_pay_season?"付费 · ":"")+t._s(t.seasonInfo.title))]),t._v(" "),n("p",{ref:"intro",staticClass:"season-desc",class:{folded:!t.isSpread}},[t._v(t._s(t.seasonInfo.intro))]),t._v(" "),t.needSpread?n("a",{staticClass:"spread-btn"},[t._v(t._s(t.isSpread?"收起":"展开"))]):t._e()]),t._v(" "),n("div",{staticClass:"season-tabs"},t._l(t.seasonInfo.sections,(function(e,i){return n("div",{key:i,staticClass:"tab-item",class:{on:i===t.currentTab},on:{click:function(n){return t.switchTab(i,e.id)}}},[t._v(t._s(e.title))])})),0),t._v(" "),n("div",{ref:"videoList",staticClass:"video-list"},t._l(t.currentVideos,(function(e,i){return n("div",{key:i,staticClass:"season-video-item",class:{current:t.info.aid===e.aid}},[n("OpenApp",{attrs:{id:e.aid,aid:e.aid,bvid:e.bvid,type:"video",spmid:"333.401.click.ugc-video-drama-detail-onedrama",extra:"extra"},on:{"open-app":function(n){return t.openVideo(e.aid,e.id,e.bvid,i)}}},[n("div",{staticClass:"cover"},[n("BfsImg",{attrs:{src:e.arc.pic,alt:e.arc.title,width:117,height:73}}),t._v(" "),t.isUnpay(e.arc)?n("div",{staticClass:"pay"},[t._v("付费")]):t._e()],1),t._v(" "),n("div",{staticClass:"info"},[n("h3",{staticClass:"title"},[t._v(t._s(e.arc.title))]),t._v(" "),n("p",{staticClass:"detail"},[t._v("\n                "+t._s(t.formatNum(e.arc.stat.view))+"次观看 · "+t._s(t.formatNum(e.arc.stat.danmaku))+"弹幕\n              ")]),t._v(" "),e.aid!==t.info.aid?n("div",{staticClass:"open-app"},[t._v("App 内打开")]):t._e()]),t._v(" "),n("div",{staticStyle:{clear:"both"}})])],1)})),0)])])])}),[],!1,null,null,null).exports);function Zt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function te(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Zt(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ee={computed:te(te({},Object(p.c)({p:function(t){return t.video.p},info:function(t){return t.video.viewInfo}})),{},{pages:function(){return this.info.pages}}),methods:{scrollToCurrent:function(){var t=this.$refs.partList.querySelector(".on");if(t){var e=t.offsetLeft;this.$refs.partList.scrollTo(e-50,0)}},changeP:function(t){if(this.$customReport("part"),this.$customReportH5("click","part"),t+1!==parseInt(this.p)){var e=this.$route.query||{};this.$router.replace({query:te(te({},e),{},{p:t+1})}).catch((function(){}))}},expand:function(){this.$emit("expand")}},mounted:function(){var t=this;this.scrollToCurrent(),setTimeout((function(){t.$customReportH5("show","part")}),1e3)}},ne=(n(454),Object(N.a)(ee,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-video-part-new"},[n("ul",{ref:"partList",staticClass:"list"},t._l(t.pages,(function(e,i){return n("li",{key:i,staticClass:"part-item",class:{on:i+1==t.p},on:{click:function(e){return t.changeP(i)}}},[n("span",[t._v(t._s(e.part))])])})),0),t._v(" "),n("div",{staticClass:"spread"},[n("i",{staticClass:"iconfont general_pulldown_s",on:{click:t.expand}})])])}),[],!1,null,null,null).exports);function ie(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function oe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ie(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var re={props:{isShow:{type:Boolean}},computed:oe(oe({},Object(p.c)({p:function(t){return t.video.p},info:function(t){return t.video.viewInfo}})),{},{pages:function(){return this.info.pages}}),methods:{changeP:function(t){if(t+1!==parseInt(this.p)){var e=this.$route.query||{};this.$router.replace({query:oe(oe({},e),{},{p:t+1})}).catch((function(){}))}},close:function(){this.$emit("close")}},mounted:function(){window.scrollTo(0,0)}},se=(n(455),Object(N.a)(re,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-video-part-panel"},[n("transition",{attrs:{name:"part-slide"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"m-video-part-panel-content"},[n("div",{staticClass:"title"},[t._v("\n        分集 ("+t._s(t.pages.length)+")\n        "),n("i",{staticClass:"iconfont guanbi",on:{click:t.close}})]),t._v(" "),n("ul",{staticClass:"list"},t._l(t.pages,(function(e,i){return n("li",{key:i,staticClass:"part-item",class:{on:i+1==t.p},on:{click:function(e){return t.changeP(i)}}},[n("span",[t._v(t._s(e.part))])])})),0)])])],1)}),[],!1,null,null,null).exports);function ae(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function ce(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ae(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var le={data:function(){return{isMount:!1,partPanelVisible:!1}},computed:ce(ce({},Object(p.c)({info:function(t){return t.video.viewInfo}})),{},{pages:function(){var t;return(null===(t=this.info)||void 0===t?void 0:t.pages)||[]}}),methods:{togglePartPanelVisible:function(t){this.partPanelVisible=t,document.body.className=t?"no-scroll":""}},mounted:function(){this.isMount=!0},watch:{"info.bvid":function(){this.partPanelVisible&&(this.partPanelVisible=!1)}},components:{Part:ne,PartPanel:se}},ue=Object(N.a)(le,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.pages.length>1?n("div",[n("Part",{on:{expand:function(e){return t.togglePartPanelVisible(!0)}}}),t._v(" "),t.isMount?n("PartPanel",{directives:[{name:"show",rawName:"v-show",value:t.partPanelVisible,expression:"partPanelVisible"}],attrs:{isShow:t.partPanelVisible},on:{close:function(e){return t.togglePartPanelVisible(!1)}}}):t._e()],1):t._e()}),[],!1,null,null,null).exports,pe=function(t,e){return window.BiliCm&&window.BiliCm.Base&&"function"==typeof window.BiliCm.Base.getSyncUrl?window.BiliCm.Base.getSyncUrl(t,e):(console.log("ad","getSyncUrl not found"),"")},de=function(t,e){window.BiliCm&&window.BiliCm.Base&&"function"==typeof window.BiliCm.Base.sendClickData?window.BiliCm.Base.sendClickData(t,e):console.log("ad","sendClickData not found")},fe=function(t,e){window.BiliCm&&window.BiliCm.Base&&"function"==typeof window.BiliCm.Base.sendShowData?window.BiliCm.Base.sendShowData(t,e):console.log("ad","sendShowData not found")},ve={props:{id:{},data:{}},data:function(){return{adUrl:"",closed:!1}},methods:{report:function(){de(this.data,this.id)},close:function(){this.closed=!0}},mounted:function(){this.adUrl=pe(this.data,this.id),fe(this.data,this.id)}},he=(n(456),Object(N.a)(ve,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.closed?t._e():n("div",{staticClass:"m-video-text-ad"},[n("div",{staticClass:"notice-content"},[n("i",{staticClass:"iconfont notice"}),t._v(" "),n("a",{attrs:{href:t.adUrl,target:"_blank"},on:{click:t.report}},[t._v(t._s(t.data.name))]),t._v(" "),n("i",{staticClass:"iconfont guanbi",on:{click:t.close}})])])}),[],!1,null,null,null).exports),me={props:{id:{},data:{}},data:function(){return{adUrl:""}},methods:{report:function(){de(this.data,this.id)}},mounted:function(){this.adUrl=pe(this.data,this.id),fe(this.data,this.id)},components:{BfsImg:U.a}},be=(n(457),Object(N.a)(me,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"m-video-img-ad"},[e("a",{attrs:{href:this.adUrl,target:"_blank"},on:{click:this.report}},[e("BfsImg",{staticClass:"img-ad",attrs:{src:this.data.pic,alt:this.data.name}})],1)])}),[],!1,null,"269f62b0",null).exports),ye=n(40);function ge(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Oe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ge(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var we={components:{Qrcode:F},props:{spmid:{default:""},aid:{default:""},bvid:{default:""},extra:{default:""}},data:function(){return{bsource:""}},computed:Oe(Oe({},Object(p.c)({currentBvid:function(t){return t.video.bvid},p:function(t){return t.video.p}})),{},{qrcodeText:function(){var t=this.extra?"&"+this.extra:"";return this.aid?"https://m.bilibili.com/video/av".concat(this.aid,"?from=h5&spmid=").concat(this.spmid,"&bsource=").concat(this.bsource).concat(t):"https://m.bilibili.com/video/".concat(this.bvid||this.currentBvid,"?from=h5&spmid=").concat(this.spmid,"&bsource=").concat(this.bsource).concat(t)}}),mounted:function(){this.$customReport("qrcodeDialog_show"),this.$customReportH5("show","qrcodeDialog"),this.$customReport("bottom_download_btn_show"),this.$customReportH5("show","bottom_download_btn"),this.bsource=window.bsource||"",document.body.classList.add("lock-scroll")},beforeDestroy:function(){document.body.classList.remove("lock-scroll")},methods:{close:function(){this.$emit("close")},download:function(){this.$customReport("bottom_download_btn_click"),this.$customReportH5("click","bottom_download_btn"),Object(ye.b)()}}},_e=(n(458),Object(N.a)(we,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-video-download-dialog"},[n("div",{staticClass:"dialog-content"},[t._m(0),t._v(" "),n("p",{staticClass:"tip"},[t._v("若无法识别请更新到最新版本")]),t._v(" "),n("div",{staticClass:"qrcode"},[n("Qrcode",{attrs:{text:t.qrcodeText,width:130,height:130}})],1),t._v(" "),n("div",{staticClass:"split-line"}),t._v(" "),n("div",{staticClass:"download-tip"},[t._v("\n      还没下载哔哩哔哩 ？\n    ")]),t._v(" "),n("div",{staticClass:"download-btn",on:{click:t.download}},[t._v("立即下载")]),t._v(" "),n("div",{staticClass:"close",on:{click:t.close}})])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"info"},[this._v("截图保存二维码"),e("br"),this._v("打开哔哩哔哩即可观看")])}],!1,null,null,null).exports),Ce=n(48),je=n.n(Ce);function Pe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function ke(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Pe(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Ae={components:{OpenAppVideo:q.a},data:function(){return{show:!1,reported:!1,inFirstScreen:!1}},computed:ke(ke({},Object(p.c)({info:function(t){return t.video.viewInfo},currentTab:function(t){return t.video.currentTab}})),{},{reply:function(){return this.info.stat&&this.info.stat.reply},tabName:function(){return{0:"relateRecom",1:"comment"}[this.currentTab]}}),methods:{judgeShow:function(){this.show=window.scrollY>40,this.show&&!this.reported&&(this.$customReportH5("show","fixBtn",{area:this.tabName}),this.reported=!0)},bindScrollEvent:function(){var t=this;window.addEventListener("scroll",je()((function(){t.judgeShow()}),200))},openApp:function(){this.$customReportH5("click","fixBtn",{area:window.scrollY>200?this.tabName:"player"})}},mounted:function(){"seo"!==window.bsource&&(this.judgeShow(),this.bindScrollEvent())}},De=(n(459),Object(N.a)(Ae,(function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"float-show"}},[this.show?e("OpenAppVideo",{staticClass:"m-float-openapp",attrs:{spmid:"333.401.click.fixBtn"},on:{"open-app":this.openApp}},[e("div",{staticClass:"m-video2-float-openapp"},[e("i",{staticClass:"iconfont Navbar_logo"}),this._v(" "),e("span",[this._v("内打开")])])]):this._e()],1)}),[],!1,null,"7bec10e8",null).exports),Se=n(168),xe=n(172),Te=n(201);function Ie(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Ee(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ie(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Re=["打开App，流畅又高清","打开App，看更多精彩视频","打开App，一起发弹幕看视频"],$e={components:{OpenAppVideo:q.a},props:{preloadWxtag:{},reportReady:{}},data:function(){return{startPop:!1,startScroll:!1,curIndex:0}},computed:Ee(Ee({},Object(p.c)({info:function(t){return t.video.viewInfo},p:function(t){return t.video.p},abtest:function(t){return t.common.abtest},quality:function(t){return t.video.highestQuality},keyword:function(t){return t.video.keyword},trigglePlay:function(t){return t.video.trigglePlay}})),{},{text:function(){var t,e,n=(null===(t=this.keyword)||void 0===t?void 0:t.getBytesLength())>18?(null===(e=this.keyword)||void 0===e?void 0:e.intercept(18))+"...":this.keyword;return["打开App，流畅又高清","打开App，看更多".concat(n||"精彩","视频"),"打开App，一起发弹幕看视频"][this.curIndex]}}),mounted:function(){this.startAnimation(),this.$customReportH5("show","naviBar")},methods:{startAnimation:function(){var t=this;this.startPop=!0;var e=function e(){setTimeout((function(){t.curIndex=(t.curIndex+1)%Re.length,t.curIndex&&e()}),3e3)},n=setInterval((function(){e()}),3e4);this.$once("hook:beforeDestroy",(function(){clearInterval(n)})),e()},openApp:function(){this.$customReportH5("click","naviBar")}}},Be=(n(460),Object(N.a)($e,(function(){var t=this.$createElement,e=this._self._c||t;return e("OpenAppVideo",{staticClass:"m-video-main-launchapp",attrs:{spmid:"333.401.click.naviBar",preloadWxtag:this.preloadWxtag},on:{"open-app":this.openApp}},[e("div",{staticClass:"m-video2-awaken-btn-v2"},[e("div",{staticClass:"container"},[e("transition",{attrs:{name:"scroll"}},[e("div",{key:this.text,staticClass:"btn-text"},[this._v(this._s(this.text))])])],1)])])}),[],!1,null,null,null).exports),Me=(n(145),n(38),n(146)),Le=n.n(Me);function He(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Ve(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?He(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Ne={components:{OpenAppVideo:q.a},props:{preloadWxtag:{},reportReady:{},reportParams:{}},data:function(){return{startPop:!1,startScroll:!1,curIndex:0}},computed:Ve({},Object(p.c)({info:function(t){return t.video.viewInfo},p:function(t){return t.video.p},abtest:function(t){return t.common.abtest},quality:function(t){return t.video.highestQuality}})),mounted:function(){this.$customReportH5("show","awakePopup",this.reportParams)},methods:{openApp:function(){this.$customReport("awakePopup",Ve(Ve({},this.reportParams),{},{action:"awake"})),this.$customReportH5("click","awakePopup",Ve(Ve({},this.reportParams),{},{action:"awake"}))}}},Fe=(n(461),Object(N.a)(Ne,(function(){var t=this.$createElement,e=this._self._c||t;return e("OpenAppVideo",{staticClass:"m-video-main-launchapp",attrs:{spmid:"333.401.click.awakePopup",preloadWxtag:this.preloadWxtag},on:{"open-app":this.openApp}},[e("div",{staticClass:"m-video2-awaken-btn-v2"},[e("div",{staticClass:"container"},[e("div",{staticClass:"btn-text"},[this._v("打开APP看高清视频")])])])])}),[],!1,null,null,null).exports);function Ue(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function qe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ue(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Ge={components:{BfsImg:U.a,OpenApp:Z.a,VDialog:Le.a,OpenAppBtnDialog:Fe},data:function(){return{open:!1,hasReport:!1}},computed:qe(qe({},Object(p.c)({info:function(t){return t.video.viewInfo},gameMode:function(t){return t.video.gameMode},noCallApp:function(t){return t.common.noCallApp},tinyApp:function(t){return t.common.tinyApp},abtest:function(t){return t.common.abtest},keyword:function(t){return t.video.keyword},trigglePlay:function(t){return t.video.trigglePlay}})),{},{pic:function(){var t;return(null===(t=this.info)||void 0===t?void 0:t.pic)||this.info.cover},title:function(){var t,e,n=Object(d.f)((null===(t=this.info)||void 0===t?void 0:t.title)||(null===(e=this.info)||void 0===e?void 0:e.name));return this.keyword?n.replace(this.keyword,'<span class="h_l">'.concat(this.keyword,"</span>")):n},titleText:function(){var t,e;return(null===(t=this.info)||void 0===t?void 0:t.title)||(null===(e=this.info)||void 0===e?void 0:e.name)},author:function(){var t,e;return(null===(t=this.info)||void 0===t||null===(e=t.owner)||void 0===e?void 0:e.name)||""},view:function(){var t,e,n,i;return Object(d.k)((null===(t=this.info)||void 0===t||null===(e=t.stat)||void 0===e?void 0:e.view)||(null===(n=this.info)||void 0===n?void 0:n.play)||(null===(i=this.info)||void 0===i?void 0:i.view_count))},danmaku:function(){var t,e,n,i;return Object(d.k)((null===(t=this.info)||void 0===t||null===(e=t.stat)||void 0===e?void 0:e.danmaku)||(null===(n=this.info)||void 0===n?void 0:n.danmaku)||(null===(i=this.info)||void 0===i?void 0:i.video_review))},duration:function(){var t;return Object(d.j)((null===(t=this.info)||void 0===t?void 0:t.duration)||this.info.length)},label:function(){return this.info.rcmd_reason||""},isLinkJump:function(){return this.info.url},directJump:function(){return this.info.url&&0!==this.info.url.indexOf("bilibili://")},directSchema:function(){return this.info.url&&0===this.info.url.indexOf("bilibili://")?this.info.url:""},isShowVt:function(){var t;return(null===(t=this.info)||void 0===t?void 0:t.enable_vt)||!1},viewTime:function(){var t,e,n,i,o,r;return(null===(t=this.info)||void 0===t?void 0:t.vt_display)||(null===(e=this.info)||void 0===e||null===(n=e.stat)||void 0===n?void 0:n.vt_display)||Object(d.k)((null===(i=this.info)||void 0===i?void 0:i.vt)||(null===(o=this.info)||void 0===o||null===(r=o.stat)||void 0===r?void 0:r.vt))}}),mounted:function(){this.$customReportH5("show","videoCard")},methods:{openApp:function(){var t=this;this.directJump?location.href=this.info.url:this.gameMode?this.$router.push("".concat(this.$transformLink(this.info.aid,this.info.bvid),"?from=game")):(this.tinyApp?this.$router.push("".concat(this.$transformLink(this.info.aid,this.info.bvid))):this.noCallApp&&setTimeout((function(){t.$router.push("".concat(t.$transformLink(t.info.aid,t.info.bvid)))}),1e3),this.$customReportH5("click","videoCard",{area:"title"}))},handlePlay:function(t){this.$customReport("videoCard",{area:t}),this.$customReportH5("click","videoCard",{area:t}),"3"===this.abtest.h5_exsisting_user_ipua?(this.open=!1,this.$emit("trigglePlay")):this.open=!0},handleView:function(){this.open=!1,this.$emit("trigglePlay"),this.$customReportH5("click","awakePopup",{action:"watch"})},handleCloseDialog:function(){this.open=!1}}},We=(n(462),Object(N.a)(Ge,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"natural-main-video"},["3"===t.abtest.h5_exsisting_user_ipua?n("OpenApp",{staticClass:"main-cover",attrs:{bvid:t.info.bvid,id:t.info.aid,type:"video",spmid:"333.401.click.videoCard",directSchema:t.directSchema,"data-aid":t.info.aid,directJump:t.directJump||t.tinyApp},on:{"open-app":function(e){return t.handlePlay("video")}}},[n("BfsImg",{staticClass:"pic",attrs:{src:t.pic,width:480,height:270,alt:t.title}}),t._v(" "),n("div",{staticClass:"play-icon"}),t._v(" "),t.isLinkJump?t._e():n("div",{staticClass:"count"},[n("div",{staticClass:"left"},[t.isShowVt?[n("span",{staticClass:"item"},[n("SVGIconNext",{staticClass:"icon",attrs:{icon:"BDC/playtime_square_line/1",size:"16"}}),t._v(" "),n("span",{staticClass:"num"},[t._v(t._s(t.viewTime))])],1),t._v(" "),n("span",{staticClass:"item"},[n("SVGIconNext",{staticClass:"icon",attrs:{icon:"BDC/danmu_square_line/1",size:"16"}}),t._v(" "),n("span",{staticClass:"num"},[t._v(t._s(t.danmaku))])],1)]:[n("span",{staticClass:"item"},[n("i",{staticClass:"iconfont icon_shipin_bofangshu"}),t._v(" "),n("span",{staticClass:"num"},[t._v(t._s(t.view))])]),t._v(" "),n("span",{staticClass:"item"},[n("i",{staticClass:"iconfont icon_shipin_danmushu"}),t._v(" "),n("span",{staticClass:"num"},[t._v(t._s(t.danmaku))])])]],2),t._v(" "),n("span",{staticClass:"duration"},[t._v(t._s(t.duration))])])],1):n("div",{staticClass:"main-cover",on:{click:function(e){return t.handlePlay("video")}}},[n("BfsImg",{staticClass:"pic",attrs:{src:t.pic,width:480,height:270,alt:t.title}}),t._v(" "),n("div",{staticClass:"play-icon"}),t._v(" "),t.isLinkJump?t._e():n("div",{staticClass:"count"},[n("div",{staticClass:"left"},[t.isShowVt?[n("span",{staticClass:"item"},[n("SVGIconNext",{staticClass:"icon",attrs:{icon:"BDC/playtime_square_line/1",size:"16"}}),t._v(" "),n("span",{staticClass:"num"},[t._v(t._s(t.viewTime))])],1),t._v(" "),n("span",{staticClass:"item"},[n("SVGIconNext",{staticClass:"icon",attrs:{icon:"BDC/danmu_square_line/1",size:"16"}}),t._v(" "),n("span",{staticClass:"num"},[t._v(t._s(t.danmaku))])],1)]:[n("span",{staticClass:"item"},[n("i",{staticClass:"iconfont icon_shipin_bofangshu"}),t._v(" "),n("span",{staticClass:"num"},[t._v(t._s(t.view))])]),t._v(" "),n("span",{staticClass:"item"},[n("i",{staticClass:"iconfont icon_shipin_danmushu"}),t._v(" "),n("span",{staticClass:"num"},[t._v(t._s(t.danmaku))])])]],2),t._v(" "),n("span",{staticClass:"duration"},[t._v(t._s(t.duration))])])],1),t._v(" "),n("div",{staticClass:"main-info"},[n("OpenApp",{staticClass:"v-card-toapp",attrs:{bvid:t.info.bvid,id:t.info.aid,type:"video",spmid:"333.401.click.videoCard",directSchema:t.directSchema,"data-aid":t.info.aid,"data-label":t.label,additions:{item_label:t.label},directJump:t.directJump||t.tinyApp},on:{"open-app":t.openApp}},[n("div",{staticClass:"main-info__container"},[n("h1",{staticClass:"title",domProps:{innerHTML:t._s(t.title)}}),t._v(" "),t.info.disable_show_up_info?t._e():n("div",{staticClass:"author"},[t._v(t._s(t.author))])])]),t._v(" "),"3"===t.abtest.h5_exsisting_user_ipua?n("OpenApp",{attrs:{bvid:t.info.bvid,id:t.info.aid,type:"video",spmid:"333.401.click.videoCard",directSchema:t.directSchema,"data-aid":t.info.aid,directJump:t.directJump||t.tinyApp},on:{"open-app":function(e){return t.handlePlay("play_btn")}}},[n("div",{staticClass:"btn light"},[t._v("立即播放")])]):n("div",{staticClass:"btn light",on:{click:function(e){return t.handlePlay("play_btn")}}},[t._v("立即播放")])],1),t._v(" "),n("VDialog",{staticClass:"natural-dialog",attrs:{mask:!0,"mask-close":!0,transition:"ios",height:"unset"},model:{value:t.open,callback:function(e){t.open=e},expression:"open"}},[n("div",{staticClass:"dialog"},[n("BfsImg",{staticClass:"dialog-pic",attrs:{src:t.pic,width:208,height:117,alt:t.title}}),t._v(" "),n("div",{staticClass:"title"},[t._v(t._s(t.titleText))]),t._v(" "),n("OpenAppBtnDialog",{staticClass:"visible-open-app-btn natural-margin",attrs:{preloadWxtag:!0,reportReady:!0}}),t._v(" "),n("div",{staticClass:"to-see",on:{click:t.handleView}},[t._v("继续在网页观看")])],1),t._v(" "),n("template",{slot:"outer"},[n("div",{staticClass:"natural-dailog-close",on:{click:t.handleCloseDialog}})])],2)],1)}),[],!1,null,null,null).exports);function Qe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function ze(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Qe(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Ye={components:{OpenAppBtn:Be,OpenAppVideo:q.a,GoTop:xe.a,MainVideo:We,Related:Dt},props:{breadcrumb:{},preloadWxtag:{}},data:function(){return{isMount:!1}},computed:ze(ze({},Object(p.c)({info:function(t){return t.video.viewInfo},p:function(t){return t.video.p},abtest:function(t){return t.common.abtest},keyword:function(t){return t.video.keyword},trigglePlay:function(t){return t.video.trigglePlay}})),{},{showPage:function(){return Object.keys(this.info).length},highLightText:function(){var t,e;return(null===(t=this.keyword)||void 0===t?void 0:t.getBytesLength())>18?(null===(e=this.keyword)||void 0===e?void 0:e.intercept(18))+"...":this.keyword}}),methods:{checkOpenAppDomState:function(){var t=document.querySelector(".m-nav-openapp"),e=document.querySelector(".visible-open-app-btn"),n=document.querySelector(".hiden-open-app-btn"),i=document.querySelector(".v-card-toapp"),o={navOpenAppBtn:t?"none"===getComputedStyle(t).display?1:2:0,openAppBtn:e?"none"===getComputedStyle(e).display?1:2:0,hidenOpenAppBtn:n?"none"===getComputedStyle(n).display?1:2:0,reletedCard:i?"none"===getComputedStyle(i).display?1:2:0};this.$customReportH5("click","monitor",o)},handleTrigglePlay:function(){this.$emit("triggleNormalPage")},openApp:function(){this.$customReportH5("click","relateRecomMoreTop")}},mounted:function(){var t=this;this.isMount=!0,this.$customReportH5("show","relateRecomMoreTop"),setTimeout((function(){t.checkOpenAppDomState()}),1e3)},beforeDestroy:function(){document.body.className=""}},Je=(n(463),Object(N.a)(Ye,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.showPage,expression:"showPage"}],staticClass:"natural-module"},[n("div",{staticClass:"fixed-module"},[n("MainVideo",{on:{trigglePlay:t.handleTrigglePlay}}),t._v(" "),n("OpenAppBtn",{staticClass:"visible-open-app-btn natural-margin",attrs:{preloadWxtag:!0,reportReady:!0}}),t._v(" "),n("OpenAppVideo",{staticClass:"m-video-main-launchapp  natural-margin-2",attrs:{spmid:"333.401.click.more",preloadWxtag:t.preloadWxtag},on:{"open-app":t.openApp}},[n("div",{staticClass:"ralated-video-title"},[n("div",{staticClass:"title"},[n("span",{staticClass:"normal h_l"},[t._v(t._s(t.highLightText))]),t._v(" "),n("span",{staticClass:"normal"},[t._v(t._s((t.highLightText?"· ":"")+"100+个相关视频"))])]),t._v(" "),n("div",{staticClass:"more"},[t._v("更多")])])])],1),t._v(" "),n("Related",{staticClass:"fixed-module-margin"}),t._v(" "),n("GoTop")],1)}),[],!1,null,"79aea87e",null).exports);function Ke(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Xe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ke(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Ze={inject:["imgSrcDefDomain"],components:{OpenAppVideo:q.a},props:{openAppOptions:{type:Object,default:function(){return{type:"video"}}}},data:function(){return{open:!1,showEntry:!1}},computed:Xe(Xe({},Object(p.c)({ua:function(t){return t.common.ua}})),{},{text:function(){return/UCBrowser/.test(this.ua)?"点击【继续跳转】，打开哔哩哔哩":"点击【允许】，打开哔哩哔哩"},reportParams:function(){return{type:"style1",ua:/UCBrowser/.test(this.ua)?"UCBrowser":"Quark"}},guideImgSrc:function(){return"//".concat(this.imgSrcDefDomain||"s1.hdslb.com","/bfs/static/jinkela/long/mstation/guide.png")}}),mounted:function(){var t=this;this.$customReportH5("show","awakeAppGuider",this.reportParams),tt.a.$on("openAppGuiderShow",(function(){t.isShow()}))},methods:{isShow:function(){var t=this;this.open=!0,setTimeout((function(){t.handleClose()}),3e3),this.$watch("open",(function(){setTimeout((function(){tt.a.$emit("cautionDialogShow")}),300)}))},handleClose:function(){this.open=!1,this.report()},report:function(){this.$customReportH5("click","awakeAppGuider",this.reportParams)}}},tn=(n(464),Object(N.a)(Ze,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"openapp-guide",on:{touchstart:function(t){t.stopPropagation()}}},[e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:this.open,expression:"open"}],staticClass:"guide-mask",on:{click:this.handleClose}},[e("div",{staticClass:"guide-pic",style:{backgroundImage:"url("+this.guideImgSrc+")"}})])])],1)}),[],!1,null,"77894c5c",null).exports),en={data:function(){return{isOpen:!1,text:"友情提示：为了您的体验，点击作品信息、UP主个人空间、点赞、收藏、转发、相关推荐等位置会打开/下载Bilibili客户端。这些功能与账号相关，仅在APP内提供服务。"}},mounted:function(){var t=this;tt.a.$on("cautionDialogShow",(function(){t.show()}))},methods:{show:function(){var t=this;f.c.gr_caution||(this.isOpen=!0,Object(f.b)("gr_caution"),clearTimeout(this.timeout),this.timeout=setTimeout((function(){t.isOpen=!1}),3e3))},hide:function(){clearTimeout(this.timeout),this.isOpen=!1}},beforeDestroy:function(){clearTimeout(this.timeout)}},nn=(n(465),Object(N.a)(en,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"caution-dialog",on:{touchstart:function(t){t.stopPropagation()}}},[e("transition",{attrs:{name:"slide"}},[this.isOpen?e("div",{staticClass:"content"},[e("div",{staticClass:"icon-close",on:{click:this.hide}}),this._v(" "),e("div",{staticClass:"main"},[e("div",{staticClass:"text"},[this._v(this._s(this.text))])])]):this._e()])],1)}),[],!1,null,"5c9c3c1a",null).exports),on={"-404":"啊叻？视频不见了？",62002:"啊叻？视频不见了？",62003:"稿件已审核通过，等待发布中",62004:"视频正在审核中，请耐心等待！",62005:"啊叻？视频不见了？","-403":"啊叻？视频不见了？"};function rn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function sn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rn(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var an={components:{Nav:l.a,ErrorPage:u.a,Player:X,OpenAppBtn:st,Info:bt,Toolbar:wt,BottomTab:qt,Season:zt,SeasonPanel:Xt,PartBase:ue,TextAd:he,ImgAd:be,Footer:Se.a,FloatBtn:De,QrcodeDialog:_e,GoTop:xe.a,OpenAppDialog:Te.a,OpenAppGuide:tn,NaturalSearch:Je,CautionDialog:nn},data:function(){return{isMount:!1,seasonPanelVisible:!1,showQrcode:!1,qrcodeSpmid:"",qrcodeBvid:"",qrcodeAid:"",qrcodeExtra:"",locsData:{},errorMap:on,playResume:!1}},computed:sn(sn({},Object(p.c)({info:function(t){return t.video.viewInfo},p:function(t){return t.video.p},error:function(t){return t.video.error},gameMode:function(t){return t.video.gameMode},renderTabs:function(t){return t.video.renderTabs},playState:function(t){return t.video.playState},abtest:function(t){return t.common.abtest},trigglePlay:function(t){return t.video.trigglePlay},ua:function(t){return t.common.ua},browser:function(t){return t.common.browser},isOldUser:function(t){return t.video.isOldUser}})),{},{pages:function(){return this.info.pages||[]},isHot:function(){return this.info&&this.info.label&&1===this.info.label.type},isShowGuid:function(){return!(!/UCBrowser/.test(this.ua)&&!/Quark/.test(this.ua))},isLimitedChannels:function(){return/MicroMessenger|wxwork|Weibo/i.test(this.ua)||/qzone\/.*_qz_([\d.]+)/i.test(this.ua)||/QQ\/([\d\.]+)/i.test(this.ua)}}),watch:{"info.ugc_season.id":function(){this.seasonPanelVisible&&(this.seasonPanelVisible=!1)}},methods:{toggleSeasonPanelVisible:function(t){this.seasonPanelVisible=t,t?(this.$customReport("ugc-video-drama-detail-all-drama",{daid:this.info.ugc_season.id}),document.body.className="no-scroll"):(this.$customReport("ugc-video-drama-detail-close-sectionid",{daid:this.info.ugc_season.id}),document.body.className="")},fetchAdData:function(){var t=this;Object(at.y)([3194,3213]).then((function(e){e&&0===(null==e?void 0:e.code)&&(t.locsData=e.data)}))},reloadVideo:function(){this.$refs.player.initPlayer(!0)},checkOpenAppDomState:function(){var t=document.querySelector(".m-nav-openapp"),e=document.querySelector(".visible-open-app-btn"),n=document.querySelector(".v-card-toapp"),i={navOpenAppBtn:t?"none"===getComputedStyle(t).display?1:2:0,openAppBtn:e?"none"===getComputedStyle(e).display?1:2:0,reletedCard:n?"none"===getComputedStyle(n).display?1:2:0};this.$customReportH5("click","monitor",i)},showQrDialog:function(){this.showQrcode=!0,this.playResume="play"===this.playState,this.playResume&&window.player.pause()},closeQrDialog:function(){var t=this;this.playResume&&window.player.play(),setTimeout((function(){t.showQrcode=!1}))},handleTriggleNormalPage:function(){this.$refs.player.play(),this.$store.commit("video/setTrigglePlay",!0)}},mounted:function(){var t=this;this.isMount=!0,this.fetchAdData(),setTimeout((function(){t.checkOpenAppDomState()}),1e3),tt.a.$on("showQrDialog",(function(e){t.showQrDialog(),t.qrcodeSpmid=e.spmid||"",t.qrcodeAid=e.aid||"",t.qrcodeBvid=e.bvid||"",t.qrcodeExtra=e.extra||""}))},beforeDestroy:function(){document.body.className=""}},cn=(n(466),Object(N.a)(an,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-video-new sticky",class:{gameMode:t.gameMode}},[t.gameMode?t._e():n("Nav",{attrs:{bussinessId:t.info.aid,type:"video",hasHotBtn:!0}}),t._v(" "),t.error?n("ErrorPage",{attrs:{reason:t.errorMap[t.error],from:"video"}}):[n("div",{directives:[{name:"show",rawName:"v-show",value:t.trigglePlay,expression:"trigglePlay"}]},[n("Player",{ref:"player"}),t._v(" "),t.gameMode?t._e():n("OpenAppBtn",{staticClass:"visible-open-app-btn",attrs:{preloadWxtag:!0,reportReady:!0}}),t._v(" "),n("Info"),t._v(" "),n("PartBase"),t._v(" "),t.locsData[3213]&&t.locsData[3213][0]?n("TextAd",{attrs:{id:3213,data:t.locsData[3213][0]}}):t._e(),t._v(" "),t.locsData[3194]&&t.locsData[3194][0]?n("ImgAd",{attrs:{id:3194,data:t.locsData[3194][0]}}):t._e(),t._v(" "),t.renderTabs?n("BottomTab"):t._e(),t._v(" "),t.gameMode?t._e():n("FloatBtn"),t._v(" "),n("GoTop")],1),t._v(" "),t.trigglePlay?t._e():n("NaturalSearch",{on:{triggleNormalPage:t.handleTriggleNormalPage}})],t._v(" "),t.showQrcode?n("QrcodeDialog",{attrs:{spmid:t.qrcodeSpmid,bvid:t.qrcodeBvid,aid:t.qrcodeAid,extra:t.qrcodeExtra},on:{close:t.closeQrDialog}}):t._e(),t._v(" "),n("CautionDialog"),t._v(" "),n("OpenAppDialog"),t._v(" "),t.isShowGuid?n("OpenAppGuide"):t._e(),t._v(" "),t.gameMode?t._e():n("Footer")],2)}),[],!1,null,"55ca5b53",null).exports),ln=n(202),un=(n(143),n(144)),pn=n.n(un),dn={components:{OpenAppVideo:q.a},props:{info:{},list:{default:function(){return[]}},index:{},rcount:{type:Number}},computed:{needMore:function(){return this.rcount>this.list.length}},methods:{formatMessage:function(t){var e=t.content,n=e.message,i=e.emote,o=void 0===i?{}:i,r=new RegExp(/\[[^\]]+\]/g);return n.replace(r,(function(t){if(o[t]){var e=o[t];if(4===e.type)return e.url;var n=e.meta&&1===e.meta.size?"s":"l",i=Object(d.A)(Object(d.C)(e.url,{w:50,h:50})),r="s"===n?'class="small"':"";return'<img src="'.concat(i,'" ').concat(r,' alt="').concat(e.text,'" />')}return t}))},toSpace:function(t){this.$customReport("commentCard"),this.$customReportH5("click","commentCard",{position:this.index+1,itemId:this.info.rpid,area:"allReply"}),this.$router.push("/space/".concat(t.mid,"?from=reply"))},toMorePage:function(){this.$customReport("commentCard"),this.$customReportH5("click","commentCard",{position:this.index+1,itemId:this.info.rpid,area:"allReply"})},report:function(t){var e=t.target.classList.contains("m-subpreview-openapp")?"blank":"allReply";this.$customReport("commentCard"),this.$customReportH5("click","commentCard",{position:this.index+1,itemId:this.info.rpid,area:e})}}},fn=(n(467),Object(N.a)(dn,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("OpenAppVideo",{staticClass:"m-subpreview-openapp",attrs:{spmid:"333.401.click.commentCard"},on:{click:t.report}},[n("div",{staticClass:"m-sub-reply-preview"},[t._l(t.list,(function(e,i){return n("p",{key:i,staticClass:"sub-preview-item"},[9!==e.state?[n("a",{staticClass:"name"},[t._v(t._s(e.member&&e.member.uname)+"：")]),t._v(" "),n("span",{staticClass:"content",domProps:{innerHTML:t._s(t.formatMessage(e))}})]:t._e()],2)})),t._v(" "),t.needMore?n("a",{staticClass:"show-more"},[t._v("共"+t._s(t.rcount)+"条回复"),n("i",{staticClass:"iconfont gengduo1"})]):t._e()],2)])}),[],!1,null,null,null).exports);function vn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function hn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vn(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var mn={components:{BfsImg:U.a,CommentSubPreview:fn,OpenAppVideo:q.a,Avatar:dt.a},props:{showTitle:{type:Boolean,default:!1}},data:function(){return{list:[],error:!1,count:0,loaded:!1,formatNum:d.k,formatReplyTime:d.l}},computed:hn(hn({},Object(p.c)({info:function(t){return t.video.viewInfo},userInfo:function(t){return t.common.userInfo},aid:function(t){return t.video.aid}})),{},{buttonText:function(){return this.error?"打开 App，流畅又高清":"打开 App，查看全部评论"},reply:function(){return Object(d.k)(this.info.stat&&this.info.stat.reply)||0}}),watch:{aid:function(t){t&&this.getReply()}},methods:{formatMessage:function(t){var e=t.content,n=e.message,i=e.emote,o=void 0===i?{}:i;n=Object(d.B)(n);var r=new RegExp(/\[[^\]]+\]/g);return n.replace(r,(function(t){if(o[t]){var e=o[t];if(4===e.type)return e.url;var n=e.meta&&1===e.meta.size?"s":"l",i=Object(d.A)(Object(d.C)(e.url,{w:50,h:50})),r="s"===n?'class="small"':"";return'<img src="'.concat(i,'" ').concat(r,' alt="').concat(e.text,'" />')}return t}))},getReply:function(){var t=this;Object(at.E)({oid:this.aid,type:1}).then((function(e){if(0!==(null==e?void 0:e.code))return t.error=!0,void(t.loaded=!0);t.list=(e.data.replies||[]).slice(0,2),t.count=e.data.cursor&&e.data.cursor.all_count||0,t.$nextTick((function(){t.loaded=!0}))}))},reportShow:function(){var t=this;this.timeout=setTimeout((function(){t.$scrollReportH5(t.$el,".comment-item","commentCard",{avid:function(){return t.aid},itemId:function(t){return t.dataset.rpid},share_times:function(){return t.$route.query.share_times}})}),1e3)},report:function(t,e,n){this.$customReport("commentCard",window.bsource),this.$customReportH5("click","commentCard",{position:t+1,area:n,itemId:e.rpid})},openApp:function(t,e,n){!n||n.target.classList.contains("time")||n.target.classList.contains("content")||this.report(t,e,"blank"),n||this.report(t,e,"mainCard")},commentMore:function(){this.$customReport("commentMore",window.bsource),this.$customReportH5("click","commentMore")},getOfficial:function(t){var e,n,i=null===(e=t.member)||void 0===e||null===(n=e.official_verify)||void 0===n?void 0:n.type;return 0===i?"VerifyOfficial":1===i?"VerifyEnterprise":""},isNft:function(t){var e;return 1===(null===(e=t.member)||void 0===e?void 0:e.face_nft_new)}},mounted:function(){this.reportShow(),this.getReply()},beforeDestroy:function(){clearTimeout(this.timeout)}},bn=(n(468),Object(N.a)(mn,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-video-comment report-scroll-module",attrs:{id:"comment"}},[t.showTitle?n("div",{staticClass:"title"},[t._v("评论"),n("span",{staticClass:"count"},[t._v(t._s(t.reply))])]):t._e(),t._v(" "),n("div",{staticClass:"list"},[n("ul",t._l(t.list,(function(e,i){return n("li",{key:i,staticClass:"comment-item",attrs:{"data-rpid":e.rpid}},[n("OpenAppVideo",{staticClass:"comment-item-openapp",attrs:{spmid:"333.401.click.commentCard"},on:{"open-app":function(n){return t.openApp(i,e,n)}}},[n("div",{staticClass:"head",on:{click:function(n){return t.report(i,e,"avatar")}}},[n("Avatar",{attrs:{face:e&&e.member&&e.member.avatar,size:30,isNft:t.isNft(e),officialRole:t.getOfficial(e),nftTagCls:{"nft-tag-left":t.getOfficial(e)},noBorder:""}})],1),t._v(" "),n("div",{staticClass:"detail"},[n("div",{staticClass:"user"},[n("span",{staticClass:"name",on:{click:function(n){return t.report(i,e,"nickname")}}},[t._v(t._s(e.member.uname))]),t._v(" "),n("span",{staticClass:"like",on:{click:function(n){return t.report(i,e,"like")}}},[n("i",{staticClass:"iconfont like2"}),t._v(" "),n("span",[t._v(t._s(t.formatNum(e.like)))])])]),t._v(" "),n("p",{staticClass:"time",on:{click:function(n){return t.report(i,e,"time")}}},[t._v(t._s(t.formatReplyTime(e.ctime)))]),t._v(" "),n("p",{staticClass:"content",domProps:{innerHTML:t._s(t.formatMessage(e))},on:{click:function(n){return t.report(i,e,"comment")}}})]),t._v(" "),e.rcount>0&&e.replies?n("CommentSubPreview",{attrs:{info:e,index:i,list:e.replies.slice(0,2),rcount:e.rcount}}):t._e()],1)],1)})),0),t._v(" "),t.loaded?t._e():n("div",{staticClass:"skeleton"}),t._v(" "),t.loaded&&0===t.list.length&&!t.error?n("div",{staticClass:"empty"},[t._v("\n      评论正在路上，不如先看看其它视频～\n    ")]):t._e(),t._v(" "),t.loaded&&t.error?n("div",{staticClass:"empty"},[t._v("\n      当前稿件的评论功能已关闭\n    ")]):t._e()]),t._v(" "),t.loaded&&t.list.length>0?n("div",{staticClass:"openapp report-scroll-module",attrs:{id:"commentMore"}},[n("OpenAppVideo",{staticClass:"m-comment-openapp",attrs:{spmid:"333.401.click.commentMore"},on:{"open-app":t.commentMore}},[n("button",[n("span",[t._v(t._s(t.buttonText))]),t._v(" "),n("i",{staticClass:"iconfont gengduo1"})])])],1):t._e()])}),[],!1,null,"1c44222c",null).exports);function yn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function gn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?yn(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var On={computed:gn(gn({},Object(p.c)({aid:function(t){return t.video.aid},info:function(t){return t.video.viewInfo}})),{},{forbidComment:function(){var t,e,n,i=null===(t=this.info.goods_info)||void 0===t?void 0:t.some((function(t){return 1===t.category&&1===t.pay_stat}));return(null===(e=this.info.rights)||void 0===e?void 0:e.arc_pay)&&!(i||null!==(n=this.info.rights)&&void 0!==n&&n.free_watch)}}),mounted:function(){this.initComment()},beforeDestroy:function(){this.instance&&(this.instance.$destroy(),document.body.removeChild(this.emoj),window.commentInstance=null)},methods:{loadComment:function(){return o()(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.initComment){t.next=3;break}return t.next=3,Object(d.s)("//s1.hdslb.com/bfs/seed/jinkela/comment-h5/comment-h5.min.js");case 3:case"end":return t.stop()}}),t)})))()},initComment:function(){var t=this;return o()(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadComment();case 2:t.instance=window.initComment("#full-comment",{pageType:1,oid:t.aid,singlePageMode:!0}),window.commentInstance=t.instance,t.emoj=t.$el.querySelector(".reply-emoji-panel"),t.emoj&&document.body.appendChild(t.emoj);case 6:case"end":return e.stop()}}),e)})))()}}},wn=(n(469),Object(N.a)(On,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{class:{"forbid-comment":this.forbidComment}},[e("div",{attrs:{id:"full-comment"}})])}),[],!1,null,null,null).exports);function _n(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Cn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_n(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_n(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var jn={components:{VSwitcher:pn.a,Related:Dt,Comment:bn,CommentFull:wn},watch:{reply:function(){var t=this;this.$nextTick((function(){t.$refs.switcher.calcHeader()}))}},data:function(){return{firstLoad:!0}},computed:Cn(Cn({},Object(p.c)({info:function(t){return t.video.viewInfo},gameMode:function(t){return t.video.gameMode},related:function(t){return t.video.related},hotShare:function(t){return t.video.hotShare},noCallApp:function(t){return t.common.noCallApp},aid:function(t){return t.video.aid},abtest:function(t){return t.common.abtest}})),{},{tabList:function(){var t=this.reply;return["相关推荐","评论 ".concat(t||"")]},reply:function(){return Object(d.k)(this.info.stat&&this.info.stat.reply)||0},defaultTab:function(){var t=0===this.related.length,e=0===this.info.stat.reply;return t&&!e?1:0}}),methods:Cn(Cn({},Object(p.b)("video",["setCurrentTab"])),{},{switchTab:function(t){this.showTags=0===t;var e=0,n=1;this.setCurrentTab(t),t===e?(this.firstLoad||this.$customReportH5("click","relateRecomTab"),this.firstLoad=!1):t===n&&this.$customReportH5("show","commentTab");var i=this.$el.offsetTop;window.scrollY>i&&window.scrollTo(0,i)}}),mounted:function(){var t=this;this.setCurrentTab(0),setTimeout((function(){t.$customReportH5("show","RecomTabDefault")}),1e3)}},Pn=(n(470),Object(N.a)(jn,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bottom-tab"},[e("VSwitcher",{ref:"switcher",staticClass:"m-video-bottom-tab",attrs:{headers:this.tabList,align:"around",sticky:!0,fluid:!0,"fixed-top":0,"default-index":this.defaultTab},on:{change:this.switchTab}},[e("Related",{ref:"Related",attrs:{slot:"0"},slot:"0"}),this._v(" "),e("CommentFull",{ref:"Comment",attrs:{slot:"1"},slot:"1"})],1)],1)}),[],!1,null,null,null).exports);function kn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function An(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kn(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Dn={components:{Avatar:dt.a,OpenAppVideo:q.a},data:function(){return{foldHeight:0,actUrl:"",tags:[]}},computed:An(An({},Object(p.c)({info:function(t){return t.video.viewInfo},gameMode:function(t){return t.video.gameMode},upInfo:function(t){return t.video.upInfo},infoFolded:function(t){return t.video.infoFolded},teenager:function(t){return t.common.teenager},abtest:function(t){return t.common.abtest}})),{},{view:function(){return Object(d.k)(this.info.stat&&this.info.stat.view)||0},danmaku:function(){return Object(d.k)(this.info.stat&&this.info.stat.danmaku)||0},date:function(){return Object(d.h)(1e3*this.info.pubdate)},isHot:function(){return this.info&&this.info.label&&1===this.info.label.type},missionId:function(){return this.info&&this.info.mission_id},reprint:function(){return this.info&&this.info.rights&&this.info.rights.no_reprint||0},fans:function(){return Object(d.k)(this.upInfo.follower)},roleType:function(){var t;return this.upInfo.card&&(null===(t=this.upInfo.card)||void 0===t?void 0:t.Official.type)},isNft:function(){var t;return 1===(null===(t=this.upInfo.card)||void 0===t?void 0:t.face_nft)}}),methods:An(An({},Object(p.b)("video",["setInfoFolded"])),{},{toggleFold:function(t,e){e&&"a"===e.target.tagName.toLowerCase()||(this.setInfoFolded(!this.infoFolded),this.report("desc_more",{area:t,status:this.infoFolded?"off":"on"}))},calcFoldHeight:function(){this.foldHeight=(this.$refs.foldArea&&this.$refs.foldArea.scrollHeight)+15},fetchActInfo:function(){var t=this;Object(at.a)(this.missionId,this.info.aid).then((function(e){0===(null==e?void 0:e.code)&&(t.actUrl=e.data.act_url)}))},fetchTags:function(){var t=this;Object(at.w)(this.info.aid).then((function(e){0===(null==e?void 0:e.code)&&(t.tags=e.data)}))},tagClick:function(t){this.$customReport("titleTag",{type:t}),this.$customReportH5("click","titleTag",{type:t})},report:function(t,e){e?e.fold=this.infoFolded:e={fold:this.infoFolded},this.$customReport(t,e),this.$customReportH5("click",t,e)},reportAndJump:function(t,e){this.gameMode||(this.report(t),this.$router.push(e))}}),beforeMount:function(){this.setInfoFolded(!0)},mounted:function(){var t=this;tt.a.$on("toggle-video-info-fold",(function(){t.setInfoFolded(!t.infoFolded),t.report("desc_more",{area:"play",status:t.infoFolded?"off":"on"})})),this.calcFoldHeight(),setTimeout((function(){t.isHot&&t.$customReportH5("show","titleTag",{type:"hot"}),t.missionId>0&&!t.isHot&&t.$customReportH5("show","titleTag",{type:"activity"})}),2e3),this.missionId>0&&!this.isHot&&this.fetchActInfo(),this.fetchTags()},updated:function(){this.calcFoldHeight()}},Sn=(n(471),Object(N.a)(Dn,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-video-info-new",class:{gameMode:t.gameMode,teenager:t.teenager}},[n("div",{staticClass:"title"},[n("div",{staticClass:"left"},[t.isHot?n("a",{staticClass:"label",attrs:{href:"//www.bilibili.com/h5/popular?from=play",target:"_blank"},on:{click:function(e){return t.tagClick("hot")}}},[n("i",{staticClass:"iconfont ic_popular"}),t._v(" "),n("span",[t._v("热门")])]):t.missionId>0?n("a",{staticClass:"label",attrs:{href:t.actUrl,target:"_blank"},on:{click:function(e){return t.tagClick("activity")}}},[n("span",[t._v("活动")])]):t._e(),t._v(" "),n("h1",{class:{spread:!t.infoFolded,isHot:t.isHot,"has-activity":t.missionId>0},domProps:{textContent:t._s(t.info.title)},on:{click:function(e){return t.toggleFold("title")}}})]),t._v(" "),n("div",{staticClass:"right",class:{spread:!t.infoFolded},on:{click:function(e){return t.toggleFold("btn")}}},[n("i",{staticClass:"iconfont general_pulldown_s"})]),t._v(" "),n("div",{staticClass:"clear"})]),t._v(" "),n("div",{staticClass:"fold-container",style:{height:t.infoFolded?0:t.foldHeight+"px"},on:{click:function(e){return t.toggleFold("main",e)}}},[n("div",{ref:"foldArea",staticClass:"fold-area"},[n("div",{staticClass:"up"},[n("div",{staticClass:"face"},[n("Avatar",{staticClass:"avatar",attrs:{face:t.upInfo.card&&t.upInfo.card.face,isNft:t.isNft,officialType:t.roleType,size:"40"},nativeOn:{click:function(e){return t.reportAndJump("upface","/space/"+(t.info.owner&&t.info.owner.mid)+"?from=video")}}}),t._v(" "),n("div",{staticClass:"info"},[n("a",{staticClass:"name",on:{click:function(e){return t.reportAndJump("upname","/space/"+(t.info.owner&&t.info.owner.mid)+"?from=video")}}},[t._v(t._s(t.info.owner?t.info.owner.name:""))]),t._v(" "),n("p",{staticClass:"fans"},[t._v(t._s(t.fans)+"粉丝")])])],1),t._v(" "),t.gameMode?t._e():n("div",{staticClass:"follow"},[n("OpenAppVideo",{attrs:{spmid:"333.401.click.upfollow"},on:{"open-app":function(e){return t.report("upfollow")}}},[n("span",{staticClass:"follow-btn"},[n("i",{staticClass:"iconfont ic_add1"}),t._v(" "),n("span",[t._v(" 关注")])])])],1)]),t._v(" "),n("div",{staticClass:"data",on:{click:function(e){return t.toggleFold("main",e)}}},[n("span",{staticClass:"view"},[t._v(t._s(t.view)+"观看")]),t._v(" "),n("span",{staticClass:"danmaku"},[t._v(t._s(t.danmaku)+"弹幕")]),t._v(" "),n("span",{staticClass:"time"},[t._v(t._s(t.date))]),t._v(" "),n("span",{staticClass:"bvid"},[t._v(t._s(t.info.bvid))])]),t._v(" "),t.reprint?n("p",{staticClass:"copyright"},[n("i",{staticClass:"iconfont Blocked"}),t._v(" "),n("span",[t._v("未经作者授权禁止转载")])]):t._e(),t._v(" "),n("p",{staticClass:"desc",domProps:{textContent:t._s(t.info.desc)}})])])])}),[],!1,null,null,null).exports);function xn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Tn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xn(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var In={components:{OpenApp:Z.a,OpenAppVideo:q.a,Avatar:dt.a},data:function(){return{showShare:!1}},computed:Tn(Tn({},Object(p.c)({info:function(t){return t.video.viewInfo},abtest:function(t){return t.common.abtest},upInfo:function(t){return t.video.upInfo},infoFolded:function(t){return t.video.infoFolded}})),{},{like:function(){return Object(d.k)(this.info.stat.like)},fav:function(){return Object(d.k)(this.info.stat.favorite)},view:function(){return Object(d.k)(this.info.stat&&this.info.stat.view)||0},roleType:function(){var t;return null===(t=this.upInfo.card)||void 0===t?void 0:t.Official.type},isNft:function(){var t;return 1===(null===(t=this.upInfo.card)||void 0===t?void 0:t.face_nft)}}),methods:{toggleInfoFold:function(){tt.a.$emit("toggle-video-info-fold")},report:function(t){this.$customReport(t,{bsource:window.bsource,fold:this.infoFolded}),this.$customReportH5("click",t,{fold:this.infoFolded})},jumpToSpace:function(t){this.report(t),this.$router.push("/space/".concat(this.info.owner&&this.info.owner.mid,"?from=video"))}}},En=(n(472),Object(N.a)(In,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-video2-toolbar"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.infoFolded,expression:"infoFolded"}],staticClass:"left"},[n("Avatar",{staticClass:"avatar",attrs:{size:20,face:t.upInfo.card&&t.upInfo.card.face,isNft:t.isNft,officialType:t.roleType},nativeOn:{click:function(e){return t.jumpToSpace("upface")}}}),t._v(" "),n("a",{staticClass:"name",on:{click:function(e){return t.jumpToSpace("upname")}}},[t._v(t._s(t.info.owner?t.info.owner.name:""))])],1),t._v(" "),n("div",{class:t.infoFolded?"right":"left"},[t.infoFolded?n("span",{staticClass:"view-stat",on:{click:t.toggleInfoFold}},[t._v(t._s(t.view)+"观看")]):t._e(),t._v(" "),n("OpenAppVideo",{attrs:{spmid:"333.401.click.like"},on:{"open-app":function(e){return t.report("like")}}},[n("span",{staticClass:"toolbar-item"},[n("i",{staticClass:"iconfont dianzan"}),t._v(" "),n("span",[t._v(t._s(t.like))])])]),t._v(" "),n("OpenAppVideo",{attrs:{spmid:"333.401.click.favorite"},on:{"open-app":function(e){return t.report("favorite")}}},[n("span",{staticClass:"toolbar-item"},[n("i",{staticClass:"iconfont icon_fav"}),t._v(" "),n("span",[t._v(t._s(t.fav))])])]),t._v(" "),t.infoFolded?t._e():n("OpenAppVideo",{attrs:{spmid:"333.401.click.download"},on:{"open-app":function(e){return t.report("download")}}},[n("span",{staticClass:"toolbar-item"},[n("i",{staticClass:"iconfont huancun"}),t._v(" "),n("span",[t._v("缓存")])])])],1),t._v(" "),n("div",{staticClass:"clear"})])}),[],!1,null,null,null).exports),Rn=n(10);function $n(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Bn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$n(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$n(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Mn={components:{Nav:l.a,ErrorPage:u.a,Player:X,OpenAppBtn:st,Info:Sn,Toolbar:En,BottomTab:Pn,Season:zt,SeasonPanel:Xt,Part:ne,PartPanel:se,TextAd:he,ImgAd:be,GoTop:xe.a,TinyUpgrade:ln.a},data:function(){return{isMount:!1,partPanelVisible:!1,seasonPanelVisible:!1,downloadDialogVisible:!1,sharePanelVisible:!1,showQrcode:!1,qrcodeSpmid:"",qrcodeBvid:"",qrcodeAid:"",qrcodeExtra:"",locsData:{},errorMap:{"-404":"啊叻？视频不见了？",62002:"啊叻？视频不见了？",62003:"稿件已审核通过，等待发布中",62004:"视频正在审核中，请耐心等待！",62005:"啊叻？视频不见了？","-403":"啊叻？视频不见了？"},playResume:!1}},computed:Bn(Bn({},Object(p.c)({info:function(t){return t.video.viewInfo},p:function(t){return t.video.p},error:function(t){return t.video.error},gameMode:function(t){return t.video.gameMode},renderTabs:function(t){return t.video.renderTabs},playState:function(t){return t.video.playState},tinyApp:function(t){return t.common.tinyApp},teenager:function(t){return t.common.teenager},abtest:function(t){return t.common.abtest}})),{},{pages:function(){return this.info.pages||[]},isHot:function(){return this.info&&this.info.label&&1===this.info.label.type}}),watch:{"info.ugc_season.id":function(){this.seasonPanelVisible&&(this.seasonPanelVisible=!1)},"info.bvid":function(){this.partPanelVisible&&(this.partPanelVisible=!1)}},methods:{togglePartPanelVisible:function(t){this.partPanelVisible=t,document.body.className=t?"no-scroll":""},toggleSeasonPanelVisible:function(t){this.seasonPanelVisible=t,t?(this.$customReport("ugc-video-drama-detail-all-drama",{daid:this.info.ugc_season.id}),document.body.className="no-scroll"):(this.$customReport("ugc-video-drama-detail-close-sectionid",{daid:this.info.ugc_season.id}),document.body.className="")},fetchAdData:function(){var t=this;Object(at.y)([3194,3213]).then((function(e){e&&0===(null==e?void 0:e.code)&&(t.locsData=e.data)}))},reloadVideo:function(){this.$refs.player.initPlayer(!0)},checkOpenAppDomState:function(){var t=document.querySelector(".m-nav-openapp"),e=document.querySelector(".visible-open-app-btn"),n=document.querySelector(".hiden-open-app-btn"),i=document.querySelector(".v-card-toapp"),o={navOpenAppBtn:t?"none"===getComputedStyle(t).display?1:2:0,openAppBtn:e?"none"===getComputedStyle(e).display?1:2:0,hidenOpenAppBtn:n?"none"===getComputedStyle(n).display?1:2:0,reletedCard:i?"none"===getComputedStyle(i).display?1:2:0};this.$customReportH5("click","monitor",o)},showQrDialog:function(){this.showQrcode=!0,this.playResume="play"===this.playState,this.playResume&&window.player.pause()},closeQrDialog:function(){var t=this;this.playResume&&window.player.play(),setTimeout((function(){t.showQrcode=!1}))}},beforeMount:function(){if(this.teenager&&this.info.teenage_mode)return Object(Rn.f)(),void this.$router.replace("/")},mounted:function(){var t=this;this.isMount=!0,this.fetchAdData(),setTimeout((function(){t.checkOpenAppDomState()}),1e3),tt.a.$on("showQrDialog",(function(e){t.showQrDialog(),t.qrcodeSpmid=e.spmid||"",t.qrcodeAid=e.aid||"",t.qrcodeBvid=e.bvid||"",t.qrcodeExtra=e.extra||""}))},beforeDestroy:function(){document.body.className=""}},Ln=(n(473),Object(N.a)(Mn,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-video-new sticky"},[n("Nav",{attrs:{bussinessId:t.info.aid,type:"video",hasHotBtn:!0}}),t._v(" "),t.error?n("ErrorPage",{attrs:{reason:t.errorMap[t.error],from:"video"}}):[n("Player",{ref:"player"}),t._v(" "),n("OpenAppBtn",{staticClass:"visible-open-app-btn hidden",attrs:{preloadWxtag:!0,reportReady:!0}}),t._v(" "),n("Info"),t._v(" "),t.teenager?t._e():[n("Toolbar"),t._v(" "),t.info.ugc_season?n("Season",{on:{expand:function(e){return t.toggleSeasonPanelVisible(!0)}}}):t._e(),t._v(" "),t.info.ugc_season&&t.isMount?n("SeasonPanel",{directives:[{name:"show",rawName:"v-show",value:t.seasonPanelVisible,expression:"seasonPanelVisible"}],attrs:{isShow:t.seasonPanelVisible},on:{close:function(e){return t.toggleSeasonPanelVisible(!1)}}}):t._e(),t._v(" "),t.pages.length>1?n("Part",{on:{expand:function(e){return t.togglePartPanelVisible(!0)}}}):t._e(),t._v(" "),t.pages.length>1&&t.isMount?n("PartPanel",{directives:[{name:"show",rawName:"v-show",value:t.partPanelVisible,expression:"partPanelVisible"}],attrs:{isShow:t.partPanelVisible},on:{close:function(e){return t.togglePartPanelVisible(!1)}}}):t._e(),t._v(" "),t.locsData[3213]&&t.locsData[3213][0]?n("TextAd",{attrs:{id:3213,data:t.locsData[3213][0]}}):t._e(),t._v(" "),t.locsData[3194]&&t.locsData[3194][0]?n("ImgAd",{attrs:{id:3194,data:t.locsData[3194][0]}}):t._e(),t._v(" "),t.renderTabs?n("BottomTab"):t._e(),t._v(" "),n("GoTop")]],t._v(" "),n("TinyUpgrade")],2)}),[],!1,null,null,null).exports),Hn=n(29);function Vn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Nn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Vn(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Fn={components:{BfsImg:U.a,OpenApp:Z.a,OpenAppVideo:q.a},props:{type:{},hasHotBtn:{}},data:function(){return{env:Hn.a}},computed:Nn(Nn({},Object(p.c)({p:function(t){return t.video.p},keyword:function(t){return t.video.keyword}})),{},{spmid:function(){return"".concat(this.$route.meta.spmPrefix,".click.topDownload")}}),methods:Nn(Nn({},Object(p.b)("common",["setUserInfo"])),{},{openApp:function(){this.$customReport("topDownload",{}),this.$customReportH5("click","topDownload",{})},fetchUserInfo:function(){var t=this;Object(at.L)().then((function(e){0===(null==e?void 0:e.code)?t.setUserInfo(e.data):t.setUserInfo({isLogin:!1,face:"",uname:""})}))},report:function(t){this.$customReportH5("click",t)}}),mounted:function(){var t=this;setTimeout((function(){t.$customReportH5("show","search"),t.$customReportH5("show","myzone"),t.$customReportH5("show","home"),t.$customReportH5("show","topDownload")}),1e3),this.hasHotBtn&&setTimeout((function(){t.$customReportH5("show","ugc-video")}),1e3)}},Un=(n(474),Object(N.a)(Fn,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-navbar"},[t.env&&"prod"!==t.env?n("div",{staticClass:"push-env"},[t._v(t._s(t.env))]):t._e(),t._v(" "),n("div",{staticClass:"logo",attrs:{title:"哔哩哔哩(B站)官网"},on:{"!click":function(e){return t.report("home")}}},[n("BfsImg",{staticClass:"img logo-img",attrs:{src:"//s1.hdslb.com/bfs/static/jinkela/long/mstation/logo-bilibili-pink.png",width:66,height:30,alt:"bilibili官网"}})],1)])}),[],!1,null,"22625317",null).exports);function qn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Gn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?qn(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Wn={components:{BfsImg:U.a,NeedChargeTip:z},watch:{playUrlInfo:function(t){var e=this;if(t){if(window.player&&window.player.destroy(),window.BiliH5Player)return void this.initPlayer();Object(d.s)("".concat(this.playerUrl)).then((function(){e.initPlayer()}))}}},data:function(){return{bsource:""}},computed:Gn(Gn({},Object(p.c)({bvid:function(t){return t.video.bvid},info:function(t){return t.video.viewInfo},p:function(t){return t.video.p},isClient:function(t){return t.video.isClient},playUrlInfo:function(t){return t.video.playUrlInfo},gameMode:function(t){return t.video.gameMode},abtest:function(t){return t.common.abtest},browser:function(t){return t.common.browser},showPlayBtn:function(t){return t.video.qrcodePlayBtnShow},userInfo:function(t){return t.common.userInfo},trigglePlay:function(t){return t.video.trigglePlay},bsourceStore:function(t){return t.video.bsource}})),{},{pic:function(){return this.info.pic},getRealBsource:function(){return this.bsourceStore||this.bsource||""},truePic:function(){return"".concat(Object(d.A)(this.info.pic),"@480w_270h_1c")},cid:function(){var t=this.info.pages;if(t&&0!==t.length)return t[this.p-1].cid},playUrl:function(){var t=this.playUrlInfo;if(t)return t&&t.length>0?Object(d.A)(t[0].url):""},playerUrl:function(){var t=Math.ceil(Date.now()/6e5);return"//s1.hdslb.com/bfs/static/player/main/html5/mplayer.js?v=".concat(t)},playerOptions:function(){var t,e,n,i,o=Number(null===(t=this.$route.query)||void 0===t?void 0:t.start_progress)||1e3*Number(null===(e=this.$route.query)||void 0===e?void 0:e.t)||0,r=Math.floor((o>=0?o:0)/1e3),s=((null===(n=this.$route.meta)||void 0===n?void 0:n.spmPrefix)||"0.0")+".0.0";return{type:3,aid:this.info.aid,bvid:this.info.bvid,cid:this.cid,readyPoster:this.truePic,readyVideoUrl:this.playUrl,readyDuration:this.info.duration,noRecommend:this.gameMode,callAppMode:!1,spmid:s,showReturn:!0,webFull:this.isWebFull,danmaku:!(null!==(i=this.info.rights)&&void 0!==i&&i.is_stein_gate),t:r,test:JSON.stringify({fullScreenCallApp:this.fullScreenCallApp,allCallApp:this.coverOpenApp,playBthCallApp:this.playBtnOpenApp,playBthNoCallApp:this.playBtnNoOpenApp})}},loadPlayerScript:function(){return'\n        <script src="'.concat(this.playerUrl,'"><\/script>\n        <script type="text/javascript">\n          var options = ').concat(JSON.stringify(this.playerOptions),";\n          var player = new BPlayerMobile(options);\n          window.player = player\n          window.videoCid = ").concat(this.cid,"\n        <\/script>\n      ")},view:function(){return Object(d.k)(this.info.stat&&this.info.stat.view)||0},danmaku:function(){return Object(d.k)(this.info.stat&&this.info.stat.danmaku)||0},date:function(){return Object(d.i)(1e3*this.info.pubdate)},duration:function(){return Object(d.j)(this.info.duration)},isWebFull:function(){return!!this.browser.zhihu},unpay:function(){var t,e,n=null===(t=this.info.goods_info)||void 0===t?void 0:t.some((function(t){return 1===t.category&&1===t.pay_stat}));return(null===(e=this.info.rights)||void 0===e?void 0:e.arc_pay)&&!(n||this.info.rights.free_watch)},needCharge:function(){var t,e;return(null===(t=this.info)||void 0===t?void 0:t.is_upower_exclusive)&&!(null!==(e=this.info)&&void 0!==e&&e.is_upower_play)},fullScreenCallApp:function(){return!1},coverOpenApp:function(){return!1},playBtnOpenApp:function(){return!1},playBtnNoOpenApp:function(){return!0}}),beforeMount:function(){window.player&&this.bindPlayerstate()},mounted:function(){var t=this;setTimeout((function(){t.bsource=window.bsource}),1e3),this.isClient||this.setPlayerTest()},beforeDestroy:function(){this.setCurrentTime(0),this.setPlayState("init"),window.player&&window.player.destroy()},methods:Gn(Gn({},Object(p.b)("video",["setPlayState","setCurrentTime"])),{},{performanceReport:function(t){window&&window.performanceReport&&window.performanceReport(t)},bindPlayerstate:function(){var t=this;player.on("ready",(function(){t.setPlayState("ready")})),player.on("video_media_play",(function(){t.setPlayState("play")})),player.on("video_media_pause",(function(){t.setPlayState("pause")})),player.on("video_media_ended",(function(){t.setPlayState("end")})),player.on("video_media_time",(function(){t.setCurrentTime(player.getCurrentTime())})),player.on("video_media_first_play_success",(function(){t.$customReport("start_play"),t.$customReportH5("show","start_play",{start_play_type:0,soundSwitchStatus:1})})),player.on("video_media_loaded",(function(){window.performanceReport("video_loaded")})),player.on("restart_call_app",(function(){Object(f.b)("h5_replay_click")})),player.on("force_call_app_show",(function(){Object(f.b)("h5_playing_force_lahuo")}))},initPlayer:function(t){var e=this,n=Gn({},this.playerOptions);if(window.videoCid=this.cid,this.setCurrentTime(0),this.setPlayState("init"),setTimeout((function(){e.bindPlayerstate()}),200),t)return delete n.readyPoster,delete n.readyVideoUrl,delete n.readyDuration,void window.player.reload(n);var i=new BPlayerMobile(n);window.player=i},setPlayerTest:function(){var t,e,n=this.abtest,i=!f.c.h5_replay_click&&n.h5_replay_click||n.h5_replay_lahuo_popup,o=Number(n.h5_playing_force_lahuo)>=2,r=Number(n.h5_playing_lahuo_popup||n.h5_playing_force_lahuo),s=r>=2?.05*(r-2)+.2:0,a={};i&&(a.restartCallApp=!0),s&&(a.forceProgress=s),o&&(a.forceCallApp=o),null===(t=window.player)||void 0===t||null===(e=t.resetTest)||void 0===e||e.call(t,JSON.stringify(a))},play:function(){window.player&&window.player.play()}})},Qn=(n(475),Object(N.a)(Wn,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-video-player"},[t.unpay||t.needCharge?t.needCharge?n("need-charge-tip",{key:"3"}):n("div",{key:"2",staticClass:"cover-mask pay-mask"},[n("BfsImg",{staticClass:"poster",attrs:{src:t.pic,cls:"pic",width:"480",height:"270"}}),t._v(" "),n("div",{staticClass:"mask"},[n("p",{staticClass:"normal-size"},[t._v("视频为付费视频，请前往App购买并观看")]),t._v(" "),void 0===t.userInfo.uname||t.userInfo.isLogin?t._e():n("p",{staticClass:"small-size"},[t._v("\n        如已购买，点击【登录】即可观看\n      ")])])],1):n("div",{key:"1",staticClass:"player-container"},[n("BfsImg",{staticClass:"pic",attrs:{src:t.pic,width:480,height:270},on:{report:function(e){return t.performanceReport("video")}}}),t._v(" "),n("div",{ref:"bofqi",staticClass:"player",attrs:{id:"bilibiliPlayer"}}),t._v(" "),t.isClient?t._e():n("div",{domProps:{innerHTML:t._s(t.loadPlayerScript)}})],1)],1)}),[],!1,null,"327fcedc",null).exports);function zn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Yn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?zn(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Jn=["打开App，流畅又高清","打开App，看更多精彩视频","打开App，一起发弹幕看视频"],Kn={components:{OpenAppVideo:q.a,OpenApp:Z.a},props:{preloadWxtag:{},reportReady:{}},data:function(){return{startPop:!1,startScroll:!1,curIndex:0}},computed:Yn(Yn({},Object(p.c)({info:function(t){return t.video.viewInfo},p:function(t){return t.video.p},abtest:function(t){return t.common.abtest},quality:function(t){return t.video.highestQuality},bvid:function(t){return t.video.bvid}})),{},{text:function(){var t={80:"打开App，看高清视频",116:"打开App，享60帧极致丝滑体验",120:"打开App，看4K超高清视频",126:"打开App，感受杜比全景声"}[this.quality];return(t?[t].concat(Jn.slice(1)):Jn)[this.curIndex]}}),mounted:function(){this.startAnimation()},methods:{startAnimation:function(){var t=this;this.startPop=!0;var e=function e(){setTimeout((function(){t.curIndex=(t.curIndex+1)%Jn.length,t.curIndex&&e()}),3e3)},n=setInterval((function(){e()}),3e4);this.$once("hook:beforeDestroy",(function(){clearInterval(n)})),e()},openApp:function(){this.$customReport("player",window.bsource),this.$customReportH5("click","player")}}},Xn=(n(476),Object(N.a)(Kn,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("OpenAppVideo",{staticClass:"m-video-main-launchapp",attrs:{spmid:"333.401.click.player",preloadWxtag:t.preloadWxtag},on:{"open-app":t.openApp}},[n("div",{staticClass:"m-video2-awaken-btn"},[n("div",{staticClass:"icon",class:{popup:t.startPop}}),t._v(" "),n("div",{staticClass:"container"},[n("transition",{attrs:{name:"scroll"}},[n("div",{key:t.text,staticClass:"btn-text"},[t._v(t._s(t.text))])])],1)])])],1)}),[],!1,null,null,null).exports),Zn={methods:{customToast:function(){this.$toast.info("暂不支持，请前往应用内查看")}}};function ti(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function ei(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ti(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ti(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ni={mixins:[Zn],components:{Avatar:dt.a},data:function(){return{actUrl:""}},computed:ei(ei({},Object(p.c)({info:function(t){return t.video.viewInfo},upInfo:function(t){return t.video.upInfo},infoFolded:function(t){return t.video.infoFolded},abtest:function(t){return t.common.abtest}})),{},{view:function(){var t,e;return Object(d.k)(null===(t=this.info)||void 0===t||null===(e=t.stat)||void 0===e?void 0:e.view)||0},danmaku:function(){var t,e;return Object(d.k)(null===(t=this.info)||void 0===t||null===(e=t.stat)||void 0===e?void 0:e.danmaku)||0},date:function(){var t;return Object(d.h)(1e3*((null===(t=this.info)||void 0===t?void 0:t.pubdate)||0))},isHot:function(){return this.info&&this.info.label&&1===this.info.label.type},missionId:function(){return this.info&&this.info.mission_id},fans:function(){return Object(d.k)(this.upInfo.follower)},like:function(){var t,e;return Object(d.k)(null===(t=this.info)||void 0===t||null===(e=t.stat)||void 0===e?void 0:e.like)},fav:function(){var t,e;return Object(d.k)(null===(t=this.info)||void 0===t||null===(e=t.stat)||void 0===e?void 0:e.favorite)},share:function(){var t,e;return Object(d.k)(null===(t=this.info)||void 0===t||null===(e=t.stat)||void 0===e?void 0:e.share)}}),methods:ei(ei({},Object(p.b)("video",["setInfoFolded"])),{},{fetchActInfo:function(){var t,e=this;Object(at.a)(this.missionId,null===(t=this.info)||void 0===t?void 0:t.aid).then((function(t){0===(null==t?void 0:t.code)&&(e.actUrl=t.data.act_url)}))},tagClick:function(t){this.$customReport("titleTag",{type:t}),this.$customReportH5("click","titleTag",{type:t})},reportAndToast:function(t,e){this.report(t,e),this.customToast()},report:function(t,e){e?e.fold=this.infoFolded:e={fold:this.infoFolded},this.$customReport(t,e),this.$customReportH5("click",t,e)},reportFold:function(t,e){this.report("desc_more",{clic_pos:t,isAwake:e}),this.customToast()}}),beforeMount:function(){this.setInfoFolded(!0)},mounted:function(){var t=this;setTimeout((function(){t.isHot&&t.$customReportH5("show","titleTag",{type:"hot"}),t.missionId>0&&!t.isHot&&t.$customReportH5("show","titleTag",{type:"activity"})}),2e3),this.missionId>0&&!this.isHot&&this.fetchActInfo()}},ii=(n(477),Object(N.a)(ni,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"share-video-info"},[n("div",{staticClass:"title-wrapper"},[n("div",{staticClass:"title"},[t.isHot?n("a",{staticClass:"label",attrs:{href:"//www.bilibili.com/h5/popular?from=play",target:"_blank"},on:{click:function(e){return t.tagClick("hot")}}},[n("i",{staticClass:"iconfont ic_popular"}),t._v(" "),n("span",[t._v("热门")])]):t.missionId>0?n("a",{staticClass:"label",attrs:{href:t.actUrl,target:"_blank"},on:{click:function(e){return t.tagClick("activity")}}},[n("span",[t._v("活动")])]):t._e(),t._v(" "),n("div",{staticClass:"title-name",class:{isHot:t.isHot,"has-activity":t.missionId>0},attrs:{spmid:"titlename"},on:{click:function(e){return t.report("titlename")}}},[n("h1",{staticClass:"title-text",domProps:{textContent:t._s(t.info.title)}})])]),t._v(" "),n("div",{staticClass:"icon-spread",on:{click:function(e){return t.reportFold("arrow",1)}}})]),t._v(" "),n("div",{staticClass:"up"},[t.info.disable_show_up_info?n("div",{staticClass:"empty"}):n("div",{on:{click:function(e){return t.report("upinfo")}}},[n("div",{staticClass:"face"},[n("div",{staticClass:"avatar-wrapper"},[n("Avatar",{staticClass:"avatar",attrs:{face:t.upInfo.card&&t.upInfo.card.face,size:"28"}})],1),t._v(" "),n("div",{staticClass:"info"},[n("a",{staticClass:"name"},[t._v(t._s(t.info.owner?t.info.owner.name:""))])])])]),t._v(" "),n("div",{staticClass:"interact-wrapper"},[n("div",{staticClass:"inline-block",on:{click:function(e){return t.reportAndToast("like")}}},[t._m(0)]),t._v(" "),n("div",{staticClass:"inline-block",on:{click:function(e){return t.reportAndToast("favorite")}}},[t._m(1)]),t._v(" "),n("div",{staticClass:"inline-block",on:{click:function(e){return t.reportAndToast("share")}}},[t._m(2)])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"toolbar-item"},[e("i",{staticClass:"icon icon-like"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"toolbar-item"},[e("i",{staticClass:"icon icon-fav"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"toolbar-item"},[e("i",{staticClass:"icon icon-share"})])}],!1,null,"68f7883b",null).exports),oi={mixins:[Zn],components:{OpenAppVideo:q.a},props:{info:{},list:{default:function(){return[]}},index:{},rcount:{type:Number}},computed:{needMore:function(){return this.rcount>this.list.length}},methods:{formatMessage:function(t){var e=t.content,n=e.message,i=e.emote,o=void 0===i?{}:i,r=new RegExp(/\[[^\]]+\]/g);return n.replace(r,(function(t){if(o[t]){var e=o[t];if(4===e.type)return e.url;var n=e.meta&&1===e.meta.size?"s":"l",i=Object(d.A)(Object(d.C)(e.url,{w:50,h:50})),r="s"===n?'class="small"':"";return'<img src="'.concat(i,'" ').concat(r,' alt="').concat(e.text,'" />')}return t}))},report:function(t){var e=t.target.classList.contains("m-subpreview")?"blank":"allReply";this.$customReport("commentCard"),this.$customReportH5("click","commentCard",{position:this.index+1,itemId:this.info.rpid,area:e}),this.customToast()}}},ri=(n(478),Object(N.a)(oi,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-subpreview",on:{click:t.report}},[n("div",{staticClass:"m-sub-reply-preview"},[t._l(t.list,(function(e,i){return n("p",{key:i,staticClass:"sub-preview-item"},[9!==e.state?[n("a",{staticClass:"name"},[t._v(t._s(e.member&&e.member.uname)+"：")]),t._v(" "),n("span",{staticClass:"content",domProps:{innerHTML:t._s(t.formatMessage(e))}})]:t._e()],2)})),t._v(" "),t.needMore?n("a",{staticClass:"show-more"},[t._v("共"+t._s(t.rcount)+"条回复"),n("i",{staticClass:"iconfont gengduo1"})]):t._e()],2)])}),[],!1,null,null,null).exports);function si(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function ai(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?si(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):si(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ci={mixins:[Zn],components:{BfsImg:U.a,CommentSubPreview:ri,OpenAppVideo:q.a,Avatar:dt.a},props:{showTitle:{type:Boolean,default:!1}},data:function(){return{list:[],error:!1,count:0,loaded:!1,formatNum:d.k,formatReplyTime:d.l}},computed:ai(ai({},Object(p.c)({info:function(t){return t.video.viewInfo},aid:function(t){return t.video.aid},keyword:function(t){return t.video.keyword||t.search.keyword}})),{},{buttonText:function(){return"打开哔哩哔哩查看完整评论"},reply:function(){return Object(d.k)(this.info.stat&&this.info.stat.reply)||0},reportParams:function(){var t,e,n;return{keyword:this.keyword,item_id:null===(t=this.info)||void 0===t?void 0:t.aid,avid:null===(e=this.info)||void 0===e?void 0:e.aid,cid:null===(n=this.info)||void 0===n?void 0:n.cid}}}),watch:{aid:function(t){t&&this.getReply()}},methods:{formatMessage:function(t){var e=t.content,n=e.message,i=e.emote,o=void 0===i?{}:i;n=Object(d.B)(n);var r=new RegExp(/\[[^\]]+\]/g);return n.replace(r,(function(t){if(o[t]){var e=o[t];if(4===e.type)return e.url;var n=e.meta&&1===e.meta.size?"s":"l",i=Object(d.A)(Object(d.C)(e.url,{w:50,h:50})),r="s"===n?'class="small"':"";return'<img src="'.concat(i,'" ').concat(r,' alt="').concat(e.text,'" />')}return t}))},getReply:function(){var t=this;Object(at.E)({oid:this.aid,type:1}).then((function(e){if(0!==(null==e?void 0:e.code))return t.error=!0,void(t.loaded=!0);t.list=(e.data.replies||[]).slice(0,2),t.count=e.data.cursor&&e.data.cursor.all_count||0,t.$nextTick((function(){t.loaded=!0}))}))},reportShow:function(){var t=this;this.timeout=setTimeout((function(){t.$scrollReportH5(t.$el,".comment-item","commentCard",{avid:function(){return t.aid},itemId:function(t){return t.dataset.rpid},share_times:function(){return t.$route.query.share_times}})}),1e3)},report:function(t,e,n){this.$customReportH5("click","commentCard",{position:t+1,area:n,itemId:e.rpid})},reportCommentCard:function(t,e,n){!n||n.target.classList.contains("time")||n.target.classList.contains("content")||this.report(t,e,"blank"),n||this.report(t,e,"mainCard"),this.customToast()},commentMore:function(){this.$customReportH5("click","getMoreComment",this.reportParams)},getOfficial:function(t){var e,n,i=null===(e=t.member)||void 0===e||null===(n=e.official_verify)||void 0===n?void 0:n.type;return 0===i?"VerifyOfficial":1===i?"VerifyEnterprise":""},isNft:function(t){var e;return 1===(null===(e=t.member)||void 0===e?void 0:e.face_nft_new)}},mounted:function(){this.reportShow(),this.getReply()},beforeDestroy:function(){clearTimeout(this.timeout)}};n(479);function li(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function ui(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?li(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):li(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var pi={components:{Comment:Object(N.a)(ci,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-video-comment custom-comment report-scroll-module",attrs:{id:"comment"}},[t.showTitle?n("div",{staticClass:"title"},[t._v("评论"),n("span",{staticClass:"count"},[t._v(t._s(t.reply))])]):t._e(),t._v(" "),n("div",{staticClass:"list"},[n("ul",t._l(t.list,(function(e,i){return n("li",{key:i,staticClass:"comment-item",attrs:{"data-rpid":e.rpid}},[n("div",{staticClass:"comment-item",on:{click:function(n){return t.reportCommentCard(i,e,n)}}},[n("div",{staticClass:"head",on:{click:function(n){return t.report(i,e,"avatar")}}},[n("Avatar",{attrs:{face:e&&e.member&&e.member.avatar,size:30,isNft:t.isNft(e),officialRole:t.getOfficial(e),nftTagCls:{"nft-tag-left":t.getOfficial(e)},noBorder:""}})],1),t._v(" "),n("div",{staticClass:"detail"},[n("div",{staticClass:"user"},[n("span",{staticClass:"name",on:{click:function(n){return t.report(i,e,"nickname")}}},[t._v(t._s(e.member.uname))]),t._v(" "),n("span",{staticClass:"like",on:{click:function(n){return t.report(i,e,"like")}}},[n("i",{staticClass:"iconfont like2"}),t._v(" "),n("span",[t._v(t._s(t.formatNum(e.like)))])])]),t._v(" "),n("p",{staticClass:"time",on:{click:function(n){return t.report(i,e,"time")}}},[t._v(t._s(t.formatReplyTime(e.ctime)))]),t._v(" "),n("p",{staticClass:"content",domProps:{innerHTML:t._s(t.formatMessage(e))},on:{click:function(n){return t.report(i,e,"comment")}}})]),t._v(" "),e.rcount>0&&e.replies?n("CommentSubPreview",{attrs:{info:e,index:i,list:e.replies.slice(0,2),rcount:e.rcount}}):t._e()],1)])})),0),t._v(" "),t.loaded?t._e():n("div",{staticClass:"skeleton"}),t._v(" "),t.loaded&&0===t.list.length&&!t.error?n("div",{staticClass:"empty"},[t._v("\n      评论正在路上，不如先看看其它视频～\n    ")]):t._e(),t._v(" "),t.loaded&&t.error?n("div",{staticClass:"empty"},[t._v("\n      当前稿件的评论功能已关闭\n    ")]):t._e()]),t._v(" "),t.loaded&&t.list.length>0?n("div",{staticClass:"openapp",attrs:{id:"commentMore"}},[n("OpenAppVideo",{directives:[{name:"report",rawName:"v-report.show",value:{d:"getMoreComment",msg:t.reportParams},expression:"{\n        d: 'getMoreComment',\n        msg: reportParams\n      }",modifiers:{show:!0}}],staticClass:"m-comment-openapp",on:{"open-app":t.commentMore}},[n("button",[n("span",[t._v(t._s(t.buttonText))])])])],1):t._e()])}),[],!1,null,"7672f770",null).exports},computed:ui(ui({},Object(p.c)({info:function(t){return t.video.viewInfo},keyword:function(t){return t.video.keyword||t.search.keyword}})),{},{reply:function(){return Object(d.k)(this.info.stat&&this.info.stat.reply)||0},reportParams:function(){var t,e,n;return{keyword:this.keyword,item_id:null===(t=this.info)||void 0===t?void 0:t.aid,avid:null===(e=this.info)||void 0===e?void 0:e.aid,cid:null===(n=this.info)||void 0===n?void 0:n.cid}}}),methods:{reportClick:function(t){this.$customReportH5("click",t,this.reportParams)}},mounted:function(){var t=this;this.timeout=setTimeout((function(){t.$customReportH5("show","RecomTabDefault"),t.$customReportH5("show","getMoreVideo",t.reportParams)}),1e3)},beforeDestroy:function(){clearTimeout(this.timeout)}};n(480);function di(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}var fi={components:{ExpandTabs:Object(N.a)(pi,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bottom-tab"},[n("div",{staticClass:"bottom-tabs"},[n("div",{staticClass:"tab-item"},[t._v("评论 "+t._s(t.reply||""))]),t._v(" "),n("div",{directives:[{name:"report",rawName:"v-report.show",value:{d:"getMoreVideo",msg:t.reportParams},expression:"{\n        d: 'getMoreVideo',\n        msg: reportParams\n      }",modifiers:{show:!0}}],staticClass:"tab-item more",on:{click:function(e){return t.reportClick("getMoreVideo")}}},[t._v("进入哔哩哔哩，查看更多精彩视频")])]),t._v(" "),n("Comment",{ref:"Comment"})],1)}),[],!1,null,"f101a3f0",null).exports},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?di(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):di(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(p.c)({abtest:function(t){return t.common.abtest}}))},vi=Object(N.a)(fi,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("ExpandTabs",{attrs:{"single-column":"","disable-related":""}})],1)}),[],!1,null,null,null).exports;function hi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function mi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?hi(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var bi={components:{Nav:Un,ErrorPage:u.a,Player:Qn,OpenAppBtn:Xn,Info:ii,BottomTab:vi,PartBase:ue,Footer:Se.a,GoTop:xe.a},data:function(){return{errorMap:on}},computed:mi(mi({},Object(p.c)({info:function(t){return t.video.viewInfo},error:function(t){return t.video.error},renderTabs:function(t){return t.video.renderTabs}})),{},{pages:function(){return this.info.pages||[]}}),methods:{reloadVideo:function(){this.$refs.player.initPlayer(!0)},checkOpenAppDomState:function(){var t=document.querySelector(".m-nav-openapp"),e=document.querySelector(".visible-open-app-btn"),n=document.querySelector(".v-card-toapp"),i={navOpenAppBtn:t?"none"===getComputedStyle(t).display?1:2:0,openAppBtn:e?"none"===getComputedStyle(e).display?1:2:0,hidenOpenAppBtn:0,reletedCard:n?"none"===getComputedStyle(n).display?1:2:0};this.$customReportH5("click","monitor",i)}},mounted:function(){var t=this;setTimeout((function(){t.checkOpenAppDomState()}),1e3)},beforeDestroy:function(){document.body.className=""}},yi=(n(481),Object(N.a)(bi,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-video-new sticky"},[n("Nav",{attrs:{type:"video",hasHotBtn:!0}}),t._v(" "),t.error?n("ErrorPage",{attrs:{reason:t.errorMap[t.error],from:"video"}}):[n("Player",{ref:"player"}),t._v(" "),n("OpenAppBtn",{staticClass:"visible-open-app-btn",attrs:{preloadWxtag:!0,reportReady:!0}}),t._v(" "),n("Info"),t._v(" "),n("PartBase"),t._v(" "),t.renderTabs?n("BottomTab"):t._e(),t._v(" "),n("GoTop")],t._v(" "),n("Footer")],2)}),[],!1,null,"6cadf2a7",null).exports);function gi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Oi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gi(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var wi={data:function(){return{env:Hn.a}},computed:Oi(Oi({},Object(p.c)({keyword:function(t){return t.video.keyword},trigglePlay:function(t){return t.video.trigglePlay}})),{},{spmid:function(){return"".concat(this.$route.meta.spmPrefix,".click.topDownload")}}),methods:{openApp:function(){this.$customReportH5("click","topDownload")},report:function(t){this.$customReportH5("click",t)},showOpenAppDialog:function(t){tt.a.$emit("video/openSemOpenAppDialog",{open:!0,awakeSpmid:"333.401.click.".concat(t)})},showDialogAndReport:function(t){this.report(t),this.showOpenAppDialog(t)}},components:{OpenAppVideo:q.a,BfsImg:U.a}},_i=(n(482),Object(N.a)(wi,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-navbar"},[t.env&&"prod"!==t.env?n("div",{staticClass:"push-env"},[t._v(t._s(t.env))]):t._e(),t._v(" "),n("div",{staticClass:"logo",attrs:{title:"哔哩哔哩(B站)官网"},on:{"!click":function(e){return t.showDialogAndReport("home")}}},[n("BfsImg",{staticClass:"img logo-img",attrs:{src:"//s1.hdslb.com/bfs/static/jinkela/long/mstation/logo-bilibili-pink.png",width:66,height:30,alt:"bilibili官网"}})],1),t._v(" "),n("div",{staticClass:"right"},[n("OpenAppVideo",{staticClass:"m-nav-openapp",attrs:{spmid:t.spmid,disableClipboard:""},on:{"open-app":t.openApp}},[n("div",{staticClass:"open-app-img"},[t._v("下载 App")])])],1)])}),[],!1,null,"4a724c71",null).exports),Ci=n(156),ji=n.n(Ci),Pi=n(155),ki=n.n(Pi);function Ai(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Di(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ai(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ai(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Si={computed:Di(Di({},Object(p.c)({info:function(t){return t.video.viewInfo}})),{},{pic:function(){var t;return(null===(t=this.info)||void 0===t?void 0:t.pic)||""},view:function(){var t,e,n,i,o,r,s=null===(t=this.info)||void 0===t?void 0:t.enable_vt,a=Et()((null===(e=this.info)||void 0===e||null===(n=e.stat)||void 0===n?void 0:n.view)||0)+"播放",c=((null===(i=this.info)||void 0===i?void 0:i.vt_display)||Et()((null===(o=this.info)||void 0===o||null===(r=o.stat)||void 0===r?void 0:r.vt)||0))+"分钟播放";return s?c:a},danmu:function(){var t,e;return Et()((null===(t=this.info)||void 0===t||null===(e=t.stat)||void 0===e?void 0:e.danmaku)||0)+"弹幕"},pubdate:function(){var t;return ki()(1e3*(null===(t=this.info)||void 0===t?void 0:t.pubdate))},duration:function(){var t,e=(null===(t=this.info)||void 0===t?void 0:t.duration)||0;return ji()("(hh:)?mm:ss",1e3*e)}}),methods:{showOpenAppDialog:function(){this.$customReportH5("click","video_poster"),tt.a.$emit("video/openSemOpenAppDialog",{open:!0,awakeSpmid:"333.401.click.video_poster"})}},components:{BfsImg:U.a}},xi=(n(483),Object(N.a)(Si,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-video-player",on:{click:t.showOpenAppDialog}},[n("BfsImg",{staticClass:"pic",attrs:{src:t.pic,width:480,height:270}}),t._v(" "),n("div",{staticClass:"player-icon icon-preview"},[n("BfsImg",{staticClass:"pic",attrs:{src:"//s1.hdslb.com/bfs/static/jinkela/long/mstation/video/icon-preview.png",width:54,height:54}})],1),t._v(" "),n("div",{staticClass:"mplayer-video-tips"},[n("div",{staticClass:"mplayer-view-count"},[t._v(t._s(t.view))]),t._v(" "),n("div",{staticClass:"mplayer-danmu-count"},[t._v(t._s(t.danmu))]),t._v(" "),n("div",{staticClass:"mplayer-video-pubdate"},[t._v(t._s(t.pubdate))]),t._v(" "),n("div",{staticClass:"mplayer-video-time"},[t._v(t._s(t.duration))])])],1)}),[],!1,null,"6f5d8e35",null).exports),Ti={data:function(){return{startPop:!1,text:"下载App，看更多感兴趣的视频"}},mounted:function(){this.startPop=!0},methods:{openApp:function(){this.$customReportH5("click","player")}},components:{OpenAppVideo:q.a}},Ii=(n(484),Object(N.a)(Ti,(function(){var t=this.$createElement,e=this._self._c||t;return e("OpenAppVideo",{staticClass:"m-video-main-launchapp",attrs:{spmid:"333.401.click.player"},on:{"open-app":this.openApp}},[e("div",{staticClass:"m-video2-awaken-btn"},[e("div",{staticClass:"icon",class:{popup:this.startPop}}),this._v(" "),e("div",{staticClass:"btn-text"},[this._v(this._s(this.text))])])])}),[],!1,null,"453cf10c",null).exports);function Ei(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Ri(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ei(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ei(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var $i={computed:Ri(Ri({},Object(p.c)({info:function(t){return t.video.viewInfo},upInfo:function(t){return t.video.upInfo},infoFolded:function(t){return t.video.infoFolded}})),{},{title:function(){var t;return null===(t=this.info)||void 0===t?void 0:t.title}}),methods:Ri(Ri({},Object(p.b)("video",["setInfoFolded"])),{},{report:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign(e,{fold:this.infoFolded});this.$customReportH5("click",t,n)},showOpenAppDialog:function(t){tt.a.$emit("video/openSemOpenAppDialog",{open:!0,awakeSpmid:"333.401.click.".concat(t)})},showDialogAndReport:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.report(t,e),this.showOpenAppDialog(t)}}),beforeMount:function(){this.setInfoFolded(!0)},components:{Avatar:dt.a}},Bi=(n(485),Object(N.a)($i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"share-video-info"},[n("div",{staticClass:"title-wrapper"},[n("div",{staticClass:"title"},[n("div",{staticClass:"title-name",on:{click:function(e){return t.showDialogAndReport("titlename")}}},[n("h1",{staticClass:"title-text",domProps:{textContent:t._s(t.info.title)}})])]),t._v(" "),n("div",{staticClass:"icon-spread",on:{click:function(e){return t.showDialogAndReport("desc_more",{clic_pos:"arrow",title:t.title,isAwake:1})}}})]),t._v(" "),n("div",{staticClass:"up"},[t.info.disable_show_up_info?t._e():n("div",{on:{click:function(e){return t.showDialogAndReport("upinfo")}}},[n("div",{staticClass:"face"},[n("div",{staticClass:"avatar-wrapper"},[n("Avatar",{staticClass:"avatar",attrs:{face:t.upInfo.card&&t.upInfo.card.face,size:"28"}})],1),t._v(" "),n("div",{staticClass:"info"},[n("a",{staticClass:"name"},[t._v(t._s(t.info.owner?t.info.owner.name:""))])])])]),t._v(" "),n("div",{staticClass:"interact-wrapper"},[n("div",{staticClass:"inline-block",on:{click:function(e){return t.showDialogAndReport("like")}}},[t._m(0)]),t._v(" "),n("div",{staticClass:"inline-block",on:{click:function(e){return t.showDialogAndReport("favorite")}}},[t._m(1)]),t._v(" "),n("div",{staticClass:"inline-block",on:{click:function(e){return t.showDialogAndReport("share")}}},[t._m(2)])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"toolbar-item"},[e("i",{staticClass:"icon icon-like"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"toolbar-item"},[e("i",{staticClass:"icon icon-fav"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"toolbar-item"},[e("i",{staticClass:"icon icon-share"})])}],!1,null,"587f8425",null).exports);function Mi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Li(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Mi(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Hi={computed:Li(Li({},Object(p.c)({info:function(t){return t.video.viewInfo},related:function(t){return t.video.related},keyword:function(t){return t.video.keyword},trigglePlay:function(t){return t.video.trigglePlay}})),{},{relatedSliced:function(){return(this.related||[]).slice(0,6)}}),methods:{openApp:function(){this.$customReportH5("click","relateRecomMore")},reportShow:function(){var t,e=this;this.$refs.relatedList&&this.$scrollReportH5(this.$refs.relatedList.$el,".v-card-toapp","relateRecom",{avid:null===(t=this.info)||void 0===t?void 0:t.avid,item_id:function(t){return t&&t.dataset&&t.dataset.aid},position:function(t){return t&&t.__vue__&&t.__vue__.$attrs.index+1},currentTime:function(){return parseInt(window.player&&window.player.getCurrentTime()||0)},duration:function(){return parseInt(window.player&&window.player.getDuration()||0)},innerBsource:function(){return window.innerBsource},bsourceFrom:function(){return window.bsourceFrom},refer:function(){return encodeURIComponent(document.refer||document.referrer)},sessionId:function(){return window.sessionId},share_times:function(){return e.$route.query.share_times},item_label:function(t){return t&&t.dataset&&t.dataset.label},item_up_mid:function(t){var e;return t&&t.__vue__&&(null===(e=t.__vue__.info.owner)||void 0===e?void 0:e.mid)}})}},mounted:function(){this.reportShow()},components:{FlowList:jt.a,OpenAppVideo:q.a}},Vi=(n(486),Object(N.a)(Hi,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-video-related"},[n("FlowList",{ref:"relatedList",attrs:{attrs:{func:"getVideoRelatedNew",type:"page",query:{count:6,key:"getVideoRelatedNew",__refresh__:!0,related:t.relatedSliced}},skeletonLength:6,"card-type":"SemVideoItemToApp"},scopedSlots:t._u([{key:"no-more",fn:function(){return[n("OpenAppVideo",{staticClass:"related-openapp",attrs:{spmid:"333.401.click.relateRecomMore",disableClipboard:""},on:{"open-app":t.openApp}},[n("div",{staticClass:"m-related-openapp report-scroll-module",attrs:{id:"relateRecomMore"}},[n("span",{staticClass:"text"},[t._v("还看不够？App 内尽情探索吧")]),t._v(" "),n("i",{staticClass:"iconfont gengduo1"})])])]},proxy:!0},{key:"nothing",fn:function(){return[n("div",[n("p",{staticClass:"empty"},[t._v("什么都没有找到啊 T_T")])])]},proxy:!0}])})],1)}),[],!1,null,"405b8ff0",null).exports);function Ni(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}var Fi={computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ni(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ni(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(p.c)({keyword:function(t){return t.video.keyword},trigglePlay:function(t){return t.video.trigglePlay}})),methods:{reportClick:function(t){this.$customReportH5("click",t)},showOpenAppDialog:function(t){tt.a.$emit("video/openSemOpenAppDialog",{open:!0,awakeSpmid:"333.401.click.".concat(t)})},showDialogAndReport:function(t){this.reportClick(t),this.showOpenAppDialog(t)}},components:{Related:Vi}},Ui=(n(487),Object(N.a)(Fi,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bottom-tab"},[n("div",{staticClass:"bottom-tabs"},[n("div",{staticClass:"tab-item",on:{click:function(e){return t.showDialogAndReport("relatedTab")}}},[t._v("相关推荐")]),t._v(" "),n("div",{staticClass:"tab-item more",on:{click:function(e){return t.showDialogAndReport("moreTab")}}},[t._v("查看更多")])]),t._v(" "),n("Related",{staticClass:"related"})],1)}),[],!1,null,"4daf9c14",null).exports);function qi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Gi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?qi(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Wi={data:function(){return{open:!1,awakeSpmid:""}},methods:{openDialog:function(){this.open=!0,this.reportPopup("show")},closeDialog:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.open=!1,t&&this.reportPopup("click",{option:2})},reportPopup:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.$customReportH5(t,"downloadPopup",Gi(Gi({},e),{},{awake_spmid:this.awakeSpmid}))}},mounted:function(){var t=this;tt.a.$on("video/openSemOpenAppDialog",(function(e){var n=e.awakeSpmid,i=void 0===n?"":n;t.awakeSpmid=i,t.openDialog()}))},components:{VDialog:Le.a,OpenAppVideo:q.a}},Qi=(n(488),Object(N.a)(Wi,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("VDialog",{attrs:{mask:"","mask-close":!1,transition:"md",width:"74.67vw",height:"auto"},model:{value:t.open,callback:function(e){t.open=e},expression:"open"}},[n("div",{staticClass:"open-app-dialog"},[n("div",{staticClass:"icon-close",on:{click:function(e){return t.closeDialog(!0)}}},[n("SVGIconNext",{attrs:{icon:"BDC/xmark_close_line/1",size:"20",stroke:1.5,palette:["#61666d"]}})],1),t._v(" "),n("p",{staticClass:"open-app-dialog-header"},[t._v("看更多感兴趣的视频")]),t._v(" "),n("p",{staticClass:"open-app-dialog-desc"},[t._v("下载哔哩哔哩APP")]),t._v(" "),n("div",{staticClass:"open-app-dialog-footer"},[n("OpenAppVideo",{staticClass:"open-app-dialog-btn",attrs:{disableClipboard:"",spmid:"downloadPopup"},on:{"open-app":function(e){return t.reportPopup("click",{option:1})}}},[t._v("\n        立即下载\n      ")])],1)])])}),[],!1,null,"39070764",null).exports);function zi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}var Yi={data:function(){return{errorMap:on}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?zi(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(p.c)({error:function(t){return t.video.error}})),beforeDestroy:function(){document.body.className=""},components:{ErrorPage:u.a,Nav:_i,OpenAppBtn:Ii,Player:xi,Info:Bi,BottomTab:Ui,FloatBtn:De,GoTop:xe.a,Footer:Se.a,OpenAppDialog:Qi}},Ji=(n(489),Object(N.a)(Yi,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-video-new sticky"},[n("Nav"),t._v(" "),t.error?n("ErrorPage",{attrs:{reason:t.errorMap[t.error],from:"video"}}):n("div",[n("Player"),t._v(" "),n("OpenAppBtn"),t._v(" "),n("Info"),t._v(" "),n("BottomTab"),t._v(" "),n("FloatBtn"),t._v(" "),n("GoTop"),t._v(" "),n("Footer"),t._v(" "),n("OpenAppDialog")],1)],1)}),[],!1,null,"b8c80be6",null).exports),Ki=n(380);function Xi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Zi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Xi(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var to={components:{BfsImg:U.a,NeedChargeTip:z},data:function(){return{}},computed:Zi(Zi({},Object(p.c)({bvid:function(t){return t.video.bvid},info:function(t){return t.video.viewInfo},p:function(t){return t.video.p},isClient:function(t){return t.video.isClient},playUrlInfo:function(t){return t.video.playUrlInfo},gameMode:function(t){return t.video.gameMode},abtest:function(t){return t.common.abtest},browser:function(t){return t.common.browser},showPlayBtn:function(t){return t.video.qrcodePlayBtnShow},userInfo:function(t){return t.common.userInfo},trigglePlay:function(t){return t.video.trigglePlay}})),{},{pic:function(){var t;return(null===(t=this.info)||void 0===t?void 0:t.pic)||""},truePic:function(){var t;return"".concat(Object(d.A)((null===(t=this.info)||void 0===t?void 0:t.pic)||""),"@480w_270h_1c")},cid:function(){var t,e=null===(t=this.info)||void 0===t?void 0:t.pages;if(e&&0!==e.length)return e[this.p-1].cid},playUrl:function(){var t=this.playUrlInfo;if(t)return t&&t.length>0?Object(d.A)(t[0].url):""},playerUrl:function(){var t=Math.ceil(Date.now()/6e5);return"//s1.hdslb.com/bfs/static/player/main/html5/mplayer.js?v=".concat(t)},playerOptions:function(){var t,e,n,i,o,r,s,a,c=Number(null===(t=this.$route.query)||void 0===t?void 0:t.start_progress)||1e3*Number(null===(e=this.$route.query)||void 0===e?void 0:e.t)||0,l=Math.floor((c>=0?c:0)/1e3),u=((null===(n=this.$route.meta)||void 0===n?void 0:n.spmPrefix)||"0.0")+".0.0";return{type:3,aid:null===(i=this.info)||void 0===i?void 0:i.aid,bvid:null===(o=this.info)||void 0===o?void 0:o.bvid,cid:this.cid,readyPoster:this.truePic,readyVideoUrl:this.playUrl,readyDuration:null===(r=this.info)||void 0===r?void 0:r.duration,noRecommend:this.gameMode,callAppMode:!1,spmid:u,showReturn:!0,webFull:this.isWebFull,danmaku:!(null!==(s=this.info)&&void 0!==s&&null!==(a=s.rights)&&void 0!==a&&a.is_stein_gate),t:l}},loadPlayerScript:function(){return'\n        <script src="'.concat(this.playerUrl,'"><\/script>\n        <script type="text/javascript">\n          var options = ').concat(JSON.stringify(this.playerOptions),";\n          var player = new BPlayerMobile(options);\n          window.player = player\n          window.videoCid = ").concat(this.cid,"\n        <\/script>\n      ")},view:function(){var t,e;return Object(d.k)(null===(t=this.info)||void 0===t||null===(e=t.stat)||void 0===e?void 0:e.view)||0},danmaku:function(){var t,e;return Object(d.k)(null===(t=this.info)||void 0===t||null===(e=t.stat)||void 0===e?void 0:e.danmaku)||0},date:function(){var t;return Object(d.i)(1e3*((null===(t=this.info)||void 0===t?void 0:t.pubdate)||0))},duration:function(){var t;return Object(d.j)(null===(t=this.info)||void 0===t?void 0:t.duration)},isWebFull:function(){return!!this.browser.zhihu},unpay:function(){var t,e,n=null===(t=this.info.goods_info)||void 0===t?void 0:t.some((function(t){return 1===t.category&&1===t.pay_stat}));return(null===(e=this.info.rights)||void 0===e?void 0:e.arc_pay)&&!(n||this.info.rights.free_watch)},needCharge:function(){var t,e;return(null===(t=this.info)||void 0===t?void 0:t.is_upower_exclusive)&&!(null!==(e=this.info)&&void 0!==e&&e.is_upower_play)}}),beforeMount:function(){window.player&&this.bindPlayerstate()},beforeDestroy:function(){this.setCurrentTime(0),this.setPlayState("init"),window.player&&window.player.destroy()},methods:Zi(Zi({},Object(p.b)("video",["setPlayState","setCurrentTime"])),{},{performanceReport:function(t){window&&window.performanceReport&&window.performanceReport(t)},bindPlayerstate:function(){var t=this;player.on("ready",(function(){t.setPlayState("ready")})),player.on("video_media_play",(function(){t.setPlayState("play")})),player.on("video_media_pause",(function(){t.setPlayState("pause")})),player.on("video_media_ended",(function(){t.setPlayState("end")})),player.on("video_media_time",(function(){t.setCurrentTime(player.getCurrentTime())})),player.on("video_media_first_play_success",(function(){t.$customReport("start_play"),t.$customReportH5("show","start_play",{start_play_type:0,soundSwitchStatus:1})})),player.on("video_media_loaded",(function(){window.performanceReport("video_loaded")})),player.on("restart_call_app",(function(){Object(f.b)("h5_replay_click")})),player.on("force_call_app_show",(function(){Object(f.b)("h5_playing_force_lahuo")}))},initPlayer:function(t){var e=this,n=Zi({},this.playerOptions);if(window.videoCid=this.cid,this.setCurrentTime(0),this.setPlayState("init"),setTimeout((function(){e.bindPlayerstate()}),200),t)return delete n.readyPoster,delete n.readyVideoUrl,delete n.readyDuration,void window.player.reload(n);var i=new BPlayerMobile(n);window.player=i},play:function(){window.player&&window.player.play()}}),watch:{playUrlInfo:function(t){var e=this;if(t){if(window.player&&window.player.destroy(),window.BiliH5Player)return void this.initPlayer();Object(d.s)("".concat(this.playerUrl)).then((function(){e.initPlayer()}))}}}},eo=(n(490),Object(N.a)(to,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-video-player"},[t.unpay||t.needCharge?t.needCharge?n("need-charge-tip",{key:"3"}):n("div",{key:"2",staticClass:"cover-mask pay-mask"},[n("BfsImg",{staticClass:"poster",attrs:{src:t.pic,cls:"pic",width:"480",height:"270"}}),t._v(" "),n("div",{staticClass:"mask"},[n("p",{staticClass:"normal-size"},[t._v("视频为付费视频，请前往App购买并观看")]),t._v(" "),void 0===t.userInfo.uname||t.userInfo.isLogin?t._e():n("p",{staticClass:"small-size"},[t._v("\n        如已购买，点击【登录】即可观看\n      ")])])],1):n("div",{key:"1",staticClass:"player-container"},[n("BfsImg",{staticClass:"pic",attrs:{src:t.pic,width:480,height:270},on:{report:function(e){return t.performanceReport("video")}}}),t._v(" "),n("div",{ref:"bofqi",staticClass:"player",attrs:{id:"bilibiliPlayer"}}),t._v(" "),t.isClient?t._e():n("div",{domProps:{innerHTML:t._s(t.loadPlayerScript)}})],1)],1)}),[],!1,null,"7a21b3b9",null).exports);function no(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function io(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?no(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):no(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var oo={components:{Avatar:dt.a},computed:io(io({},Object(p.c)({info:function(t){return t.video.viewInfo},upInfo:function(t){return t.video.upInfo},infoFolded:function(t){return t.video.infoFolded}})),{},{view:function(){var t,e;return Object(d.k)(null===(t=this.info)||void 0===t||null===(e=t.stat)||void 0===e?void 0:e.view)||0},danmaku:function(){var t,e;return Object(d.k)(null===(t=this.info)||void 0===t||null===(e=t.stat)||void 0===e?void 0:e.danmaku)||0},date:function(){var t;return Object(d.h)(1e3*((null===(t=this.info)||void 0===t?void 0:t.pubdate)||0))},isHot:function(){return this.info&&this.info.label&&1===this.info.label.type},missionId:function(){return this.info&&this.info.mission_id},fans:function(){return Object(d.k)(this.upInfo.follower)},like:function(){var t,e;return Object(d.k)(null===(t=this.info)||void 0===t||null===(e=t.stat)||void 0===e?void 0:e.like)},fav:function(){var t,e;return Object(d.k)(null===(t=this.info)||void 0===t||null===(e=t.stat)||void 0===e?void 0:e.favorite)},share:function(){var t,e;return Object(d.k)(null===(t=this.info)||void 0===t||null===(e=t.stat)||void 0===e?void 0:e.share)}}),methods:io(io({},Object(p.b)("video",["setInfoFolded"])),{},{tagClick:function(t){this.$customReportH5("click","titleTag",{type:t})},report:function(t,e){e?e.fold=this.infoFolded:e={fold:this.infoFolded},this.$customReportH5("click",t,e)},reportFold:function(t,e){this.report("desc_more",{clic_pos:t,isAwake:e})}}),beforeMount:function(){this.setInfoFolded(!0)},mounted:function(){this.isHot&&this.$customReportH5("show","titleTag",{type:"hot"}),this.missionId>0&&!this.isHot&&this.$customReportH5("show","titleTag",{type:"activity"})}},ro=(n(491),Object(N.a)(oo,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-video-info"},[n("div",{staticClass:"title-wrapper"},[n("div",{staticClass:"title"},[t.isHot?n("div",{staticClass:"label",on:{click:function(e){return t.tagClick("hot")}}},[n("i",{staticClass:"iconfont ic_popular"}),t._v(" "),n("span",[t._v("热门")])]):t.missionId>0?n("div",{staticClass:"label",on:{click:function(e){return t.tagClick("activity")}}},[n("span",[t._v("活动")])]):t._e(),t._v(" "),n("div",{staticClass:"title-name",class:{isHot:t.isHot,"has-activity":t.missionId>0},attrs:{spmid:"titlename"},on:{click:function(e){return t.report("titlename")}}},[n("h1",{staticClass:"title-text",domProps:{textContent:t._s(t.info.title)}})])]),t._v(" "),n("div",{staticClass:"icon-spread",on:{click:function(e){return t.reportFold("arrow",1)}}})]),t._v(" "),n("div",{staticClass:"up"},[t.info.disable_show_up_info?t._e():n("div",{on:{click:function(e){return t.report("upinfo")}}},[n("div",{staticClass:"face"},[n("div",{staticClass:"avatar-wrapper"},[n("Avatar",{staticClass:"avatar",attrs:{face:t.upInfo.card&&t.upInfo.card.face,size:"28"}})],1),t._v(" "),n("div",{staticClass:"info"},[n("a",{staticClass:"name"},[t._v(t._s(t.info.owner?t.info.owner.name:""))])])])])])])}),[],!1,null,"b5596272",null).exports),so={methods:{reportClick:function(t){this.$customReportH5("click",t)}},mounted:function(){var t=this;this.timeout=setTimeout((function(){t.$customReportH5("show","RecomTabDefault")}),1e3)},beforeDestroy:function(){clearTimeout(this.timeout)},components:{Related:Dt}},ao=(n(492),Object(N.a)(so,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bottom-tab"},[n("div",{staticClass:"bottom-tabs"},[n("div",{staticClass:"tab-item",on:{click:function(e){return t.reportClick("relatedTab")}}},[t._v("相关推荐")])]),t._v(" "),n("Related",{staticClass:"related-fit"})],1)}),[],!1,null,"009308d4",null).exports);function co(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}var lo={data:function(){return{errorMap:on}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?co(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):co(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(p.c)({error:function(t){return t.video.error},info:function(t){return t.video.viewInfo}})),methods:{reloadVideo:function(){this.$refs.player.initPlayer(!0)}},beforeDestroy:function(){document.body.className=""},components:{Nav:Ki.a,ErrorPage:u.a,Player:eo,Info:ro,PartBase:ue,BottomTab:ao,GoTop:xe.a,Footer:Se.a}},uo=(n(493),Object(N.a)(lo,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-video-new no-call-app"},[n("Nav"),t._v(" "),t.error?n("ErrorPage",{attrs:{reason:t.errorMap[t.error],from:"video"}}):t._e(),t._v(" "),n("Player",{ref:"player"}),t._v(" "),n("div",{staticClass:"scroll-module"},[n("Info"),t._v(" "),n("PartBase"),t._v(" "),n("BottomTab"),t._v(" "),n("GoTop"),t._v(" "),n("Footer")],1)],1)}),[],!1,null,"ad169b7a",null).exports);function po(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}var fo={data:function(){return{env:Hn.a}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?po(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):po(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(p.c)({})),methods:{report:function(t){this.$customReportH5("click",t)}},mounted:function(){this.$customReportH5("show","topBanner")},components:{OpenAppVideo:q.a,BfsImg:U.a}},vo=(n(494),Object(N.a)(fo,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("OpenAppVideo",{staticClass:"m-navbar gaokao",attrs:{spmid:"topBanner"},on:{"open-app":function(e){return t.report("topBanner")}}},[t.env&&"prod"!==t.env?n("div",{staticClass:"push-env"},[t._v(t._s(t.env))]):t._e(),t._v(" "),n("div",{staticClass:"logo"},[n("BfsImg",{staticClass:"img logo-img",attrs:{src:"//s1.hdslb.com/bfs/static/jinkela/long/mstation/logo-bilibili-pink.png",width:66,height:30,alt:"bilibili官网"}})],1),t._v(" "),n("div",{staticClass:"right"},[n("div",{staticClass:"hot"},[n("SVGIconNext",{staticClass:"icon",attrs:{icon:"M-MS/fire_popular_fill/1",size:16}}),t._v(" "),n("span",{staticClass:"text"},[t._v("2024年高考热点")])],1),t._v(" "),n("div",{staticClass:"btn"},[t._v("去围观")])])])}),[],!1,null,"407df6ce",null).exports),ho=n(41),mo=n.n(ho),bo={props:{list:Array},data:function(){return{index:0,containerStyle:{}}},computed:{loopList:function(){var t;return null!==(t=this.list)&&void 0!==t&&t.length?[].concat(mo()(this.list),[this.list[0]]):[]},currentItem:function(){return this.loopList[this.index]}},methods:{setContentStyle:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.containerStyle={transform:"translateY(-".concat(t,"%)"),transition:e?"all ".concat(300,"ms ease"):"none"}},reportShow:function(){var t,e;this.$customReportH5("show","outCommentCard",{rpid:null===(t=this.currentItem)||void 0===t?void 0:t.rpid,mid:null===(e=this.currentItem)||void 0===e?void 0:e.mid})},reportClick:function(){var t,e;this.$customReportH5("click","outCommentCard",{rpid:null===(t=this.currentItem)||void 0===t?void 0:t.rpid,mid:null===(e=this.currentItem)||void 0===e?void 0:e.mid})}},mounted:function(){var t=this;this.reportShow();this.list&&this.list.length>1&&function e(){t.timer=setTimeout((function(){if(t.index<=t.list.length-1){t.index++;var n=(100/t.loopList.length*t.index).toFixed(2);t.setContentStyle(n,!0),t.index===t.list.length&&(t.index=0,t.transitionTimer=setTimeout((function(){t.setContentStyle(0,!1)}),300))}e()}),5e3)}()},beforeDestroy:function(){clearTimeout(this.timer),clearTimeout(this.transitionTimer)},components:{BfsImg:U.a,OpenAppVideo:q.a}},yo=(n(495),Object(N.a)(bo,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("OpenAppVideo",{staticClass:"comment-carousel",attrs:{spmid:"outCommentCard"},on:{"open-app":t.reportClick}},[n("div",{staticClass:"bg"},[n("BfsImg",{attrs:{src:"//i0.hdslb.com/bfs/static/jinkela/long/mstation/video/gaokao-comment-bg.png",width:351,height:92}})],1),t._v(" "),n("div",{staticClass:"overflow-wrapper"},[n("div",{staticClass:"transform-container",style:t.containerStyle},t._l(t.loopList,(function(e){return n("div",{staticClass:"card"},[n("div",{staticClass:"author"},[n("BfsImg",{staticClass:"icon",attrs:{src:"//i0.hdslb.com/bfs/static/jinkela/long/mstation/video/icon-reply-nice.png",width:16,height:16}}),t._v(" "),e&&e.member&&e.member.uname?n("span",{staticClass:"text"},[t._v(t._s(e.member.uname)+":")]):t._e()],1),t._v(" "),e&&e.content&&e.content.message?n("div",{staticClass:"reply"},[t._v(t._s(e.content.message))]):t._e()])})),0)])])}),[],!1,null,"7c60a5b0",null).exports);function go(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Oo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?go(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):go(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var wo={computed:Oo(Oo({},Object(p.c)({abtest:function(t){return t.common.abtest},isGaokao:function(t){return t.video.isGaokao},replies:function(t){return t.video.replies}})),{},{repliesTop3:function(){return(this.replies||[]).slice(0,3)},isShowComment:function(){return"comment"===this.abtest.share_h5_hotspot_style&&this.repliesTop3.length>0}}),components:{Title:pt,Up:ht,CommentCarousel:yo}},_o=(n(496),Object(N.a)(wo,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"m-video-info"},[e("Title"),this._v(" "),this.isShowComment?e("CommentCarousel",{attrs:{list:this.repliesTop3}}):e("Up")],1)}),[],!1,null,"1ef920f2",null).exports),Co={methods:{reportClick:function(t){this.$customReportH5("click",t)}},mounted:function(){this.$customReportH5("show","RecomTabDefault")},components:{BfsImg:U.a,OpenAppVideo:q.a}},jo=(n(497),Object(N.a)(Co,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bottom-tab-header"},[n("div",{staticClass:"tab-item related",on:{click:function(e){return t.reportClick("relatedTab")}}},[n("BfsImg",{attrs:{src:"//i0.hdslb.com/bfs/static/jinkela/long/mstation/video/icon-gaokao-2024.png",width:109,height:16}})],1),t._v(" "),n("OpenAppVideo",{attrs:{spmid:"relatedMoreTab"}},[n("div",{staticClass:"tab-item more",on:{click:function(e){return t.reportClick("moreTab")}}},[t._v("查看更多")])])],1)}),[],!1,null,"2acf0e34",null).exports);function Po(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function ko(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Po(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Po(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Ao={computed:ko(ko({},Object(p.c)({aid:function(t){return t.video.aid},noCallApp:function(t){return t.common.noCallApp},hotspotMediaId:function(t){return t.video.hotspotMediaId}})),{},{cardType:function(){return this.noCallApp?"VideoItem":"VideoItemToApp"}}),methods:{reportShow:function(){var t=this;setTimeout((function(){if(t.$refs.relatedList){t.$scrollReportH5(t.$refs.relatedList.$el,".v-card-toapp","relateRecom",{item_id:function(t){return t&&t.dataset&&t.dataset.aid},position:function(t){return t&&t.__vue__&&t.__vue__.$attrs.index+1},item_label:function(t){return t&&t.dataset&&t.dataset.label},item_up_mid:function(t){var e;return t&&t.__vue__&&(null===(e=t.__vue__.info.owner)||void 0===e?void 0:e.mid)}})}}),1e3)},openApp:function(){this.$customReportH5("click","relateRecomMore")}},mounted:function(){var t=this;this.reportShow(),tt.a.$on("refreshRelated",(function(){var e;null===(e=t.$refs.relatedList)||void 0===e||e.refresh()}))},components:{FlowList:jt.a,OpenAppVideo:q.a}};n(498);function Do(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function So(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Do(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Do(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var xo={components:{BottomTabHeader:Ct,Related:Dt,BottomTabHeaderGaokao:jo,RelatedGaokao:Object(N.a)(Ao,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-video-related"},[n("FlowList",{ref:"relatedList",attrs:{attrs:{func:"getVideoGaokaoPlaylist",type:"page",query:{count:10,key:"getVideoGaokaoPlaylist",mediaId:this.hotspotMediaId,__refresh__:!0}},skeletonLength:6,"card-type":t.cardType,"tag-search":""},scopedSlots:t._u([{key:"no-more",fn:function(){return[n("OpenAppVideo",{staticClass:"related-openapp",attrs:{spmid:"333.401.click.relateRecomMore"},on:{"open-app":t.openApp}},[n("div",{staticClass:"m-related-openapp report-scroll-module",attrs:{id:"relateRecomMore"}},[n("span",{staticClass:"text"},[t._v("还看不够？App 内尽情探索吧")]),t._v(" "),n("i",{staticClass:"iconfont gengduo1"})])])]},proxy:!0},{key:"nothing",fn:function(){return[n("div",[n("p",{staticClass:"empty"},[t._v("什么都没有找到啊 T_T")])])]},proxy:!0}])})],1)}),[],!1,null,null,null).exports},computed:So(So({},Object(p.c)({abtest:function(t){return t.common.abtest},isGaokao:function(t){return t.video.isGaokao}})),{},{isGaokaoRelated:function(){return["video","comment"].includes(this.abtest.share_h5_hotspot_style)}}),methods:{reportClick:function(t){this.$customReportH5("click",t)}},mounted:function(){this.$customReportH5("show","RecomTabDefault")}},To=(n(499),Object(N.a)(xo,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bottom-tab"},[this.isGaokaoRelated?[e("BottomTabHeaderGaokao"),this._v(" "),e("RelatedGaokao",{staticClass:"related-fit"})]:[e("BottomTabHeader"),this._v(" "),e("Related",{staticClass:"related-fit"})]],2)}),[],!1,null,"7a4cae68",null).exports);function Io(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}var Eo=["打开App，围观高考第一手资讯","打开App，流畅又高清"],Ro={data:function(){return{btnText:Eo}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Io(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Io(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(p.c)({renderTabs:function(t){return t.video.renderTabs},viewInfo:function(t){return t.video.viewInfo}})),methods:{reloadVideo:function(){this.$refs.player.initPlayer(!0)}},components:{Nav:vo,Player:X,OpenAppBtn:st,Info:_o,PartBase:ue,BottomTab:To,OpenAppDialog:Te.a,Footer:Se.a}},$o=(n(500),Object(N.a)(Ro,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"m-video-new gaokao"},[n("Nav"),t._v(" "),n("Player",{ref:"player"}),t._v(" "),n("OpenAppBtn",{attrs:{btnText:t.btnText}}),t._v(" "),n("Info"),t._v(" "),n("PartBase"),t._v(" "),t.renderTabs?n("BottomTab"):t._e(),t._v(" "),n("OpenAppDialog"),t._v(" "),n("Footer")],1)}),[],!1,null,"373b3f79",null).exports),Bo=n(167),Mo=n(35),Lo=["维度","830","尘埃","石器时代","石器时代世界","虚荣VAINGLORY","#COMPASS","2KOL2","300大作战","300英雄","4399生死狙击","APEX英雄","ARCAEA","ARMA3","ASPHALT9","ASSETTOCORSA","BanG Dream","BEATSABER","BESIEGE","BNS","BRAWLSTARS","BVN","CALLOFDUTY","CF","CFHD","CF穿越火线","CF手游","CGSS","COC","COD","COD15","COD16","CODM","CODOL","COH2","COMPASS","cs","CS1.6","CSGO","CSGO国服","CSOL","","CYTUS","CYTUSII","DANCINGLINE","DBD","DEADBYDAYLIGHT","DEEMO","DESTINY2","DMC","DNF","DNF手游","DOA","DOA5","DOOM","DOTA","DOTA2","DUELLINKS","DYINGLIGHT","DYNAMIX","ELSWORD","ESCAPEFROMTARKOV","EVE","EXVS2","EXVSMBON","Fate⁄Grand Order","FF14","FF15","FF7","FFXIV","FGO","FGO抽卡","FGO国服","FGO日服","FIFA足球世界","FIFA19","FIFA20","FINALFANTASY","FNAF","FORHONOR","FORTNITE","GBF","GBO2","Geometry Dash","GEOMETRYDASH","GETTINGOVERIT","GMOD","gta","GTA4","GTA5","GTAOL","GTASA","GTAV","GTAVC","GVS","H1Z1","Helltaker","HITMAN","HITMAN2","HOLLOWKNIGHT","HUMANFALLFLAT","HYPIXEL","iwanna","ICEY","IWBTG","kof","KSP","L4D2","League of Legends","LEAGUEOFLEGENDS","LOL英雄联盟","LOL视频","LOL手游","LOVELIVE手游","LOVELIVE学园偶像祭","MAIMAI","MALODY","MAPLESTORY","MHW","MHWI","MHXX","Minecraft","MONSTERHUNTERWORLD","MUSEDASH","NBA2K19","NBA2K20","NBA2KOL","NBA2KOL2","ORI","OSU","OSU!","OSUMANIA","OW","PAYDAY2","PCR","PHIGROS","POE","POKEMMO","POKEMON","PUBG","PUBGMOBILE","PVZ","PVZ2","PVZ2国际版","PVZH","QQ飞车","QQ飞车手游","QQ炫舞","R6","R6S","RA3","RAINBOWSIX","ROBLOX","ROLLINGSKY","RUST腐蚀","SC2","SCP秘密实验室","SCP收容失效","SD敢达","SD敢达OL","SHADOWVERSE","SIMS4","SKY光遇","SPLATOON2","STANDOFF2","TABS","Team Fortress 2","TEKKEN7","TERRARIA","TF2","UNDERTALEAU","UNDERTALE传说之下","ut","VAINGLORY","VALORANT","WAR3","WARFRAME战争框架","WARROBOTS","WARTHUNDER","WOT","WOTB","WOW","WOWS","WWR","艾尔之光","艾希","暗黑破坏神","暗黑破坏神3","暗影格斗","暗影格斗2","暗影格斗3","暗影之诗","凹凸世界手游","奥德赛","奥拉星","奥拉星BOSS攻略","奥奇传说","奥日与黑暗森林","奥特曼格斗进化","奥特曼格斗进化0","奥特曼格斗进化3","奥特曼系列OL","巴士模拟","百闻牌","半条命","半条命2","宝可梦剑盾","堡垒之夜","暴走英雄坛","崩崩","崩崩崩","崩坏","崩坏2","崩坏3","崩坏学园","崩坏学园2","碧蓝航线","碧蓝幻想","飙酷车神2","冰封王座","不思议迷宫","部落冲突","部落冲突COC","部落冲突皇室战争","彩虹6号围攻","彩虹岛","彩虹六号","彩虹六号：围攻","彩虹六号围攻","层层恐惧","茶杯头","超级马里奥制造","超级马里奥制造2","超级玛丽","尘埃拉力赛","城市天际线","楚留香手游","穿越火线","穿越火线枪战王者","穿越火线手游","传奇世界","传奇手游","传奇私服","传说对决","传说之下","创世战车","创造与魔法","刺激战场","刺客信条","刺客信条奥德赛","刺客信条起源","大表哥","弹弹堂","刀剑乱舞","刀塔","刀塔2","刀塔传奇","捣蛋猪","盗贼之海","地平线4","地下城与勇士","地狱把妹王","底特律","底特律：变人","帝国时代","帝国时代2","帝国时代2决定版","第七史诗","第五人格","第五人格攻略","电击文库零境交错","东方永夜抄","冬日计划","动物森友会","都市天际线","斗地主","对马岛之魂","对峙2","多多自走棋","俄罗斯方块","恶灵附身","恶魔城","反恐精英","反恐精英OL","反恐精英全球攻势","方舟生存进化","方舟生存进化手游","方舟手游","放置江湖","飞车","飞车手游","非人学园","分手厨房","愤怒的小鸟","风暴英雄","风花雪月","枫之谷","封印者","辐射","辐射4","复古传奇","敢达OL","敢达争锋对决","钢琴块2","钢铁雄心","钢铁雄心4","港诡实录","高达战斗行动2","歌姬计划","公主连结Re:Dive","孤岛惊魂","孤岛惊魂5","古剑奇谭OL","古剑奇谭三","古剑奇谭网络版","古墓丽影","古墓丽影9","古墓丽影崛起","古树旋律","怪物弹珠","怪物猎人","怪物猎人：世界","怪物猎人P3","怪物猎人XX","怪物猎人世界","怪物猎人世界冰原","罐装的天才","光·遇","光环","光晕","光之子","鬼泣","鬼泣4","鬼泣5","滚动的天空","海岛奇兵","航海王燃烧意志","航天模拟器","合金弹头","合金装备","和班尼特福迪一起攻克难关","和平精英","黑暗欺骗","黑暗之魂","黑暗之魂2","黑暗之魂3","黑色行动","黑色行动4","黑色幸存者","黑神话","黑神话悟空","黑手党","红警","红色警戒2","红色警戒3","欢乐斗地主","欢乐麻将","环世界","荒岛求生","荒野大镖客","荒野大镖客2","荒野乱斗","荒野行动","皇家守卫军","皇牌空战","皇牌空战7","皇室战争","魂斗罗","火线精英","火焰纹章英雄","火影忍者OL","火影忍者OL手游","火影忍者究极风暴4","火影忍者手游","火影忍者手游秋风","火影忍者手游视频","火影手游","饥荒","饥荒联机版","饥荒游戏","机动战士敢达OL","激战2","极品飞车","极品飞车14","极限竞速","极限竞速地平线4","集合啦！动物森友会","几何冲刺","纪念碑谷","简单飞机","剑盾","剑灵","剑网3","剑网3指尖江湖","剑侠情缘三","剑侠情缘网络版叁","剑与远征","舰B","舰队COLLECTION","江南百景图","僵尸世界大战","街霸","街霸5","街霸5AE","街头霸王","街头霸王5","节奏大师","节奏光剑","究极风暴","决斗链接","决战！平安京","绝地求生","绝地求生刺激战场","绝地求生大逃杀","绝地求生视频","绝地求生手游","掘地求升","军团要塞2","卡车模拟","开心消消乐","坎巴拉","坎巴拉太空计划","看门狗","看门狗2","克鲁赛德战记","氪金对决","空洞骑士","恐怖奶奶","口袋妖怪","狂野飙车","狂野飙车8","狂野飙车9","昆特牌","狼人杀","老滚5","黎明杀机","黎明杀机手游","黎明杀鸡","恋与制作人","猎魂觉醒","猎杀对决","零境交错","流放之路","流亡黯道","流星蝴蝶剑","龙之谷","龙珠超宇宙2","龙珠斗士Z","龙珠激斗","龙族幻想","炉石传说","洛克人","洛克王国","洛奇英雄传","率土之滨","马里奥制造","马里奥制造2","漫漫长夜","猫和老鼠手游","猫里奥","猫咪大战争","冒险岛","冒险岛2","冒险岛私服","美国末日","美国末日2","美丽水世界","美食大战老鼠","梦100","梦幻模拟战","梦幻西游","梦幻西游2","梦幻西游手游","梦幻西游私服","梦三国","梦三国2","迷你世界","明日方舟","明日方舟危机合约","明日之后","命令与征服","命运2","命运冠位指定","模拟飞行","模拟火车","模拟人生","模拟人生4","摩尔庄园","魔法禁书目录手游","魔法雷霆","魔禁手游","魔力宝贝","魔兽","魔兽世界","魔兽世界怀旧服","魔兽争霸","魔兽争霸3冰封王座","魔塔","牧场物语","脑叶公司","尼尔","尼尔机械纪元","你画我猜","逆水寒","逆战","女神异闻录5","欧陆风云","欧陆风云4","欧洲卡车模拟","欧洲卡车模拟2","偶像大师","偶像梦幻祭","跑跑姜饼人","跑跑卡丁车","跑跑卡丁车手游","喷射战士","喷射战士2","七日杀","七日之都","奇迹暖暖","奇葩战斗家","奇异人生","骑砍","骑马与砍杀","骑马与砍杀2","倩女幽魂","枪神纪","枪战王者","求生之路","求生之路2","球球大作战","全境封锁","全境封锁2","全军出击","全面战争模拟器","全民枪战","全民枪战2","全民天团","拳皇","拳皇13","拳皇14","拳皇97","拳皇98","拳皇98C","拳皇命运","雀魂","热血传奇","热血江湖","人类一败涂地","仁王","仁王2","忍者必须死","忍者必须死3","任天堂明星大乱斗","荣耀战魂","如龙","塞尔达传说","塞尔达传说旷野之息","赛博朋克2077","赛尔号","赛尔号手游","三国全面战争","三国杀","三国杀OL","三国杀手游","三国杀移动版","三国无双","三国战纪","三国志","三国志战略版","三色绘恋","扫雷","杀戮尖塔","杀戮空间2","杀手2","杀手6","山海镜花","山口丁","闪耀暖暖","闪之轨迹","上古卷轴","上古卷轴5天际","少女卷轴","少女乐团派对","少女前线","少女前线手游","深海迷航","神都夜行录","神力科莎","神秘海域4","神之浩劫","生化危机","生化危机2","生化危机2重制版","生化危机3","生化危机3重制版","生化危机4","生化危机6","生化危机7","生死狙击","生死狙击手游","圣安地列斯","失落城堡","失落的龙约","时空召唤","实况足球手游","食物语","史诗战争模拟器","使命召唤","使命召唤12","使命召唤14","使命召唤15","使命召唤16","使命召唤OL","使命召唤ONLINE","使命召唤手游","使命召唤现代战争","世界征服者4","侍魂","收获日2","手机三国杀","守望","守望先锋OVERWATCH","双生视界","死或生","死或生5","死或生6","死神VS火影","死亡搁浅","死亡细胞","太鼓达人","太吾绘卷","泰拉瑞亚","泰拉瑞亚手机版","泰坦陨落","泰坦陨落2","贪玩蓝月","坦克世界","坦克世界闪击战","糖豆人","逃离塔科夫","逃跑吧！少年","逃生","逃生2","天刀","天刀OL","天龙八部","天命2","天天酷跑","天下3","天涯明月刀","天涯明月刀OL","天涯明月刀手游","天谕","跳舞的线","铁甲雄兵","铁拳7","铁锈战争","玩具熊的午夜后宫","万象物语","万智牌","王国保卫战","王牌战士","王者荣耀","王者荣耀MMD","王者荣耀百里守约","王者荣耀北笙","王者荣耀体验服","网易阴阳师","网易阴阳师手游","网易重装上阵","忘川风华录","未定事件簿","未转变者","蔚蓝","瘟疫公司","文明6","文明时代","文明时代2","文明重启","问道","问道私服","网易我的世界","我的世界","我的世界PE","我的世界PVP","我的世界起床战争","我的世界生存实况","我的勇者","巫师","巫师3狂猎","无限法则","无限战争","无主之地","无主之地2","无主之地3","武装突袭3","舞力全开","舞萌","侠盗飞车5","侠盗猎车手","侠盗猎车手5","现代战争5","香肠派对","香肠派对手游","消逝的光芒","小冰冰传奇","心灵终结","星级争霸2","星际","星际2","星际公民","星际战甲","星际战甲国际服","星际争霸","星际争霸2","星际争霸2合作模式","星露谷物语","星战前夜","虚空之遗","轩辕剑","炫舞时代","血源诅咒","亚服战舰","烟雨江湖","痒痒鼠","一梦江湖","一梦江湖手游","一起来捉妖","一人之下手游","以撒的结合","以撒的结合胎衣","阴阳师","阴阳师：百闻牌","阴阳师抽卡","阴阳师手游","音乐世界","隐形守护者","英魂之刃","英魂之刃口袋版","英魂之刃手游","英雄传说","英雄连2","英雄联盟","英雄联盟手游","樱花校园模拟器","影之诗SHADOWVERSE","永远的7日之都","勇者斗恶龙","幽灵行动","幽灵行动荒野","游戏王","游戏王ADS","游戏王DUELLINKS","游戏王YGOCORE","游戏王YGOPRO","游戏王决斗链接","浴血长空","遇见逆水寒","元气骑士","原神","约会大作战手游","约战手游","月圆之夜","云裳羽衣","造梦无双","造梦西游","造梦西游3","造梦西游4","造梦西游OL","造桥","战锤","战锤2全面战争","战锤40000","战锤40K","战锤全面战争","战地","战地1","战地2","战地3","战地4","战地5","战地风云","战地风云5","战地一","战魂铭人","战舰联盟","战舰少女","战舰少女R","战舰世界","战舰世界国服","战舰世界亚服","战雷","战神","战神4","战术小队","战双帕弥什","战双帕弥什 战场降临","战意","战争机器人","战争框架","战争雷霆","战争雷霆国际服","战争模拟器","战争前线","这是我的战争","真人快打","真实赛车3","隻狼","植物大战僵尸","植物大战僵尸1","植物大战僵尸2","植物大战僵尸2国际版","植物大战僵尸2中文版","植物大战僵尸英雄","只狼：影逝二度","纸人","指尖江湖","中古战锤","重装上阵","重装战姬","舟游","子弹力量","最后生还者","最后生还者2","最强NBA","最强蜗牛","最终幻想","最终幻想14","最终幻想15","最终幻想7","最终幻想7重制版","罪恶都市"],Ho=["维度","53","攻略","实况","实况解说","第一视角","游戏集锦","精彩集锦","教学","解说","游戏解说","演示","集锦","剧情","游戏攻略","娱乐解说","教程","剪辑","游戏杂谈","新人向","沙雕实况","杂谈","游戏实况","试玩","赛事","教学视频","攻略解说","技巧","预告资讯","沙雕日常","第一人称","童年回忆","手游情报","沙雕集锦","游戏资讯","游戏预告","游戏试玩","游戏推荐","游戏攻略","游戏剪辑","通关流程","操作集锦","游戏解说","游戏剧情","游戏实况","游戏录像","游戏直播","游戏动画","游戏杂谈","新手教程","手游试玩","桌游教程","打野教学","击杀集锦","沙雕游戏集"];function Vo(t,e){for(var n=0;n<t.length;n++)for(var i=0;i<e.length;i++)if(t[n].tag_name===e[i])return e[i];return""}var No=function(t,e){var n=function(t,e){for(var n=Vo(e,Lo),i=Vo(e,Ho),o=n?"_".concat(n):"",r=i?"_".concat(i):"",s="".concat(t.title,"_").concat(t.tname,"热门视频"),a=t.title+o+r,c=t.title+"_哔哩哔哩bilibili"+o+r,l=(t.desc||"").substr(0,30),u=t.stat&&t.stat.like||0,p=l.length<5?"":"简介：".concat(l,"；"),d=[s,a,c],f=["".concat(p).concat("更多实用攻略教学，爆笑沙雕集锦，你所不知道的游戏知识，热门游戏视频7*24小时持续更新,尽在哔哩哔哩bilibili"),"".concat(p,"更多").concat(n,"实用攻略教学，爆笑沙雕集锦，你所不知道的").concat(n,"游戏知识，热门").concat(n,"游戏视频7*24小时持续更新,尽在哔哩哔哩bilibili"),"".concat(p).concat(u?"已有"+u+"名"+n+"玩家向您推荐本视频，点击前往哔哩哔哩bilibili一起观看；":"","更多实用攻略教学，爆笑沙雕集锦，你所不知道的游戏知识，热门游戏视频7*24小时持续更新,尽在哔哩哔哩bilibili")],v=[{title:"".concat(t.title||"视频去哪了呢？","_哔哩哔哩_bilibili"),description:(t.desc||"").replace(/\n/g,"").substring(0,200)||t.title||""}],h=0;h<d.length;h++)for(var m=0;m<f.length;m++)v.push({title:d[h],description:f[m]});return v}(t,e),i=String(t.aid);return n[Number(i.substr(i.length-1))]||{}},Fo=n(27);function Uo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function qo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Uo(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uo(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Go={components:{NormalVideo:cn,TinyVideo:Ln,CustomVideo:yi,SemVideo:Ji,NoCallAppVideo:uo,GaokaoVideo:$o},data:function(){return{errorMap:{"-404":"啊叻？视频不见了？",62002:"啊叻？视频不见了？",62003:"稿件已审核通过，等待发布中",62004:"视频正在审核中，请耐心等待！",62005:"啊叻？视频不见了？","-403":"啊叻？视频不见了？"}}},computed:qo(qo({},Object(p.c)({info:function(t){return t.video.viewInfo},p:function(t){return t.video.p},playUrlInfo:function(t){return t.video.playUrlInfo},currentTime:function(t){return t.video.currentTime},playState:function(t){return t.video.playState},isClient:function(t){return t.video.isClient},gameMode:function(t){return t.video.gameMode},abtest:function(t){return t.common.abtest},isWxTagLaunch:function(t){return t.common.isWxTagLaunch},browser:function(t){return t.common.browser},tinyApp:function(t){return t.common.tinyApp},trigglePlay:function(t){return t.video.trigglePlay},keyword:function(t){return t.video.keyword},keywordSearch:function(t){return t.search.keyword},bsourceStore:function(t){return t.video.bsource},related:function(t){return t.video.related},upInfo:function(t){return t.video.upInfo},tags:function(t){return t.video.tags},noCallApp:function(t){return t.common.noCallApp},isTab3:function(t){return t.video.isTab3},isCustom:function(t){return t.video.isCustom},isSem:function(t){return t.video.isSem},isGaokao:function(t){return t.video.isGaokao}})),{},{isHot:function(){return this.info&&this.info.label&&1===this.info.label.type},view:function(){var t,e,n;return Object(d.k)((null===(t=this.info)||void 0===t?void 0:t.stat)&&(null===(e=this.info)||void 0===e||null===(n=e.stat)||void 0===n?void 0:n.view))||"-"},viewTime:function(){var t,e,n,i,o,r;return(null===(t=this.info)||void 0===t?void 0:t.vt_display)||(null===(e=this.info)||void 0===e||null===(n=e.stat)||void 0===n?void 0:n.vt_display)||Object(d.k)((null===(i=this.info)||void 0===i?void 0:i.stat)&&(null===(o=this.info)||void 0===o||null===(r=o.stat)||void 0===r?void 0:r.vt))+"分钟"||"-"},enableVt:function(){var t;return null===(t=this.info)||void 0===t?void 0:t.enable_vt},disableShowUpInfo:function(){var t;return null===(t=this.info)||void 0===t?void 0:t.disable_show_up_info},owner:function(){var t,e;return(null===(t=this.info)||void 0===t||null===(e=t.owner)||void 0===e?void 0:e.name)||""},breadcrumb:function(){for(var t=Mo.a.length,e=0;e<t;e++)for(var n=Mo.a[e].sub&&Mo.a[e].sub.length||0,i=0;i<n;i++)if(this.info.tid===Mo.a[e].sub[i].rid)return{route:Mo.a[e].route,name:Mo.a[e].name,tid:Mo.a[e].rid,subRoute:Mo.a[e].sub[i].route,subName:Mo.a[e].sub[i].name,subTid:Mo.a[e].sub[i].rid,hide:Mo.a[e].hide,subHide:Mo.a[e].sub[i].hide};return{}},shareLink:function(){var t=this.$route.query,e=t.share_source,n=t.share_times,i=t.wxfid,o=Object(d.o)("openid"),r=window.location.href;if(o)if(i)r=r.replace(/wxfid(=[^&?#]*)?/,"wxfid=".concat(o));else{var s=r.indexOf("?")>=0?"&":"?";r="".concat(r).concat(s,"wxfid=").concat(o)}return e?n&&!isNaN(parseInt(n))?r.replace(/share\_times\=.*?(\&|$)/,"share_times=".concat(parseInt(n)+1,"&")):r+"&share_times=1":r},extraType:function(){var t,e,n="page=".concat(this.p-1);return null!==(t=this.info.rights)&&void 0!==t&&t.is_stein_gate||null!==(e=this.info.rights)&&void 0!==e&&e.ugc_pay||"play"!==this.playState&&"pause"!==this.playState||!(this.currentTime>0)||(n+="&start_progress=".concat(parseInt(1e3*this.currentTime))),"story"!==this.$route.query["-Atype"]&&"story"!==this.$route.query["-Arouter"]||(n+="&-Arouter=story&source=web"),n},isMultiP:function(){var t,e;return(null===(t=this.info)||void 0===t||null===(e=t.pages)||void 0===e?void 0:e.length)>1},openType:function(){return this.isTab3?"tab3video":"video"}}),methods:qo(qo({},Object(p.b)("video",["setP"])),{},{bindShare:function(){var t=this;return o()(c.a.mark((function e(){var n,i,o,r,s,a,l,u,p,d,f,v,h,m,b,y,g,O,w,_,C,j,P,k,A,D;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(n=window.browser)&&void 0!==n&&null!==(i=n.version)&&void 0!==i&&i.MicroMessenger||null!==(o=window.browser)&&void 0!==o&&null!==(r=o.version)&&void 0!==r&&r.qq&&(null===(s=window.browser)||void 0===s||null===(a=s.version)||void 0===a||!a.mqq)||null!==(l=window.browser)&&void 0!==l&&null!==(u=l.version)&&void 0!==u&&u.mbaidu){e.next=2;break}return e.abrupt("return");case 2:return b=t.info.title+"-哔哩哔哩",y=null!==(p=window.browser)&&void 0!==p&&null!==(d=p.version)&&void 0!==d&&d.ios?"ios":"android",e.next=6,Object(at.l)(t.info.aid,t.$route.query.unique_k,y);case 6:g=e.sent,O=g&&g.data&&g.data.picture,w=O||t.info.pic,_=t.disableShowUpInfo?"":"UP主：".concat(t.owner,"\n"),C=t.enableVt?"".concat(_,"播放：").concat(t.viewTime):"".concat(_,"播放：").concat(t.view),j=t.shareLink,null!==(f=window.browser)&&void 0!==f&&null!==(v=f.version)&&void 0!==v&&v.MicroMessenger?(P={title:b,imgUrl:w,desc:C,link:j},Object(Bo.a)(P)):null!==(h=window.browser)&&void 0!==h&&null!==(m=h.version)&&void 0!==m&&m.mbaidu?null==(k=document.head.querySelector("meta[name=description]"))||k.setAttribute("content",C):null===(A=window.browser)||void 0===A||null===(D=A.app)||void 0===D||D.setShareInfo({title:b,description:C.replace("\n"," "),img_url:w,url:j});case 13:case"end":return e.stop()}}),e)})))()},autoOpen:function(){var t=this;this.gameMode||this.tinyApp||this.isCustom||this.noCallApp||(setTimeout((function(){t.$customReportH5("click","videoAutoOpen",{avid:t.info.aid})}),1e3),window.addEventListener("load",(function(){var e;setTimeout((function(){tt.a.$emit("openAppGuiderShow")}),200),Object(ye.a)({avid:t.info.aid,cid:t.info.cid,type:t.openType,extra:t.extraType,addition:{is_story_play:null===(e=t.info)||void 0===e?void 0:e.is_story_play}},(function(){var e,n,i;return t.$customReportH5("click","autoOpenApp",{awake_spmid:"333.401.click.autoOpenApp",keyword:t.keyword||t.keywordSearch,item_id:null===(e=t.info)||void 0===e?void 0:e.aid,avid:null===(n=t.info)||void 0===n?void 0:n.aid,cid:null===(i=t.info)||void 0===i?void 0:i.cid})}))})))},playerInterface:function(){var t=this;window.PlayerAgent={openApp:function(e){var n,i,o,r=e.aid||t.info.aid,s=e.bvid||t.info.bvid,a=r===t.info.aid?t.extraType:"",c=e.event?"333.401.click.".concat(e.event):"333.401.click.playEnd_video";"zhihu"!==window.uaSource?Object(ye.g)({id:r,bvid:s,type:t.openType,extra:a,spmid:c,onlySchema:(null===(n=window.browser)||void 0===n||null===(i=n.version)||void 0===i||!i.mbaidu)&&e.onlySchema,disableYingyongbao:e.disableYingyongbao,addition:{is_story_play:null===(o=t.info)||void 0===o?void 0:o.is_story_play}}):tt.a.$emit("showQrDialog",{spmid:c,aid:r,bvid:s,extra:a})},wxOpenTagDom:function(e){var n;if(t.isWxTagLaunch){var i=e.aid||t.info.aid,o=Object(ye.c)({type:t.openType,id:i,spmid:e.event?"333.401.click.".concat(e.event):"333.401.click.playEnd_video",extra:i===t.info.aid?"".concat(t.extraType):"",addition:{is_story_play:null===(n=t.info)||void 0===n?void 0:n.is_story_play}}),r="playEnd_replay"!==e.event&&i===t.info.aid;return'\n            <wx-open-launch-app appid="wxcb8d4298c6a09bcb" extinfo="'.concat(o,'" class="wx-open-app-btn ').concat(r?"update-extinfo":"",'">\n              <script type="text/wxtag-template">\n                <style>\n                  * {\n                    -webkit-tap-highlight-color: transparent !important;\n                  }\n                  * {\n                    position: absolute;\n                    top: 0;\n                    left: 0;\n                    right: 0;\n                    bottom: 0;\n                  }\n                </style>\n                <div class="template"></div>\n              <\/script>\n            </wx-open-launch-app>')}},changeVideo:function(e){var n=e.aid,i=e.bvid;t.$router.push(t.$transformLink(n,i))}}},loadVideo:function(){var t=this;return o()(c.a.mark((function e(){var n,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={reqParams:{aid:Number(t.$route.params.id),bvid:t.$route.params.bid?"BV1"+t.$route.params.bid:"",isShare:!(null===(n=t.$route.query)||void 0===n||!n.unique_k),preload:!1},store:t.$store},e.next=3,t.$store.dispatch("video/LOAD_VIEW_DATA",i);case 3:tt.a.$emit("refreshRelated");case 4:case"end":return e.stop()}}),e)})))()}}),beforeMount:function(){var t,e;(this.playerInterface(),this.isClient)||(null!==(t=window.browser)&&void 0!==t&&null!==(e=t.version)&&void 0!==e&&e.MicroMessenger||!this.$route.query.share_source||history.pushState({},"",this.shareLink))},mounted:function(){var t=this;return o()(c.a.mark((function e(){var n,i,o,r,s,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=/bddt|bdtb|bdwp|bdwk|sjbd/.test(window.bsource),("game"===t.$route.query.from||n)&&(t.$store.state.video.gameMode=!0),t.isMount=!0,!t.error){e.next=5;break}return e.abrupt("return");case 5:if(t.browser.wxwork&&(r=null!==(i=t.info)&&void 0!==i&&i.pic?(null===(o=t.info)||void 0===o?void 0:o.pic).replace("http","https")+"@600w_600h_1c.png":"",s=t.isHot?"https://i0.hdslb.com/bfs/archive/popular/hotlabel/".concat(t.info.aid,"_south.jpg")+"@600w_600h_1c.png":r,(a=document.getElementById("wxwork-share-pic"))&&(a.src=s)),t.isWxTagLaunch&&(t.$watch("currentTime",(function(t){t>=0&&(document.querySelectorAll("wx-open-launch-app.update-extinfo")||[]).forEach((function(e){var n=e.getAttribute("extinfo");n.indexOf("start_progress")>=0?n=n.replace(/start_progress=\d+/,"start_progress=".concat(parseInt(1e3*t))):n+="&start_progress=".concat(parseInt(1e3*t)),e.setAttribute("extinfo",n)}))})),(document.querySelectorAll("wx-open-launch-app.need-update")||[]).forEach((function(t){var e=t.getAttribute("event"),n=window.PlayerAgent.wxOpenTagDom({event:e}),i=document.createElement("div");i.innerHTML=n.trim(),t.before(i.childNodes[0]),t.remove()}))),t.isClient){e.next=11;break}return t.autoOpen(),t.bindShare(),e.abrupt("return");case 11:t.loadVideo(),t.error||t.bindShare();case 13:case"end":return e.stop()}}),e)})))()},asyncData:function(t){return o()(c.a.mark((function e(){var n,i,o,r,s,a,l,u,p,d,f,v,h,m;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.store,o=t.context,r=void 0===o?{}:o,s=t.route,a=s.params.id||"",l=s.params.bid?"BV1"+s.params.bid:"",u=r.query&&r.query||s.query&&s.query||{},p=i.state.common.abtest||{},r.reqParams={aid:a,bvid:l,isShare:!(null==u||!u.unique_k),preload:!0},i.commit("common/setUa",r.userAgent),i.commit("video/setAid",a),i.commit("video/setBvid",l),i.commit("video/setP",u.p||1),i.commit("video/setGameMode","game"===u.from),i.commit("video/setIsTab3",/^mall/.test(u.spmid||"")),r.appname=["web.interface"],r.store=i,e.next=16,i.dispatch("video/LOAD_JUDGE_USER",r);case 16:return e.next=18,i.dispatch("video/LOAD_VIEW_DATA",r);case 18:return e.next=20,i.dispatch("list/initData",{func:"getVideoRelatedNew",type:"page",query:{key:"getVideoRelatedNew",count:r.query&&r.query.gameMode?10:6,related:i.state.video.related}});case 20:if(!i.state.video.error){e.next=23;break}return e.next=23,i.dispatch("common/LOAD_ERROR_RECORD",r);case 23:if(d=i.state.video&&i.state.video.viewInfo,"custom-search"===(null==u?void 0:u.from)?(i.commit("video/setIsCustom",!0),i.commit("video/setBsource",u.bsource||r.bsource||""),i.commit("video/setReportMsg",{avid:d.aid,cid:d.cid,isFromNaturalSearch:!1,page_type:"share",keyword:decodeURIComponent((null==u?void 0:u.keyword)||"")})):"bdss_dtldy"===(null==u?void 0:u.bsource)?(i.commit("video/setIsSem",!0),i.commit("video/setReportMsg",{keywordid:u.keywordid,userid:u.userid,planid:u.planid,unitid:u.unitid,creative:u.creative,bd_vid:u.bd_vid,avid:d.aid,cid:d.cid,isFromNaturalSearch:!1,page_type:"sem"})):(v=!(null!=u&&u.unique_k||null!==(f=i.state.video)&&void 0!==f&&f.trigglePlay),i.commit("video/setIsCustom",!1),i.commit("video/setIsSem",!1),i.commit("video/setBsource",r.bsource||""),i.commit("video/setReportMsg",{avid:d.aid,cid:d.cid,isFromNaturalSearch:v,page_type:v?"natural":"share"})),h="trend"===p.share_h5_trend&&!!u.unique_k,i.commit("video/setIsShowTrend",h),m=["title","video","comment"].includes(p.share_h5_hotspot_style)&&!!u.unique_k&&(null===(n=i.state.video)||void 0===n?void 0:n.isGaokaoArc),i.commit("video/setIsGaokao",m),!m){e.next=32;break}return e.next=32,i.dispatch("video/LOAD_HOTSPOT_DATA",{oid:null==d?void 0:d.aid},r);case 32:case"end":return e.stop()}}),e)})))()},beforeRouteUpdate:function(t,e,n){var i=this;return o()(c.a.mark((function o(){var r,s,a;return c.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(n(),(null===(r=t.params)||void 0===r?void 0:r.bid)===(null===(s=e.params)||void 0===s?void 0:s.bid)){o.next=8;break}return i.setP(Number(t.query.p||1)),o.next=5,i.loadVideo();case 5:i.bindShare(),o.next=9;break;case 8:t.query.p!==e.query.p&&(i.setP(Number(t.query.p||1)),null===(a=i.$refs.video)||void 0===a||a.reloadVideo(),i.bindShare());case 9:case"end":return o.stop()}}),o)})))()},beforeRouteBack:function(t,e,n){var i=this;return o()(c.a.mark((function t(){var e;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(e=window.commentInstance)||void 0===e||!e.showDialog){t.next=4;break}return window.commentInstance.hideSubComment(),n(!1),t.abrupt("return");case 4:if(!i.browser.MicroMessenger||i.browser.wxwork||!window.player){t.next=13;break}return t.next=7,window.player.isFullScreen();case 7:if(!t.sent){t.next=13;break}return window.player.exitFullScreen(),i.$customReportH5("click","fullScreenBack",{back_type:0}),n(!1),t.abrupt("return");case 13:n();case 14:case"end":return t.stop()}}),t)})))()},beforeRouteLeave:function(t,e,n){if(this.browser.wxwork){var i=document.getElementById("wxwork-share-pic");i&&(i.src="https://i0.hdslb.com/bfs/static/jinkela/long/images/512.png")}n()},metaInfo:function(){null===(t=this.info)||void 0===t||null===(e=t.stat)||void 0===e||e.vt;var t,e,n,i,o,r,s,a,c,l,u,p,d,f,v,h,m,b,y,g,O,w,_,C,j,P,k,A,D,S,x,T,I,E,R,$,B,M,L,H,V,N,F,U=(null===(n=this.info)||void 0===n||null===(i=n.stat)||void 0===i?void 0:i.view)||0,q=(null===(o=this.info)||void 0===o||null===(r=o.stat)||void 0===r?void 0:r.danmaku)||0,G=(null===(s=this.info)||void 0===s||null===(a=s.stat)||void 0===a?void 0:a.like)||0,W=(null===(c=this.info)||void 0===c||null===(l=c.stat)||void 0===l?void 0:l.coin)||0,Q=(null===(u=this.info)||void 0===u||null===(p=u.stat)||void 0===p?void 0:p.favorite)||0,z=(null===(d=this.info)||void 0===d||null===(f=d.stat)||void 0===f?void 0:f.share)||0,Y=null===(v=this.upInfo)||void 0===v?void 0:v.card,J=this.error&&this.errorMap[this.error],K=this.enableVt?this.viewTime+"分钟播放":"视频播放量 "+this.view,X="".concat(K,"、弹幕量 ").concat(q,"、点赞数 ").concat(G,"、投硬币枚数 ").concat(W,"、收藏人数 ").concat(Q,"、转发人数 ").concat(z),Z=this.related.map((function(t){return t.title})).slice(0,10).join("，"),tt="视频作者 ".concat((null==Y?void 0:Y.name)||"",", 作者简介 ").concat((null==Y?void 0:Y.sign)||""),et=J||"".concat((null===(h=this.info)||void 0===h?void 0:h.title)||"","_哔哩哔哩_bilibili"),nt="".concat(((null===(m=this.info)||void 0===m?void 0:m.desc)||"").replace(/\n/g,"").substring(0,200)||(null===(b=this.info)||void 0===b?void 0:b.title),", ").concat(X,", ").concat(tt,"，相关视频：").concat(Z),it=new Date("2021-05-28").getTime()/1e3;if(4===Number(this.breadcrumb.tid)&&(null===(y=this.info)||void 0===y?void 0:y.ctime)>it){var ot=No(this.info,this.tags);ot.title&&ot.description&&(et=ot.title,nt="".concat(ot.description," ").concat(X,", ").concat(tt,"，相关视频：").concat(Z))}if(this.isMultiP)if(null!==(N=this.$route)&&void 0!==N&&null!==(F=N.query)&&void 0!==F&&F.p){var rt,st,at,ct,lt,ut,pt=(null===(rt=this.info)||void 0===rt||null===(st=rt.pages[this.p-1])||void 0===st?void 0:st.part)||"";et="".concat(pt||J||(null===(at=this.info)||void 0===at?void 0:at.title),"_哔哩哔哩_bilibili"),nt="".concat(pt,"是").concat(null===(ct=this.info)||void 0===ct?void 0:ct.title,"的第").concat(this.p,"集视频，该合集共计").concat((null===(lt=this.info)||void 0===lt||null===(ut=lt.pages)||void 0===ut?void 0:ut.length)||"多","集，视频收藏或关注UP主，及时了解更多相关视频内容。")}else{var dt,ft,vt,ht,mt,bt,yt=(null===(dt=((null===(vt=this.info)||void 0===vt?void 0:vt.pages)||[]).slice(0,3))||void 0===dt||null===(ft=dt.map((function(t){return t.part})))||void 0===ft?void 0:ft.join("、"))||"";nt="".concat(null===(ht=this.info)||void 0===ht?void 0:ht.title,"共计").concat((null===(mt=this.info)||void 0===mt||null===(bt=mt.pages)||void 0===bt?void 0:bt.length)||"多","条视频，包括：").concat(yt,"等，UP主更多精彩视频，请关注UP账号。")}var gt="https://m.bilibili.com/video/".concat(null===(g=this.info)||void 0===g?void 0:g.bvid,"/"),Ot=(null===(O=this.info)||void 0===O?void 0:O.duration)||((null===(w=this.playUrlInfo)||void 0===w||null===(_=w[0])||void 0===_?void 0:_.length)||0)/1e3||0,wt=null!==(C=this.info)&&void 0!==C&&C.pic?(null===(j=this.info)||void 0===j?void 0:j.pic).replace("http","https")+"@600w_600h_1c.png":"",_t=(null===(P=this.info)||void 0===P||null===(k=P.owner)||void 0===k?void 0:k.name)||"",Ct=(null===(A=this.tags)||void 0===A||null===(D=A.map((function(t){return t.tag_name})))||void 0===D?void 0:D.join(","))||"",jt=this.breadcrumb.name||"",Pt=this.breadcrumb.subName||"",kt=this.isHot?"https://i0.hdslb.com/bfs/archive/popular/hotlabel/".concat(this.info.aid,"_south.jpg")+"@600w_600h_1c.png":wt,At="https://player.bilibili.com/player.html?bvid=".concat(this.info.bvid).concat(this.p?"&page="+this.p:""),Dt={"@context":"https://schema.org","@type":"VideoObject",name:(null===(S=this.info)||void 0===S?void 0:S.title)||"",description:nt||"",thumbnailUrl:[wt],uploadDate:new Date(1e3*((null===(x=this.info)||void 0===x?void 0:x.pubdate)||0)).toISOString(),duration:Object(Fo.d)(Ot),embedUrl:At,interactionStatistic:{"@type":"InteractionCounter",interactionType:{"@type":"WatchAction"},userInteractionCount:U}},St=this.breadcrumb.name?{"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"首页",item:"https://m.bilibili.com/"},{"@type":"ListItem",position:2,name:null===(T=this.breadcrumb)||void 0===T?void 0:T.name,item:"https://m.bilibili.com/channel/v/".concat(null===(I=this.breadcrumb)||void 0===I?void 0:I.route,"/")},{"@type":"ListItem",position:3,name:null===(E=this.breadcrumb)||void 0===E?void 0:E.subName,item:"https://m.bilibili.com/channel/v/".concat(null===(R=this.breadcrumb)||void 0===R?void 0:R.route,"/").concat(null===($=this.breadcrumb)||void 0===$?void 0:$.subRoute,"/")},{"@type":"ListItem",position:4,name:null===(B=this.info)||void 0===B?void 0:B.title}]}:{"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"首页",item:"https://m.bilibili.com/"},{"@type":"ListItem",position:2,name:null===(M=this.info)||void 0===M?void 0:M.title}]},xt=[{innerHTML:"\n          window.isWxTagLaunch = ".concat(this.isWxTagLaunch,"\n        "),type:"text/javascript"},{innerHTML:JSON.stringify(Dt),type:"application/ld+json"},{innerHTML:JSON.stringify(St),type:"application/ld+json"}];return{title:et,meta:[{name:"spm_prefix",content:"333.401"},{itemprop:"keywords",name:"keywords",content:this.isMultiP?Ct:"".concat(null===(L=this.info)||void 0===L?void 0:L.title,",").concat(Ct,",").concat(jt,",").concat(Pt,",哔哩哔哩,Bilibili,B站,弹幕")},{itemprop:"description",name:"description",content:nt},{itemprop:"author",name:"author",content:_t},{itemprop:"name",name:"title",content:et},{itemprop:"url",content:gt},{itemprop:"image",content:kt},{itemprop:"thumbnailUrl",content:wt},{itemprop:"uploadDate",content:Object(Fo.c)(1e3*((null===(H=this.info)||void 0===H?void 0:H.pubdate)||0))||""},{itemprop:"datePublished",content:Object(Fo.c)(1e3*((null===(V=this.info)||void 0===V?void 0:V.ctime)||0))||""},{property:"og:type",content:"video"},{property:"og:title",content:et},{property:"og:image",content:kt},{property:"og:url",content:gt},{property:"og:width",content:846},{property:"og:height",content:566}],link:[{rel:"canonical",href:"https://www.bilibili.com/video/".concat(this.info.bvid,"/")}],script:xt,__dangerouslyDisableSanitizers:"script"}}},Wo=(n(501),Object(N.a)(Go,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"video"},[this.tinyApp?e("TinyVideo",{ref:"video"}):this.noCallApp?e("NoCallAppVideo",{ref:"video"}):this.isCustom?e("CustomVideo",{ref:"video"}):this.isSem?e("SemVideo",{ref:"video"}):this.isGaokao?e("GaokaoVideo",{ref:"video"}):e("NormalVideo",{ref:"video"})],1)}),[],!1,null,null,null));e.default=Wo.exports}])]);